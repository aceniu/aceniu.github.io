<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è‰¾æ–¯ç‰› Blog</title>
  <icon>https://www.gravatar.com/avatar/c64997c9d7912f88b4e2d0181ae88958</icon>
  <subtitle>ä¸€ç”Ÿå¿—æ„¿åªè¦å¹³å‡¡å¿«ä¹</subtitle>
  <link href="https://blog.halfsummer.xyz/atom.xml" rel="self"/>
  
  <link href="https://blog.halfsummer.xyz/"/>
  <updated>2023-02-16T16:48:41.964Z</updated>
  <id>https://blog.halfsummer.xyz/</id>
  
  <author>
    <name>aceniu</name>
    <email>123354319@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo ä¸­ä½¿ç”¨ emoji è¡¨æƒ…</title>
    <link href="https://blog.halfsummer.xyz/posts/9fc1e5d1.html"/>
    <id>https://blog.halfsummer.xyz/posts/9fc1e5d1.html</id>
    <published>2023-02-15T00:05:54.000Z</published>
    <updated>2023-02-16T16:48:41.964Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1ï¼‰å®‰è£…">1ï¼‰å®‰è£…</h1><details class="folding-tag" blue open><summary> å®‰è£… </summary>              <div class='content'>              <p>å¸è½½ <code>hexo-renderer-marked</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br></pre></td></tr></table></figure><p>å®‰è£… <code>hexo-renderer-markdown-it</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure>              </div>            </details><hr><h1 id="2ï¼‰é…ç½®">2ï¼‰é…ç½®</h1><details class="folding-tag" blue open><summary> é…ç½® </summary>              <div class='content'>              <p>å®Œæˆæ’ä»¶å®‰è£…åè¿˜éœ€è¦ä¿®æ”¹ Hexo ç«™ç‚¹é…ç½®æ–‡ä»¶ <code>_config.yml</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># markdown æ¸²æŸ“å¼•æ“é…ç½®</span></span><br><span class="line"><span class="comment"># é»˜è®¤æ˜¯hexo-renderer-marked</span></span><br><span class="line"><span class="comment"># å½“å‰ä¸ºhexo-renderer-markdown-it</span></span><br><span class="line">markdown:</span><br><span class="line">  preset: <span class="string">&quot;default&quot;</span></span><br><span class="line">  render:</span><br><span class="line">    html: <span class="literal">true</span></span><br><span class="line">    xhtmlOut: <span class="literal">false</span></span><br><span class="line">    <span class="comment"># langPrefix: &quot;language-&quot;</span></span><br><span class="line">    breaks: <span class="literal">true</span></span><br><span class="line">    linkify: <span class="literal">true</span></span><br><span class="line">    typographer: <span class="literal">true</span></span><br><span class="line">    quotes: <span class="string">&quot;â€œâ€â€˜â€™&quot;</span></span><br><span class="line">  <span class="comment"># enable_rules:</span></span><br><span class="line">  <span class="comment"># disable_rules:</span></span><br><span class="line">  plugins:</span><br><span class="line">    - markdown-it-abbr</span><br><span class="line">    - markdown-it-cjk-breaks</span><br><span class="line">    - markdown-it-deflist</span><br><span class="line">    - markdown-it-emoji</span><br><span class="line">    - markdown-it-footnote</span><br><span class="line">    <span class="comment"># - markdown-it-ins</span></span><br><span class="line">    <span class="comment"># - markdown-it-mark</span></span><br><span class="line">    <span class="comment"># - markdown-it-sub</span></span><br><span class="line">    <span class="comment"># - markdown-it-sup</span></span><br><span class="line">    <span class="comment"># - markdown-it-checkbox</span></span><br><span class="line">    <span class="comment"># - markdown-it-imsize</span></span><br><span class="line">    <span class="comment"># - markdown-it-expandable</span></span><br><span class="line">    <span class="comment"># - name: markdown-it-container</span></span><br><span class="line">    <span class="comment">#   options: success</span></span><br><span class="line">    <span class="comment"># - name: markdown-it-container</span></span><br><span class="line">    <span class="comment">#   options: tips</span></span><br><span class="line">    <span class="comment"># - name: markdown-it-container</span></span><br><span class="line">    <span class="comment">#   options: warning</span></span><br><span class="line">    <span class="comment"># - name: markdown-it-container</span></span><br><span class="line">    <span class="comment">#   options: danger</span></span><br><span class="line">  anchors:</span><br><span class="line">    level: 1</span><br><span class="line">    collisionSuffix: <span class="string">&quot;v&quot;</span></span><br><span class="line">    permalink: <span class="literal">false</span></span><br><span class="line">    permalinkClass: <span class="string">&quot;header-anchor&quot;</span></span><br><span class="line">    <span class="comment"># permalinkSide: &quot;left&quot;</span></span><br><span class="line">    permalinkSymbol: <span class="string">&quot;Â¶&quot;</span></span><br><span class="line">    <span class="comment"># case: 0</span></span><br><span class="line">    <span class="comment"># separator: &quot;-&quot;</span></span><br></pre></td></tr></table></figure>              </div>            </details><hr><h1 id="3ï¼‰ä½¿ç”¨æ–¹æ³•">3ï¼‰ä½¿ç”¨æ–¹æ³•</h1><details class="folding-tag" blue><summary> ä½¿ç”¨æ–¹æ³• </summary>              <div class='content'>              <p>è¾“å…¥å¯¹åº”çš„emojiç¼–ç å°±è¡Œäº†ä¾‹å¦‚ï¼šè¾“å…¥ç¬‘è„¸å¯¹åº”çš„ emoji ç¼–ç  ğŸ˜„ å°±å¯ä»¥å¾—åˆ° ğŸ˜„</p>              </div>            </details><hr><h1 id="4ï¼‰emojiè¡¨æƒ…ç¼–ç åˆé›†">4ï¼‰emojiè¡¨æƒ…ç¼–ç åˆé›†</h1><details class="folding-tag" blue><summary> emojiè¡¨æƒ…ç¼–ç åˆé›† </summary>              <div class='content'>              <p>People</p><table>  <thead>    <tr>      <th align="left">ğŸ˜<code>:neutral_face:</code></th>      <th align="left">ğŸ˜„<code>:smile:</code></th>      <th align="left">ğŸ˜†<code>:laughing:</code></th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">ğŸ˜Š<code>:blush:</code></td>      <td align="left">ğŸ˜ƒ<code>:smiley:</code></td>      <td align="left">â˜ºï¸<code>:relaxed:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜<code>:smirk:</code></td>      <td align="left">ğŸ˜<code>:heart_eyes:</code></td>      <td align="left">ğŸ˜˜<code>:kissing_heart:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜š<code>:kissing_closed_eyes:</code></td>      <td align="left">ğŸ˜³<code>:flushed:</code></td>      <td align="left">ğŸ˜Œ<code>:relieved:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜†<code>:satisfied:</code></td>      <td align="left">ğŸ˜<code>:grin:</code></td>      <td align="left">ğŸ˜‰<code>:wink:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜œ<code>:stuck_out_tongue_winking_eye:</code></td>      <td align="left">ğŸ˜<code>:stuck_out_tongue_closed_eyes:</code></td>      <td align="left">ğŸ˜€<code>:grinning:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜—<code>:kissing:</code></td>      <td align="left">ğŸ˜™<code>:kissing_smiling_eyes:</code></td>      <td align="left">ğŸ˜›<code>:stuck_out_tongue:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜´<code>:sleeping:</code></td>      <td align="left">ğŸ˜Ÿ<code>:worried:</code></td>      <td align="left">ğŸ˜¦<code>:frowning:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜§<code>:anguished:</code></td>      <td align="left">ğŸ˜®<code>:open_mouth:</code></td>      <td align="left">ğŸ˜¬<code>:grimacing:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜•<code>:confused:</code></td>      <td align="left">ğŸ˜¯<code>:hushed:</code></td>      <td align="left">ğŸ˜‘<code>:expressionless:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜’<code>:unamused:</code></td>      <td align="left">ğŸ˜…<code>:sweat_smile:</code></td>      <td align="left">ğŸ˜“<code>:sweat:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜¥<code>:disappointed_relieved:</code></td>      <td align="left">ğŸ˜©<code>:weary:</code></td>      <td align="left">ğŸ˜”<code>:pensive:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜<code>:disappointed:</code></td>      <td align="left">ğŸ˜–<code>:confounded:</code></td>      <td align="left">ğŸ˜¨<code>:fearful:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜°<code>:cold_sweat:</code></td>      <td align="left">ğŸ˜£<code>:persevere:</code></td>      <td align="left">ğŸ˜¢<code>:cry:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜­<code>:sob:</code></td>      <td align="left">ğŸ˜‚<code>:joy:</code></td>      <td align="left">ğŸ˜²<code>:astonished:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜±<code>:scream:</code></td>      <td align="left">ğŸ’­<code>:thought_balloon:</code></td>      <td align="left">ğŸ˜«<code>:tired_face:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜ <code>:angry:</code></td>      <td align="left">ğŸ˜¡<code>:rage:</code></td>      <td align="left">ğŸ˜¤<code>:triumph:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜ª<code>:sleepy:</code></td>      <td align="left">ğŸ˜‹<code>:yum:</code></td>      <td align="left">ğŸ˜·<code>:mask:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜<code>:sunglasses:</code></td>      <td align="left">ğŸ˜µ<code>:dizzy_face:</code></td>      <td align="left">ğŸ‘¿<code>:imp:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜ˆ<code>:smiling_imp:</code></td>      <td align="left">ğŸ’¬<code>:speech_balloon:</code></td>      <td align="left">ğŸ˜¶<code>:no_mouth:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜‡<code>:innocent:</code></td>      <td align="left">ğŸ‘½<code>:alien:</code></td>      <td align="left">ğŸ’›<code>:yellow_heart:</code></td>    </tr>    <tr>      <td align="left">ğŸ’™<code>:blue_heart:</code></td>      <td align="left">ğŸ’œ<code>:purple_heart:</code></td>      <td align="left">â¤ï¸<code>:heart:</code></td>    </tr>    <tr>      <td align="left">ğŸ’š<code>:green_heart:</code></td>      <td align="left">ğŸ’”<code>:broken_heart:</code></td>      <td align="left">ğŸ’“<code>:heartbeat:</code></td>    </tr>    <tr>      <td align="left">ğŸ’—<code>:heartpulse:</code></td>      <td align="left">ğŸ’•<code>:two_hearts:</code></td>      <td align="left">ğŸ’<code>:revolving_hearts:</code></td>    </tr>    <tr>      <td align="left">ğŸ’˜<code>:cupid:</code></td>      <td align="left">ğŸ’–<code>:sparkling_heart:</code></td>      <td align="left">âœ¨<code>:sparkles:</code></td>    </tr>    <tr>      <td align="left">â­ï¸<code>:star:</code></td>      <td align="left">ğŸŒŸ<code>:star2:</code></td>      <td align="left">ğŸ’«<code>:dizzy:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¥<code>:boom:</code></td>      <td align="left">ğŸ’¥<code>:collision:</code></td>      <td align="left">ğŸ’¢<code>:anger:</code></td>    </tr>    <tr>      <td align="left">â—ï¸<code>:exclamation:</code></td>      <td align="left">â“<code>:question:</code></td>      <td align="left">â•<code>:grey_exclamation:</code></td>    </tr>    <tr>      <td align="left">â”<code>:grey_question:</code></td>      <td align="left">ğŸ’¤<code>:zzz:</code></td>      <td align="left">ğŸ’¨<code>:dash:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¦<code>:sweat_drops:</code></td>      <td align="left">ğŸ¶<code>:notes:</code></td>      <td align="left">ğŸµ<code>:musical_note:</code></td>    </tr>    <tr>      <td align="left">ğŸ”¥<code>:fire:</code></td>      <td align="left">ğŸ’©<code>:hankey:</code></td>      <td align="left">ğŸ’©<code>:poop:</code></td>    </tr>    <tr>      <td align="left">ğŸ’©<code>:shit:</code></td>      <td align="left">ğŸ‘<code>:+1:</code></td>      <td align="left">ğŸ‘<code>:thumbsup:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘<code>:-1:</code></td>      <td align="left">ğŸ‘<code>:thumbsdown:</code></td>      <td align="left">ğŸ‘Œ<code>:ok_hand:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘Š<code>:punch:</code></td>      <td align="left">ğŸ‘Š<code>:facepunch:</code></td>      <td align="left">âœŠ<code>:fist:</code></td>    </tr>    <tr>      <td align="left">âœŒï¸<code>:v:</code></td>      <td align="left">ğŸ‘‹<code>:wave:</code></td>      <td align="left">âœ‹<code>:hand:</code></td>    </tr>    <tr>      <td align="left">âœ‹<code>:raised_hand:</code></td>      <td align="left">ğŸ‘<code>:open_hands:</code></td>      <td align="left">â˜ï¸<code>:point_up:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘‡<code>:point_down:</code></td>      <td align="left">ğŸ‘ˆ<code>:point_left:</code></td>      <td align="left">ğŸ‘‰<code>:point_right:</code></td>    </tr>    <tr>      <td align="left">ğŸ™Œ<code>:raised_hands:</code></td>      <td align="left">ğŸ™<code>:pray:</code></td>      <td align="left">ğŸ‘†<code>:point_up_2:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘<code>:clap:</code></td>      <td align="left">ğŸ’ª<code>:muscle:</code></td>      <td align="left">ğŸ¤˜<code>:metal:</code></td>    </tr>    <tr>      <td align="left">ğŸ–•<code>:fu:</code></td>      <td align="left">ğŸš¶<code>:walking:</code></td>      <td align="left">ğŸƒ<code>:runner:</code></td>    </tr>    <tr>      <td align="left">ğŸƒ<code>:running:</code></td>      <td align="left">ğŸ‘«<code>:couple:</code></td>      <td align="left">ğŸ‘ª<code>:family:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘¬<code>:two_men_holding_hands:</code></td>      <td align="left">ğŸ‘­<code>:two_women_holding_hands:</code></td>      <td align="left">ğŸ’ƒ<code>:dancer:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘¯<code>:dancers:</code></td>      <td align="left">ğŸ™†<code>:ok_woman:</code></td>      <td align="left">ğŸ™…<code>:no_good:</code></td>    </tr>    <tr>      <td align="left">ğŸ’<code>:information_desk_person:</code></td>      <td align="left">ğŸ™‹<code>:raising_hand:</code></td>      <td align="left">ğŸ‘°<code>:bride_with_veil:</code></td>    </tr>    <tr>      <td align="left">ğŸ™<code>:person_with_pouting_face:</code></td>      <td align="left">ğŸ™<code>:person_frowning:</code></td>      <td align="left">ğŸ™‡<code>:bow:</code></td>    </tr>    <tr>      <td align="left">ğŸ’<code>:couplekiss:</code></td>      <td align="left">ğŸ’‘<code>:couple_with_heart:</code></td>      <td align="left">ğŸ’†<code>:massage:</code></td>    </tr>    <tr>      <td align="left">ğŸ’‡<code>:haircut:</code></td>      <td align="left">ğŸ’…<code>:nail_care:</code></td>      <td align="left">ğŸ‘¦<code>:boy:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘§<code>:girl:</code></td>      <td align="left">ğŸ‘©<code>:woman:</code></td>      <td align="left">ğŸ‘¨<code>:man:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘¶<code>:baby:</code></td>      <td align="left">ğŸ‘µ<code>:older_woman:</code></td>      <td align="left">ğŸ‘´<code>:older_man:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘±<code>:person_with_blond_hair:</code></td>      <td align="left">ğŸ‘²<code>:man_with_gua_pi_mao:</code></td>      <td align="left">ğŸ‘³<code>:man_with_turban:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘·<code>:construction_worker:</code></td>      <td align="left">ğŸ‘®<code>:cop:</code></td>      <td align="left">ğŸ‘¼<code>:angel:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘¸<code>:princess:</code></td>      <td align="left">ğŸ˜º<code>:smiley_cat:</code></td>      <td align="left">ğŸ˜¸<code>:smile_cat:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜»<code>:heart_eyes_cat:</code></td>      <td align="left">ğŸ˜½<code>:kissing_cat:</code></td>      <td align="left">ğŸ˜¼<code>:smirk_cat:</code></td>    </tr>    <tr>      <td align="left">ğŸ™€<code>:scream_cat:</code></td>      <td align="left">ğŸ˜¿<code>:crying_cat_face:</code></td>      <td align="left">ğŸ˜¹<code>:joy_cat:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜¾<code>:pouting_cat:</code></td>      <td align="left">ğŸ‘¹<code>:japanese_ogre:</code></td>      <td align="left">ğŸ‘º<code>:japanese_goblin:</code></td>    </tr>    <tr>      <td align="left">ğŸ™ˆ<code>:see_no_evil:</code></td>      <td align="left">ğŸ™‰<code>:hear_no_evil:</code></td>      <td align="left">ğŸ™Š<code>:speak_no_evil:</code></td>    </tr>    <tr>      <td align="left">ğŸ’‚<code>:guardsman:</code></td>      <td align="left">ğŸ’€<code>:skull:</code></td>      <td align="left">ğŸ¾<code>:feet:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘„<code>:lips:</code></td>      <td align="left">ğŸ’‹<code>:kiss:</code></td>      <td align="left">ğŸ’§<code>:droplet:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘‚<code>:ear:</code></td>      <td align="left">ğŸ‘€<code>:eyes:</code></td>      <td align="left">ğŸ‘ƒ<code>:nose:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘…<code>:tongue:</code></td>      <td align="left">ğŸ’Œ<code>:love_letter:</code></td>      <td align="left">ğŸ‘¤<code>:bust_in_silhouette:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘¥<code>:busts_in_silhouette:</code></td>      <td align="left"></td>      <td align="left"></td>    </tr>  </tbody></table><p>Nature</p><table>  <thead>    <tr>      <th align="left">â˜€ï¸<code>:sunny:</code></th>      <th align="left">â˜”ï¸<code>:umbrella:</code></th>      <th align="left">â˜ï¸<code>:cloud:</code></th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">â„ï¸<code>:snowflake:</code></td>      <td align="left">â›„ï¸<code>:snowman:</code></td>      <td align="left">âš¡ï¸<code>:zap:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ€<code>:cyclone:</code></td>      <td align="left">ğŸŒ<code>:foggy:</code></td>      <td align="left">ğŸŒŠ<code>:ocean:</code></td>    </tr>    <tr>      <td align="left">ğŸ±<code>:cat:</code></td>      <td align="left">ğŸ¶<code>:dog:</code></td>      <td align="left">ğŸ­<code>:mouse:</code></td>    </tr>    <tr>      <td align="left">ğŸ¹<code>:hamster:</code></td>      <td align="left">ğŸ°<code>:rabbit:</code></td>      <td align="left">ğŸº<code>:wolf:</code></td>    </tr>    <tr>      <td align="left">ğŸ¸<code>:frog:</code></td>      <td align="left">ğŸ¯<code>:tiger:</code></td>      <td align="left">ğŸ¨<code>:koala:</code></td>    </tr>    <tr>      <td align="left">ğŸ»<code>:bear:</code></td>      <td align="left">ğŸ·<code>:pig:</code></td>      <td align="left">ğŸ½<code>:pig_nose:</code></td>    </tr>    <tr>      <td align="left">ğŸ®<code>:cow:</code></td>      <td align="left">ğŸ—<code>:boar:</code></td>      <td align="left">ğŸµ<code>:monkey_face:</code></td>    </tr>    <tr>      <td align="left">ğŸ’<code>:monkey:</code></td>      <td align="left">ğŸ´<code>:horse:</code></td>      <td align="left">ğŸ<code>:racehorse:</code></td>    </tr>    <tr>      <td align="left">ğŸ«<code>:camel:</code></td>      <td align="left">ğŸ‘<code>:sheep:</code></td>      <td align="left">ğŸ˜<code>:elephant:</code></td>    </tr>    <tr>      <td align="left">ğŸ¼<code>:panda_face:</code></td>      <td align="left">ğŸ<code>:snake:</code></td>      <td align="left">ğŸ¦<code>:bird:</code></td>    </tr>    <tr>      <td align="left">ğŸ¤<code>:baby_chick:</code></td>      <td align="left">ğŸ¥<code>:hatched_chick:</code></td>      <td align="left">ğŸ£<code>:hatching_chick:</code></td>    </tr>    <tr>      <td align="left">ğŸ”<code>:chicken:</code></td>      <td align="left">ğŸ§<code>:penguin:</code></td>      <td align="left">ğŸ¢<code>:turtle:</code></td>    </tr>    <tr>      <td align="left">ğŸ›<code>:bug:</code></td>      <td align="left">ğŸ<code>:honeybee:</code></td>      <td align="left">ğŸœ<code>:ant:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:beetle:</code></td>      <td align="left">ğŸŒ<code>:snail:</code></td>      <td align="left">ğŸ™<code>:octopus:</code></td>    </tr>    <tr>      <td align="left">ğŸ <code>:tropical_fish:</code></td>      <td align="left">ğŸŸ<code>:fish:</code></td>      <td align="left">ğŸ³<code>:whale:</code></td>    </tr>    <tr>      <td align="left">ğŸ‹<code>:whale2:</code></td>      <td align="left">ğŸ¬<code>:dolphin:</code></td>      <td align="left">ğŸ„<code>:cow2:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:ram:</code></td>      <td align="left">ğŸ€<code>:rat:</code></td>      <td align="left">ğŸƒ<code>:water_buffalo:</code></td>    </tr>    <tr>      <td align="left">ğŸ…<code>:tiger2:</code></td>      <td align="left">ğŸ‡<code>:rabbit2:</code></td>      <td align="left">ğŸ‰<code>:dragon:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:goat:</code></td>      <td align="left">ğŸ“<code>:rooster:</code></td>      <td align="left">ğŸ•<code>:dog2:</code></td>    </tr>    <tr>      <td align="left">ğŸ–<code>:pig2:</code></td>      <td align="left">ğŸ<code>:mouse2:</code></td>      <td align="left">ğŸ‚<code>:ox:</code></td>    </tr>    <tr>      <td align="left">ğŸ²<code>:dragon_face:</code></td>      <td align="left">ğŸ¡<code>:blowfish:</code></td>      <td align="left">ğŸŠ<code>:crocodile:</code></td>    </tr>    <tr>      <td align="left">ğŸª<code>:dromedary_camel:</code></td>      <td align="left">ğŸ†<code>:leopard:</code></td>      <td align="left">ğŸˆ<code>:cat2:</code></td>    </tr>    <tr>      <td align="left">ğŸ©<code>:poodle:</code></td>      <td align="left">ğŸ¾<code>:paw_prints:</code></td>      <td align="left">ğŸ’<code>:bouquet:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ¸<code>:cherry_blossom:</code></td>      <td align="left">ğŸŒ·<code>:tulip:</code></td>      <td align="left">ğŸ€<code>:four_leaf_clover:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ¹<code>:rose:</code></td>      <td align="left">ğŸŒ»<code>:sunflower:</code></td>      <td align="left">ğŸŒº<code>:hibiscus:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:maple_leaf:</code></td>      <td align="left">ğŸƒ<code>:leaves:</code></td>      <td align="left">ğŸ‚<code>:fallen_leaf:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ¿<code>:herb:</code></td>      <td align="left">ğŸ„<code>:mushroom:</code></td>      <td align="left">ğŸŒµ<code>:cactus:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ´<code>:palm_tree:</code></td>      <td align="left">ğŸŒ²<code>:evergreen_tree:</code></td>      <td align="left">ğŸŒ³<code>:deciduous_tree:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ°<code>:chestnut:</code></td>      <td align="left">ğŸŒ±<code>:seedling:</code></td>      <td align="left">ğŸŒ¼<code>:blossom:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ¾<code>:ear_of_rice:</code></td>      <td align="left">ğŸš<code>:shell:</code></td>      <td align="left">ğŸŒ<code>:globe_with_meridians:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ<code>:sun_with_face:</code></td>      <td align="left">ğŸŒ<code>:full_moon_with_face:</code></td>      <td align="left">ğŸŒš<code>:new_moon_with_face:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ‘<code>:new_moon:</code></td>      <td align="left">ğŸŒ’<code>:waxing_crescent_moon:</code></td>      <td align="left">ğŸŒ“<code>:first_quarter_moon:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ”<code>:waxing_gibbous_moon:</code></td>      <td align="left">ğŸŒ•<code>:full_moon:</code></td>      <td align="left">ğŸŒ–<code>:waning_gibbous_moon:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ—<code>:last_quarter_moon:</code></td>      <td align="left">ğŸŒ˜<code>:waning_crescent_moon:</code></td>      <td align="left">ğŸŒœ<code>:last_quarter_moon_with_face:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ›<code>:first_quarter_moon_with_face:</code></td>      <td align="left">ğŸŒ”<code>:moon:</code></td>      <td align="left">ğŸŒ<code>:earth_africa:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ<code>:earth_americas:</code></td>      <td align="left">ğŸŒ<code>:earth_asia:</code></td>      <td align="left">ğŸŒ‹<code>:volcano:</code></td>    </tr>    <tr>      <td align="left">ğŸŒŒ<code>:milky_way:</code></td>      <td align="left">â›…ï¸<code>:partly_sunny:</code></td>      <td align="left"></td>    </tr>  </tbody></table><p>Objects</p><table>  <thead>    <tr>      <th align="left">ğŸ<code>:bamboo:</code></th>      <th align="left">ğŸ’<code>:gift_heart:</code></th>      <th align="left">ğŸ<code>:dolls:</code></th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">ğŸ’<code>:school_satchel:</code></td>      <td align="left">ğŸ“<code>:mortar_board:</code></td>      <td align="left">ğŸ<code>:flags:</code></td>    </tr>    <tr>      <td align="left">ğŸ†<code>:fireworks:</code></td>      <td align="left">ğŸ‡<code>:sparkler:</code></td>      <td align="left">ğŸ<code>:wind_chime:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘<code>:rice_scene:</code></td>      <td align="left">ğŸƒ<code>:jack_o_lantern:</code></td>      <td align="left">ğŸ‘»<code>:ghost:</code></td>    </tr>    <tr>      <td align="left">ğŸ…<code>:santa:</code></td>      <td align="left">ğŸ„<code>:christmas_tree:</code></td>      <td align="left">ğŸ<code>:gift:</code></td>    </tr>    <tr>      <td align="left">ğŸ””<code>:bell:</code></td>      <td align="left">ğŸ”•<code>:no_bell:</code></td>      <td align="left">ğŸ‹<code>:tanabata_tree:</code></td>    </tr>    <tr>      <td align="left">ğŸ‰<code>:tada:</code></td>      <td align="left">ğŸŠ<code>:confetti_ball:</code></td>      <td align="left">ğŸˆ<code>:balloon:</code></td>    </tr>    <tr>      <td align="left">ğŸ”®<code>:crystal_ball:</code></td>      <td align="left">ğŸ’¿<code>:cd:</code></td>      <td align="left">ğŸ“€<code>:dvd:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¾<code>:floppy_disk:</code></td>      <td align="left">ğŸ“·<code>:camera:</code></td>      <td align="left">ğŸ“¹<code>:video_camera:</code></td>    </tr>    <tr>      <td align="left">ğŸ¥<code>:movie_camera:</code></td>      <td align="left">ğŸ’»<code>:computer:</code></td>      <td align="left">ğŸ“º<code>:tv:</code></td>    </tr>    <tr>      <td align="left">ğŸ“±<code>:iphone:</code></td>      <td align="left">â˜ï¸<code>:phone:</code></td>      <td align="left">â˜ï¸<code>:telephone:</code></td>    </tr>    <tr>      <td align="left">ğŸ“<code>:telephone_receiver:</code></td>      <td align="left">ğŸ“Ÿ<code>:pager:</code></td>      <td align="left">ğŸ“ <code>:fax:</code></td>    </tr>    <tr>      <td align="left">ğŸ’½<code>:minidisc:</code></td>      <td align="left">ğŸ“¼<code>:vhs:</code></td>      <td align="left">ğŸ”‰<code>:sound:</code></td>    </tr>    <tr>      <td align="left">ğŸ”ˆ<code>:speaker:</code></td>      <td align="left">ğŸ”‡<code>:mute:</code></td>      <td align="left">ğŸ“¢<code>:loudspeaker:</code></td>    </tr>    <tr>      <td align="left">ğŸ“£<code>:mega:</code></td>      <td align="left">âŒ›ï¸<code>:hourglass:</code></td>      <td align="left">â³<code>:hourglass_flowing_sand:</code></td>    </tr>    <tr>      <td align="left">â°<code>:alarm_clock:</code></td>      <td align="left">âŒšï¸<code>:watch:</code></td>      <td align="left">ğŸ“»<code>:radio:</code></td>    </tr>    <tr>      <td align="left">ğŸ“¡<code>:satellite:</code></td>      <td align="left">â¿<code>:loop:</code></td>      <td align="left">ğŸ”<code>:mag:</code></td>    </tr>    <tr>      <td align="left">ğŸ”<code>:mag_right:</code></td>      <td align="left">ğŸ”“<code>:unlock:</code></td>      <td align="left">ğŸ”’<code>:lock:</code></td>    </tr>    <tr>      <td align="left">ğŸ”<code>:lock_with_ink_pen:</code></td>      <td align="left">ğŸ”<code>:closed_lock_with_key:</code></td>      <td align="left">ğŸ”‘<code>:key:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¡<code>:bulb:</code></td>      <td align="left">ğŸ”¦<code>:flashlight:</code></td>      <td align="left">ğŸ”†<code>:high_brightness:</code></td>    </tr>    <tr>      <td align="left">ğŸ”…<code>:low_brightness:</code></td>      <td align="left">ğŸ”Œ<code>:electric_plug:</code></td>      <td align="left">ğŸ”‹<code>:battery:</code></td>    </tr>    <tr>      <td align="left">ğŸ“²<code>:calling:</code></td>      <td align="left">âœ‰ï¸<code>:email:</code></td>      <td align="left">ğŸ“«<code>:mailbox:</code></td>    </tr>    <tr>      <td align="left">ğŸ“®<code>:postbox:</code></td>      <td align="left">ğŸ›€<code>:bath:</code></td>      <td align="left">ğŸ›<code>:bathtub:</code></td>    </tr>    <tr>      <td align="left">ğŸš¿<code>:shower:</code></td>      <td align="left">ğŸš½<code>:toilet:</code></td>      <td align="left">ğŸ”§<code>:wrench:</code></td>    </tr>    <tr>      <td align="left">ğŸ”©<code>:nut_and_bolt:</code></td>      <td align="left">ğŸ”¨<code>:hammer:</code></td>      <td align="left">ğŸ’º<code>:seat:</code></td>    </tr>    <tr>      <td align="left">ğŸ’°<code>:moneybag:</code></td>      <td align="left">ğŸ’´<code>:yen:</code></td>      <td align="left">ğŸ’µ<code>:dollar:</code></td>    </tr>    <tr>      <td align="left">ğŸ’·<code>:pound:</code></td>      <td align="left">ğŸ’¶<code>:euro:</code></td>      <td align="left">ğŸ’³<code>:credit_card:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¸<code>:money_with_wings:</code></td>      <td align="left">ğŸ“§<code>:e-mail:</code></td>      <td align="left">ğŸ“¥<code>:inbox_tray:</code></td>    </tr>    <tr>      <td align="left">ğŸ“¤<code>:outbox_tray:</code></td>      <td align="left">âœ‰ï¸<code>:envelope:</code></td>      <td align="left">ğŸ“¨<code>:incoming_envelope:</code></td>    </tr>    <tr>      <td align="left">ğŸ“¯<code>:postal_horn:</code></td>      <td align="left">ğŸ“ª<code>:mailbox_closed:</code></td>      <td align="left">ğŸ“¬<code>:mailbox_with_mail:</code></td>    </tr>    <tr>      <td align="left">ğŸ“­<code>:mailbox_with_no_mail:</code></td>      <td align="left">ğŸšª<code>:door:</code></td>      <td align="left">ğŸš¬<code>:smoking:</code></td>    </tr>    <tr>      <td align="left">ğŸ’£<code>:bomb:</code></td>      <td align="left">ğŸ”«<code>:gun:</code></td>      <td align="left">ğŸ”ª<code>:hocho:</code></td>    </tr>    <tr>      <td align="left">ğŸ’Š<code>:pill:</code></td>      <td align="left">ğŸ’‰<code>:syringe:</code></td>      <td align="left">ğŸ“„<code>:page_facing_up:</code></td>    </tr>    <tr>      <td align="left">ğŸ“ƒ<code>:page_with_curl:</code></td>      <td align="left">ğŸ“‘<code>:bookmark_tabs:</code></td>      <td align="left">ğŸ“Š<code>:bar_chart:</code></td>    </tr>    <tr>      <td align="left">ğŸ“ˆ<code>:chart_with_upwards_trend:</code></td>      <td align="left">ğŸ“‰<code>:chart_with_downwards_trend:</code></td>      <td align="left">ğŸ“œ<code>:scroll:</code></td>    </tr>    <tr>      <td align="left">ğŸ“‹<code>:clipboard:</code></td>      <td align="left">ğŸ“†<code>:calendar:</code></td>      <td align="left">ğŸ“…<code>:date:</code></td>    </tr>    <tr>      <td align="left">ğŸ“‡<code>:card_index:</code></td>      <td align="left">ğŸ“<code>:file_folder:</code></td>      <td align="left">ğŸ“‚<code>:open_file_folder:</code></td>    </tr>    <tr>      <td align="left">âœ‚ï¸<code>:scissors:</code></td>      <td align="left">ğŸ“Œ<code>:pushpin:</code></td>      <td align="left">ğŸ“<code>:paperclip:</code></td>    </tr>    <tr>      <td align="left">âœ’ï¸<code>:black_nib:</code></td>      <td align="left">âœï¸<code>:pencil2:</code></td>      <td align="left">ğŸ“<code>:straight_ruler:</code></td>    </tr>    <tr>      <td align="left">ğŸ“<code>:triangular_ruler:</code></td>      <td align="left">ğŸ“•<code>:closed_book:</code></td>      <td align="left">ğŸ“—<code>:green_book:</code></td>    </tr>    <tr>      <td align="left">ğŸ“˜<code>:blue_book:</code></td>      <td align="left">ğŸ“™<code>:orange_book:</code></td>      <td align="left">ğŸ““<code>:notebook:</code></td>    </tr>    <tr>      <td align="left">ğŸ“”<code>:notebook_with_decorative_cover:</code></td>      <td align="left">ğŸ“’<code>:ledger:</code></td>      <td align="left">ğŸ“š<code>:books:</code></td>    </tr>    <tr>      <td align="left">ğŸ”–<code>:bookmark:</code></td>      <td align="left">ğŸ“›<code>:name_badge:</code></td>      <td align="left">ğŸ”¬<code>:microscope:</code></td>    </tr>    <tr>      <td align="left">ğŸ”­<code>:telescope:</code></td>      <td align="left">ğŸ“°<code>:newspaper:</code></td>      <td align="left">ğŸˆ<code>:football:</code></td>    </tr>    <tr>      <td align="left">ğŸ€<code>:basketball:</code></td>      <td align="left">âš½ï¸<code>:soccer:</code></td>      <td align="left">âš¾ï¸<code>:baseball:</code></td>    </tr>    <tr>      <td align="left">ğŸ¾<code>:tennis:</code></td>      <td align="left">ğŸ±<code>:8ball:</code></td>      <td align="left">ğŸ‰<code>:rugby_football:</code></td>    </tr>    <tr>      <td align="left">ğŸ³<code>:bowling:</code></td>      <td align="left">â›³ï¸<code>:golf:</code></td>      <td align="left">ğŸšµ<code>:mountain_bicyclist:</code></td>    </tr>    <tr>      <td align="left">ğŸš´<code>:bicyclist:</code></td>      <td align="left">ğŸ‡<code>:horse_racing:</code></td>      <td align="left">ğŸ‚<code>:snowboarder:</code></td>    </tr>    <tr>      <td align="left">ğŸŠ<code>:swimmer:</code></td>      <td align="left">ğŸ„<code>:surfer:</code></td>      <td align="left">ğŸ¿<code>:ski:</code></td>    </tr>    <tr>      <td align="left">â™ ï¸<code>:spades:</code></td>      <td align="left">â™¥ï¸<code>:hearts:</code></td>      <td align="left">â™£ï¸<code>:clubs:</code></td>    </tr>    <tr>      <td align="left">â™¦ï¸<code>:diamonds:</code></td>      <td align="left">ğŸ’<code>:gem:</code></td>      <td align="left">ğŸ’<code>:ring:</code></td>    </tr>    <tr>      <td align="left">ğŸ†<code>:trophy:</code></td>      <td align="left">ğŸ¼<code>:musical_score:</code></td>      <td align="left">ğŸ¹<code>:musical_keyboard:</code></td>    </tr>    <tr>      <td align="left">ğŸ»<code>:violin:</code></td>      <td align="left">ğŸ‘¾<code>:space_invader:</code></td>      <td align="left">ğŸ®<code>:video_game:</code></td>    </tr>    <tr>      <td align="left">ğŸƒ<code>:black_joker:</code></td>      <td align="left">ğŸ´<code>:flower_playing_cards:</code></td>      <td align="left">ğŸ²<code>:game_die:</code></td>    </tr>    <tr>      <td align="left">ğŸ¯<code>:dart:</code></td>      <td align="left">ğŸ€„ï¸<code>:mahjong:</code></td>      <td align="left">ğŸ¬<code>:clapper:</code></td>    </tr>    <tr>      <td align="left">ğŸ“<code>:memo:</code></td>      <td align="left">ğŸ“<code>:pencil:</code></td>      <td align="left">ğŸ“–<code>:book:</code></td>    </tr>    <tr>      <td align="left">ğŸ¨<code>:art:</code></td>      <td align="left">ğŸ¤<code>:microphone:</code></td>      <td align="left">ğŸ§<code>:headphones:</code></td>    </tr>    <tr>      <td align="left">ğŸº<code>:trumpet:</code></td>      <td align="left">ğŸ·<code>:saxophone:</code></td>      <td align="left">ğŸ¸<code>:guitar:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘<code>:shoe:</code></td>      <td align="left">ğŸ‘¡<code>:sandal:</code></td>      <td align="left">ğŸ‘ <code>:high_heel:</code></td>    </tr>    <tr>      <td align="left">ğŸ’„<code>:lipstick:</code></td>      <td align="left">ğŸ‘¢<code>:boot:</code></td>      <td align="left">ğŸ‘•<code>:shirt:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘•<code>:tshirt:</code></td>      <td align="left">ğŸ‘”<code>:necktie:</code></td>      <td align="left">ğŸ‘š<code>:womans_clothes:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘—<code>:dress:</code></td>      <td align="left">ğŸ½<code>:running_shirt_with_sash:</code></td>      <td align="left">ğŸ‘–<code>:jeans:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘˜<code>:kimono:</code></td>      <td align="left">ğŸ‘™<code>:bikini:</code></td>      <td align="left">ğŸ€<code>:ribbon:</code></td>    </tr>    <tr>      <td align="left">ğŸ©<code>:tophat:</code></td>      <td align="left">ğŸ‘‘<code>:crown:</code></td>      <td align="left">ğŸ‘’<code>:womans_hat:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘<code>:mans_shoe:</code></td>      <td align="left">ğŸŒ‚<code>:closed_umbrella:</code></td>      <td align="left">ğŸ’¼<code>:briefcase:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘œ<code>:handbag:</code></td>      <td align="left">ğŸ‘<code>:pouch:</code></td>      <td align="left">ğŸ‘›<code>:purse:</code></td>    </tr>    <tr>      <td align="left">ğŸ‘“<code>:eyeglasses:</code></td>      <td align="left">ğŸ£<code>:fishing_pole_and_fish:</code></td>      <td align="left">â˜•ï¸<code>:coffee:</code></td>    </tr>    <tr>      <td align="left">ğŸµ<code>:tea:</code></td>      <td align="left">ğŸ¶<code>:sake:</code></td>      <td align="left">ğŸ¼<code>:baby_bottle:</code></td>    </tr>    <tr>      <td align="left">ğŸº<code>:beer:</code></td>      <td align="left">ğŸ»<code>:beers:</code></td>      <td align="left">ğŸ¸<code>:cocktail:</code></td>    </tr>    <tr>      <td align="left">ğŸ¹<code>:tropical_drink:</code></td>      <td align="left">ğŸ·<code>:wine_glass:</code></td>      <td align="left">ğŸ´<code>:fork_and_knife:</code></td>    </tr>    <tr>      <td align="left">ğŸ•<code>:pizza:</code></td>      <td align="left">ğŸ”<code>:hamburger:</code></td>      <td align="left">ğŸŸ<code>:fries:</code></td>    </tr>    <tr>      <td align="left">ğŸ—<code>:poultry_leg:</code></td>      <td align="left">ğŸ–<code>:meat_on_bone:</code></td>      <td align="left">ğŸ<code>:spaghetti:</code></td>    </tr>    <tr>      <td align="left">ğŸ›<code>:curry:</code></td>      <td align="left">ğŸ¤<code>:fried_shrimp:</code></td>      <td align="left">ğŸ±<code>:bento:</code></td>    </tr>    <tr>      <td align="left">ğŸ£<code>:sushi:</code></td>      <td align="left">ğŸ¥<code>:fish_cake:</code></td>      <td align="left">ğŸ™<code>:rice_ball:</code></td>    </tr>    <tr>      <td align="left">ğŸ˜<code>:rice_cracker:</code></td>      <td align="left">ğŸš<code>:rice:</code></td>      <td align="left">ğŸœ<code>:ramen:</code></td>    </tr>    <tr>      <td align="left">ğŸ²<code>:stew:</code></td>      <td align="left">ğŸ¢<code>:oden:</code></td>      <td align="left">ğŸ¡<code>:dango:</code></td>    </tr>    <tr>      <td align="left">ğŸ¥š<code>:egg:</code></td>      <td align="left">ğŸ<code>:bread:</code></td>      <td align="left">ğŸ©<code>:doughnut:</code></td>    </tr>    <tr>      <td align="left">ğŸ®<code>:custard:</code></td>      <td align="left">ğŸ¦<code>:icecream:</code></td>      <td align="left">ğŸ¨<code>:ice_cream:</code></td>    </tr>    <tr>      <td align="left">ğŸ§<code>:shaved_ice:</code></td>      <td align="left">ğŸ‚<code>:birthday:</code></td>      <td align="left">ğŸ°<code>:cake:</code></td>    </tr>    <tr>      <td align="left">ğŸª<code>:cookie:</code></td>      <td align="left">ğŸ«<code>:chocolate_bar:</code></td>      <td align="left">ğŸ¬<code>:candy:</code></td>    </tr>    <tr>      <td align="left">ğŸ­<code>:lollipop:</code></td>      <td align="left">ğŸ¯<code>:honey_pot:</code></td>      <td align="left">ğŸ<code>:apple:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:green_apple:</code></td>      <td align="left">ğŸŠ<code>:tangerine:</code></td>      <td align="left">ğŸ‹<code>:lemon:</code></td>    </tr>    <tr>      <td align="left">ğŸ’<code>:cherries:</code></td>      <td align="left">ğŸ‡<code>:grapes:</code></td>      <td align="left">ğŸ‰<code>:watermelon:</code></td>    </tr>    <tr>      <td align="left">ğŸ“<code>:strawberry:</code></td>      <td align="left">ğŸ‘<code>:peach:</code></td>      <td align="left">ğŸˆ<code>:melon:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ<code>:banana:</code></td>      <td align="left">ğŸ<code>:pear:</code></td>      <td align="left">ğŸ<code>:pineapple:</code></td>    </tr>    <tr>      <td align="left">ğŸ <code>:sweet_potato:</code></td>      <td align="left">ğŸ†<code>:eggplant:</code></td>      <td align="left">ğŸ…<code>:tomato:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ½<code>:corn:</code></td>      <td align="left"></td>      <td align="left"></td>    </tr>  </tbody></table><p>Places</p><table>  <thead>    <tr>      <th align="left">ğŸ <code>:house:</code></th>      <th align="left">ğŸ¡<code>:house_with_garden:</code></th>      <th align="left">ğŸ«<code>:school:</code></th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">ğŸ¢<code>:office:</code></td>      <td align="left">ğŸ£<code>:post_office:</code></td>      <td align="left">ğŸ¥<code>:hospital:</code></td>    </tr>    <tr>      <td align="left">ğŸ¦<code>:bank:</code></td>      <td align="left">ğŸª<code>:convenience_store:</code></td>      <td align="left">ğŸ©<code>:love_hotel:</code></td>    </tr>    <tr>      <td align="left">ğŸ¨<code>:hotel:</code></td>      <td align="left">ğŸ’’<code>:wedding:</code></td>      <td align="left">â›ªï¸<code>:church:</code></td>    </tr>    <tr>      <td align="left">ğŸ¬<code>:department_store:</code></td>      <td align="left">ğŸ¤<code>:european_post_office:</code></td>      <td align="left">ğŸŒ‡<code>:city_sunrise:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ†<code>:city_sunset:</code></td>      <td align="left">ğŸ¯<code>:japanese_castle:</code></td>      <td align="left">ğŸ°<code>:european_castle:</code></td>    </tr>    <tr>      <td align="left">â›ºï¸<code>:tent:</code></td>      <td align="left">ğŸ­<code>:factory:</code></td>      <td align="left">ğŸ—¼<code>:tokyo_tower:</code></td>    </tr>    <tr>      <td align="left">ğŸ—¾<code>:japan:</code></td>      <td align="left">ğŸ—»<code>:mount_fuji:</code></td>      <td align="left">ğŸŒ„<code>:sunrise_over_mountains:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ…<code>:sunrise:</code></td>      <td align="left">ğŸŒ <code>:stars:</code></td>      <td align="left">ğŸ—½<code>:statue_of_liberty:</code></td>    </tr>    <tr>      <td align="left">ğŸŒ‰<code>:bridge_at_night:</code></td>      <td align="left">ğŸ <code>:carousel_horse:</code></td>      <td align="left">ğŸŒˆ<code>:rainbow:</code></td>    </tr>    <tr>      <td align="left">ğŸ¡<code>:ferris_wheel:</code></td>      <td align="left">â›²ï¸<code>:fountain:</code></td>      <td align="left">ğŸ¢<code>:roller_coaster:</code></td>    </tr>    <tr>      <td align="left">ğŸš¢<code>:ship:</code></td>      <td align="left">ğŸš¤<code>:speedboat:</code></td>      <td align="left">â›µï¸<code>:boat:</code></td>    </tr>    <tr>      <td align="left">â›µï¸<code>:sailboat:</code></td>      <td align="left">ğŸš£<code>:rowboat:</code></td>      <td align="left">âš“ï¸<code>:anchor:</code></td>    </tr>    <tr>      <td align="left">ğŸš€<code>:rocket:</code></td>      <td align="left">âœˆï¸<code>:airplane:</code></td>      <td align="left">ğŸš<code>:helicopter:</code></td>    </tr>    <tr>      <td align="left">ğŸš‚<code>:steam_locomotive:</code></td>      <td align="left">ğŸšŠ<code>:tram:</code></td>      <td align="left">ğŸš<code>:mountain_railway:</code></td>    </tr>    <tr>      <td align="left">ğŸš²<code>:bike:</code></td>      <td align="left">ğŸš¡<code>:aerial_tramway:</code></td>      <td align="left">ğŸšŸ<code>:suspension_railway:</code></td>    </tr>    <tr>      <td align="left">ğŸš <code>:mountain_cableway:</code></td>      <td align="left">ğŸšœ<code>:tractor:</code></td>      <td align="left">ğŸš™<code>:blue_car:</code></td>    </tr>    <tr>      <td align="left">ğŸš˜<code>:oncoming_automobile:</code></td>      <td align="left">ğŸš—<code>:car:</code></td>      <td align="left">ğŸš—<code>:red_car:</code></td>    </tr>    <tr>      <td align="left">ğŸš•<code>:taxi:</code></td>      <td align="left">ğŸš–<code>:oncoming_taxi:</code></td>      <td align="left">ğŸš›<code>:articulated_lorry:</code></td>    </tr>    <tr>      <td align="left">ğŸšŒ<code>:bus:</code></td>      <td align="left">ğŸš<code>:oncoming_bus:</code></td>      <td align="left">ğŸš¨<code>:rotating_light:</code></td>    </tr>    <tr>      <td align="left">ğŸš“<code>:police_car:</code></td>      <td align="left">ğŸš”<code>:oncoming_police_car:</code></td>      <td align="left">ğŸš’<code>:fire_engine:</code></td>    </tr>    <tr>      <td align="left">ğŸš‘<code>:ambulance:</code></td>      <td align="left">ğŸš<code>:minibus:</code></td>      <td align="left">ğŸšš<code>:truck:</code></td>    </tr>    <tr>      <td align="left">ğŸš‹<code>:train:</code></td>      <td align="left">ğŸš‰<code>:station:</code></td>      <td align="left">ğŸš†<code>:train2:</code></td>    </tr>    <tr>      <td align="left">ğŸš…<code>:bullettrain_front:</code></td>      <td align="left">ğŸš„<code>:bullettrain_side:</code></td>      <td align="left">ğŸšˆ<code>:light_rail:</code></td>    </tr>    <tr>      <td align="left">ğŸš<code>:monorail:</code></td>      <td align="left">ğŸšƒ<code>:railway_car:</code></td>      <td align="left">ğŸš<code>:trolleybus:</code></td>    </tr>    <tr>      <td align="left">ğŸ«<code>:ticket:</code></td>      <td align="left">â›½ï¸<code>:fuelpump:</code></td>      <td align="left">ğŸš¦<code>:vertical_traffic_light:</code></td>    </tr>    <tr>      <td align="left">ğŸš¥<code>:traffic_light:</code></td>      <td align="left">âš ï¸<code>:warning:</code></td>      <td align="left">ğŸš§<code>:construction:</code></td>    </tr>    <tr>      <td align="left">ğŸ”°<code>:beginner:</code></td>      <td align="left">ğŸ§<code>:atm:</code></td>      <td align="left">ğŸ°<code>:slot_machine:</code></td>    </tr>    <tr>      <td align="left">ğŸš<code>:busstop:</code></td>      <td align="left">ğŸ’ˆ<code>:barber:</code></td>      <td align="left">â™¨ï¸<code>:hotsprings:</code></td>    </tr>    <tr>      <td align="left">ğŸ<code>:checkered_flag:</code></td>      <td align="left">ğŸŒ<code>:crossed_flags:</code></td>      <td align="left">ğŸ®<code>:izakaya_lantern:</code></td>    </tr>    <tr>      <td align="left">ğŸ—¿<code>:moyai:</code></td>      <td align="left">ğŸª<code>:circus_tent:</code></td>      <td align="left">ğŸ­<code>:performing_arts:</code></td>    </tr>    <tr>      <td align="left">ğŸ“<code>:round_pushpin:</code></td>      <td align="left">ğŸš©<code>:triangular_flag_on_post:</code></td>      <td align="left"></td>    </tr>  </tbody></table><p>Symbols</p><table>  <thead>    <tr>      <th align="left">1ï¸âƒ£<code>:one:</code></th>      <th align="left">2ï¸âƒ£<code>:two:</code></th>      <th align="left">3ï¸âƒ£<code>:three:</code></th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">4ï¸âƒ£<code>:four:</code></td>      <td align="left">5ï¸âƒ£<code>:five:</code></td>      <td align="left">6ï¸âƒ£<code>:six:</code></td>    </tr>    <tr>      <td align="left">7ï¸âƒ£<code>:seven:</code></td>      <td align="left">8ï¸âƒ£<code>:eight:</code></td>      <td align="left">9ï¸âƒ£<code>:nine:</code></td>    </tr>    <tr>      <td align="left">ğŸ”Ÿ<code>:keycap_ten:</code></td>      <td align="left">ğŸ”¢<code>:1234:</code></td>      <td align="left">0ï¸âƒ£<code>:zero:</code></td>    </tr>    <tr>      <td align="left">#ï¸âƒ£<code>:hash:</code></td>      <td align="left">ğŸ”£<code>:symbols:</code></td>      <td align="left">â—€ï¸<code>:arrow_backward:</code></td>    </tr>    <tr>      <td align="left">â¬‡ï¸<code>:arrow_down:</code></td>      <td align="left">â–¶ï¸<code>:arrow_forward:</code></td>      <td align="left">â¬…ï¸<code>:arrow_left:</code></td>    </tr>    <tr>      <td align="left">ğŸ” <code>:capital_abcd:</code></td>      <td align="left">ğŸ”¡<code>:abcd:</code></td>      <td align="left">ğŸ”¤<code>:abc:</code></td>    </tr>    <tr>      <td align="left">â†™ï¸<code>:arrow_lower_left:</code></td>      <td align="left">â†˜ï¸<code>:arrow_lower_right:</code></td>      <td align="left">â¡ï¸<code>:arrow_right:</code></td>    </tr>    <tr>      <td align="left">â¬†ï¸<code>:arrow_up:</code></td>      <td align="left">â†–ï¸<code>:arrow_upper_left:</code></td>      <td align="left">â†—ï¸<code>:arrow_upper_right:</code></td>    </tr>    <tr>      <td align="left">â¬<code>:arrow_double_down:</code></td>      <td align="left">â«<code>:arrow_double_up:</code></td>      <td align="left">ğŸ”½<code>:arrow_down_small:</code></td>    </tr>    <tr>      <td align="left">â¤µï¸<code>:arrow_heading_down:</code></td>      <td align="left">â¤´ï¸<code>:arrow_heading_up:</code></td>      <td align="left">â†©ï¸<code>:leftwards_arrow_with_hook:</code></td>    </tr>    <tr>      <td align="left">â†ªï¸<code>:arrow_right_hook:</code></td>      <td align="left">â†”ï¸<code>:left_right_arrow:</code></td>      <td align="left">â†•ï¸<code>:arrow_up_down:</code></td>    </tr>    <tr>      <td align="left">ğŸ”¼<code>:arrow_up_small:</code></td>      <td align="left">ğŸ”ƒ<code>:arrows_clockwise:</code></td>      <td align="left">ğŸ”„<code>:arrows_counterclockwise:</code></td>    </tr>    <tr>      <td align="left">âª<code>:rewind:</code></td>      <td align="left">â©<code>:fast_forward:</code></td>      <td align="left">â„¹ï¸<code>:information_source:</code></td>    </tr>    <tr>      <td align="left">ğŸ†—<code>:ok:</code></td>      <td align="left">ğŸ”€<code>:twisted_rightwards_arrows:</code></td>      <td align="left">ğŸ”<code>:repeat:</code></td>    </tr>    <tr>      <td align="left">ğŸ”‚<code>:repeat_one:</code></td>      <td align="left">ğŸ†•<code>:new:</code></td>      <td align="left">ğŸ”<code>:top:</code></td>    </tr>    <tr>      <td align="left">ğŸ†™<code>:up:</code></td>      <td align="left">ğŸ†’<code>:cool:</code></td>      <td align="left">ğŸ†“<code>:free:</code></td>    </tr>    <tr>      <td align="left">ğŸ†–<code>:ng:</code></td>      <td align="left">ğŸ¦<code>:cinema:</code></td>      <td align="left">ğŸˆ<code>:koko:</code></td>    </tr>    <tr>      <td align="left">ğŸ“¶<code>:signal_strength:</code></td>      <td align="left"></td>      <td align="left"></td>    </tr>    <tr>      <td align="left">ğŸˆ‚ï¸<code>:sa:</code></td>      <td align="left">ğŸš»<code>:restroom:</code></td>      <td align="left">ğŸš¹<code>:mens:</code></td>    </tr>    <tr>      <td align="left">ğŸšº<code>:womens:</code></td>      <td align="left">ğŸš¼<code>:baby_symbol:</code></td>      <td align="left">ğŸš­<code>:no_smoking:</code></td>    </tr>    <tr>      <td align="left">ğŸ…¿ï¸<code>:parking:</code></td>      <td align="left">â™¿ï¸<code>:wheelchair:</code></td>      <td align="left">ğŸš‡<code>:metro:</code></td>    </tr>    <tr>      <td align="left">ğŸ›„<code>:baggage_claim:</code></td>      <td align="left">ğŸ‰‘<code>:accept:</code></td>      <td align="left">ğŸš¾<code>:wc:</code></td>    </tr>    <tr>      <td align="left">ğŸš°<code>:potable_water:</code></td>      <td align="left">ğŸš®<code>:put_litter_in_its_place:</code></td>      <td align="left">ãŠ™ï¸<code>:secret:</code></td>    </tr>    <tr>      <td align="left">ãŠ—ï¸<code>:congratulations:</code></td>      <td align="left">â“‚ï¸<code>:m:</code></td>      <td align="left">ğŸ›‚<code>:passport_control:</code></td>    </tr>    <tr>      <td align="left">ğŸ›…<code>:left_luggage:</code></td>      <td align="left">ğŸ›ƒ<code>:customs:</code></td>      <td align="left">ğŸ‰<code>:ideograph_advantage:</code></td>    </tr>    <tr>      <td align="left">ğŸ†‘<code>:cl:</code></td>      <td align="left">ğŸ†˜<code>:sos:</code></td>      <td align="left">ğŸ†”<code>:id:</code></td>    </tr>    <tr>      <td align="left">ğŸš«<code>:no_entry_sign:</code></td>      <td align="left">ğŸ”<code>:underage:</code></td>      <td align="left">ğŸ“µ<code>:no_mobile_phones:</code></td>    </tr>    <tr>      <td align="left">ğŸš¯<code>:do_not_litter:</code></td>      <td align="left">ğŸš±<code>:non-potable_water:</code></td>      <td align="left">ğŸš³<code>:no_bicycles:</code></td>    </tr>    <tr>      <td align="left">ğŸš·<code>:no_pedestrians:</code></td>      <td align="left">ğŸš¸<code>:children_crossing:</code></td>      <td align="left">â›”ï¸<code>:no_entry:</code></td>    </tr>    <tr>      <td align="left">âœ³ï¸<code>:eight_spoked_asterisk:</code></td>      <td align="left">âœ´ï¸<code>:eight_pointed_black_star:</code></td>      <td align="left">ğŸ’Ÿ<code>:heart_decoration:</code></td>    </tr>    <tr>      <td align="left">ğŸ†š<code>:vs:</code></td>      <td align="left">ğŸ“³<code>:vibration_mode:</code></td>      <td align="left">ğŸ“´<code>:mobile_phone_off:</code></td>    </tr>    <tr>      <td align="left">ğŸ’¹<code>:chart:</code></td>      <td align="left">ğŸ’±<code>:currency_exchange:</code></td>      <td align="left">â™ˆï¸<code>:aries:</code></td>    </tr>    <tr>      <td align="left">â™‰ï¸<code>:taurus:</code></td>      <td align="left">â™Šï¸<code>:gemini:</code></td>      <td align="left">â™‹ï¸<code>:cancer:</code></td>    </tr>    <tr>      <td align="left">â™Œï¸<code>:leo:</code></td>      <td align="left">â™ï¸<code>:virgo:</code></td>      <td align="left">â™ï¸<code>:libra:</code></td>    </tr>    <tr>      <td align="left">â™ï¸<code>:scorpius:</code></td>      <td align="left">â™ï¸<code>:sagittarius:</code></td>      <td align="left">â™‘ï¸<code>:capricorn:</code></td>    </tr>    <tr>      <td align="left">â™’ï¸<code>:aquarius:</code></td>      <td align="left">â™“ï¸<code>:pisces:</code></td>      <td align="left">â›<code>:ophiuchus:</code></td>    </tr>    <tr>      <td align="left">ğŸ”¯<code>:six_pointed_star:</code></td>      <td align="left">â<code>:negative_squared_cross_mark:</code></td>      <td align="left">ğŸ…°ï¸<code>:a:</code></td>    </tr>    <tr>      <td align="left">ğŸ…±ï¸<code>:b:</code></td>      <td align="left">ğŸ†<code>:ab:</code></td>      <td align="left">ğŸ…¾ï¸<code>:o2:</code></td>    </tr>    <tr>      <td align="left">ğŸ’ <code>:diamond_shape_with_a_dot_inside:</code></td>      <td align="left">â™»ï¸<code>:recycle:</code></td>      <td align="left">ğŸ”š<code>:end:</code></td>    </tr>    <tr>      <td align="left">ğŸ”›<code>:on:</code></td>      <td align="left">ğŸ”œ<code>:soon:</code></td>      <td align="left">ğŸ•<code>:clock1:</code></td>    </tr>    <tr>      <td align="left">ğŸ•œ<code>:clock130:</code></td>      <td align="left">ğŸ•™<code>:clock10:</code></td>      <td align="left">ğŸ•¥<code>:clock1030:</code></td>    </tr>    <tr>      <td align="left">ğŸ•š<code>:clock11:</code></td>      <td align="left">ğŸ•¦<code>:clock1130:</code></td>      <td align="left">ğŸ•›<code>:clock12:</code></td>    </tr>    <tr>      <td align="left">ğŸ•§<code>:clock1230:</code></td>      <td align="left">ğŸ•‘<code>:clock2:</code></td>      <td align="left">ğŸ•<code>:clock230:</code></td>    </tr>    <tr>      <td align="left">ğŸ•’<code>:clock3:</code></td>      <td align="left">ğŸ•<code>:clock330:</code></td>      <td align="left">ğŸ•“<code>:clock4:</code></td>    </tr>    <tr>      <td align="left">ğŸ•Ÿ<code>:clock430:</code></td>      <td align="left">ğŸ•”<code>:clock5:</code></td>      <td align="left">ğŸ• <code>:clock530:</code></td>    </tr>    <tr>      <td align="left">ğŸ••<code>:clock6:</code></td>      <td align="left">ğŸ•¡<code>:clock630:</code></td>      <td align="left">ğŸ•–<code>:clock7:</code></td>    </tr>    <tr>      <td align="left">ğŸ•¢<code>:clock730:</code></td>      <td align="left">ğŸ•—<code>:clock8:</code></td>      <td align="left">ğŸ•£<code>:clock830:</code></td>    </tr>    <tr>      <td align="left">ğŸ•˜<code>:clock9:</code></td>      <td align="left">ğŸ•¤<code>:clock930:</code></td>      <td align="left">ğŸ’²<code>:heavy_dollar_sign:</code></td>    </tr>    <tr>      <td align="left">Â©ï¸<code>:copyright:</code></td>      <td align="left">Â®ï¸<code>:registered:</code></td>      <td align="left">â„¢ï¸<code>:tm:</code></td>    </tr>    <tr>      <td align="left">âŒ<code>:x:</code></td>      <td align="left">â—ï¸<code>:heavy_exclamation_mark:</code></td>      <td align="left">â€¼ï¸<code>:bangbang:</code></td>    </tr>    <tr>      <td align="left">â‰ï¸<code>:interrobang:</code></td>      <td align="left">â­•ï¸<code>:o:</code></td>      <td align="left">âœ–ï¸<code>:heavy_multiplication_x:</code></td>    </tr>    <tr>      <td align="left">â•<code>:heavy_plus_sign:</code></td>      <td align="left">â–<code>:heavy_minus_sign:</code></td>      <td align="left">â—<code>:heavy_division_sign:</code></td>    </tr>    <tr>      <td align="left">ğŸ’®<code>:white_flower:</code></td>      <td align="left">ğŸ’¯<code>:100:</code></td>      <td align="left">âœ”ï¸<code>:heavy_check_mark:</code></td>    </tr>    <tr>      <td align="left">â˜‘ï¸<code>:ballot_box_with_check:</code></td>      <td align="left">ğŸ”˜<code>:radio_button:</code></td>      <td align="left">ğŸ”—<code>:link:</code></td>    </tr>    <tr>      <td align="left">â°<code>:curly_loop:</code></td>      <td align="left">ã€°ï¸<code>:wavy_dash:</code></td>      <td align="left">ã€½ï¸<code>:part_alternation_mark:</code></td>    </tr>    <tr>      <td align="left">ğŸ”±<code>:trident:</code></td>      <td align="left">ğŸ”»<code>:small_red_triangle_down:</code></td>      <td align="left">ğŸ”º<code>:small_red_triangle:</code></td>    </tr>    <tr>      <td align="left">âœ…<code>:white_check_mark:</code></td>      <td align="left">ğŸ”²<code>:black_square_button:</code></td>      <td align="left">ğŸ”³<code>:white_square_button:</code></td>    </tr>    <tr>      <td align="left">âš«ï¸<code>:black_circle:</code></td>      <td align="left">âšªï¸<code>:white_circle:</code></td>      <td align="left">ğŸ”´<code>:red_circle:</code></td>    </tr>    <tr>      <td align="left">ğŸ”µ<code>:large_blue_circle:</code></td>      <td align="left">ğŸ”·<code>:large_blue_diamond:</code></td>      <td align="left">ğŸ”¶<code>:large_orange_diamond:</code></td>    </tr>    <tr>      <td align="left">ğŸ”¹<code>:small_blue_diamond:</code></td>      <td align="left">ğŸ”¸<code>:small_orange_diamond:</code></td>      <td align="left"></td>    </tr>  </tbody></table>              </div>            </details>]]></content>
    
    
    <summary type="html">Hexo é»˜è®¤æ­é…çš„ Markdown æ¸²æŸ“å™¨æ˜¯ hexo-renderer-markedï¼Œä½†å…¶æ”¯æŒçš„æ¸²æŸ“æ ¼å¼æœ‰é™ï¼Œä¸åˆ©äºè‡ªç”±å†™ä½œã€‚å› æ­¤ï¼Œä»Šå¤©æ•™å¤§å®¶å¦‚ä½•æ›´æ¢ä¸ºåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œæ¸²æŸ“é€Ÿåº¦æ›´å¿«çš„ hexo-renderer-markdown-it æ¸²æŸ“å™¨ã€‚</summary>
    
    
    
    <category term="Hexo" scheme="https://blog.halfsummer.xyz/categories/Hexo/"/>
    
    
    <category term="emoji" scheme="https://blog.halfsummer.xyz/tags/emoji/"/>
    
  </entry>
  
  <entry>
    <title>WMware è™šæ‹Ÿæœºå®‰è£… Linux</title>
    <link href="https://blog.halfsummer.xyz/posts/1763fb9d.html"/>
    <id>https://blog.halfsummer.xyz/posts/1763fb9d.html</id>
    <published>2023-02-13T17:55:37.000Z</published>
    <updated>2023-02-16T16:48:41.964Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1ï¼‰ä¸‹è½½">1ï¼‰ä¸‹è½½</h1><div class="btns rounded grid5">            <a class="button" href='https://www.centos.org/download/' title='CentOS'><i class='fas fa-download'></i>CentOS</a><a class="button" href='https://ubuntu.com/download/server' title='Ubuntu'><i class='fas fa-download'></i>Ubuntu</a>          </div><hr><h1 id="2ï¼‰VMware-ä¸­å®‰è£…-Linux">2ï¼‰VMware ä¸­å®‰è£… Linux</h1><details class="folding-tag" cyan><summary> 1ï¼‰é…ç½® </summary>              <div class='content'>              <div class="tabs" id="vmware-setting"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#vmware-setting-1">VMware 17</button></li><li class="tab"><button type="button" data-href="#vmware-setting-2">VMware 15.5</button></li><li class="tab"><button type="button" data-href="#vmware-setting-3">VMware 14</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="vmware-setting-1"><ol><li><p>æ‰“å¼€â€œVMware Workstation 17 PROâ€œè½¯ä»¶ï¼Œé€‰æ‹©â€åˆ›å»ºæ–°çš„è™šæ‹Ÿæœºâ€œã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213195818166.png" alt="image-20230213195818166"></p></li><li><p>é€‰æ‹©â€œå…¸å‹â€é€‰é¡¹ï¼Œç„¶åä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200017639.png" alt="image-20230213200017639"></p></li><li><p>é€‰æ‹©â€œç¨åå®‰è£…æ“ä½œç³»ç»Ÿâ€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200226774.png" alt="image-20230213200226774"></p></li><li><p>å®¢æˆ·æœºæ“ä½œé€‰æ‹©â€œLinuxâ€,ç‰ˆæœ¬é€‰æ‹©â€œCentOS 7 64ä½â€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200258945.png" alt="image-20230213200258945"></p></li><li><p>è¾“å…¥â€œè™šæ‹Ÿæœºåç§°â€ï¼Œé€‰æ‹©è™šæ‹Ÿæœºæ–‡ä»¶ä¿å­˜çš„ä½ç½®ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200712138.png" alt="image-20230213200712138"></p></li><li><p>æœ€å¤§ç£ç›˜é»˜è®¤20Gå¤§å°å³å¯ï¼Œç„¶åé€‰æ‹©â€œå°†è™šæ‹Ÿæœºç£ç›˜å­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶â€ï¼Œä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200907483.png" alt="image-20230213200907483"></p></li><li><p>ç‚¹å‡»â€è‡ªå®šä¹‰ç¡¬ä»¶é…ç½®â€œã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213200940144.png" alt="image-20230213200940144"></p></li><li><p>é€‰ä¸­â€æ–° CD/DVDâ€œï¼Œé€‰æ‹©â€ä½¿ç”¨ ISO æ˜ åƒæ–‡ä»¶â€œï¼Œç„¶åè®¾ç½® CentOS7 çš„ ISO æ˜ åƒè·¯å¾„ï¼Œç‚¹å‡»å…³é—­ã€‚ç½‘ç»œé€‚é…å™¨é»˜è®¤ NATã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213201247111.png" alt="image-20230213201247111"></p></li><li><p>ç‚¹å‡»å®Œæˆï¼Œå¦‚ä¸‹ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213201323470.png" alt="image-20230213201323470"></p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="vmware-setting-2"><ol><li><p>æ‰“å¼€â€œVMware Workstation 15.5 PROâ€œè½¯ä»¶ï¼Œé€‰æ‹©â€åˆ›å»ºæ–°çš„è™šæ‹Ÿæœºâ€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140015933-1356816755.png" alt="image"></p></li><li><p>é€‰æ‹©â€œå…¸å‹â€é€‰é¡¹ï¼Œç„¶åä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140016278-476372467.png" alt="image"></p></li><li><p>é€‰æ‹©â€œç¨åå®‰è£…æ“ä½œç³»ç»Ÿâ€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140453132-502089345.png" alt="image"></p></li><li><p>å®¢æˆ·æœºæ“ä½œé€‰æ‹©â€œLinuxâ€,ç‰ˆæœ¬é€‰æ‹©â€œCentOS 7 64ä½â€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140016803-1445963239.png" alt="image"></p></li><li><p>è¾“å…¥â€œè™šæ‹Ÿæœºåç§°â€ï¼Œé€‰æ‹©è™šæ‹Ÿæœºæ–‡ä»¶ä¿å­˜çš„ä½ç½®ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140017106-928997325.png" alt="image"></p></li><li><p>æœ€å¤§ç£ç›˜é»˜è®¤20Gå¤§å°å³å¯ï¼Œç„¶åé€‰æ‹©â€œå°†è™šæ‹Ÿæœºç£ç›˜å­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶â€ï¼Œä¸‹ä¸€æ­¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630141232256-59977779.png" alt="image"></p></li><li><p>ç‚¹å‡»â€è‡ªå®šä¹‰ç¡¬ä»¶é…ç½®â€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630140017653-1916664250.png" alt="image"></p></li><li><p>é€‰ä¸­â€æ–°CD/DVDâ€œï¼Œé€‰æ‹©â€ä½¿ç”¨ISOæ˜ åƒæ–‡ä»¶â€œï¼Œç„¶åè®¾ç½®CentOS7çš„ISOæ˜ åƒè·¯å¾„ï¼Œç‚¹å‡»å…³é—­ã€‚ç½‘ç»œé€‚é…å™¨é»˜è®¤NATã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630141232699-74619395.png" alt="image"></p></li><li><p>ç‚¹å‡»å®Œæˆï¼Œå¦‚ä¸‹ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630141233074-1238634344.png" alt="image"></p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="vmware-setting-3"><p><strong>æš‚æ— </strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><details class="folding-tag" cyan><summary> 2ï¼‰Linux å®‰è£… </summary>              <div class='content'>              <div class="tabs" id="install-os"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#install-os-1">CentOS</button></li><li class="tab"><button type="button" data-href="#install-os-2">Ubuntu</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="install-os-1"><div class="tabs" id="centos-install"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#centos-install-1">CentOS 7</button></li><li class="tab"><button type="button" data-href="#centos-install-2">CentOS 6</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="centos-install-1"><ol><li><p>é€‰ä¸­åˆšåˆšé…ç½®çš„CentOS7ï¼Œç„¶åç‚¹å‡»â€œå¼€å¯æ­¤è™šæ‹Ÿæœºâ€ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630152759505-141749521.png" alt="image"></p></li><li><p>è™šæ‹Ÿæœºå¯åŠ¨ä¹‹åä¼šå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼ˆç™½è‰²è¡¨ç¤ºé€‰ä¸­ï¼‰ï¼Œé»˜è®¤é€‰ä¸­çš„æ˜¯Test this media &amp; install CentOS 7ã€‚æˆ‘ä»¬å°†é¼ æ ‡ç§»å…¥åˆ°è™šæ‹Ÿæœºä¸­ï¼Œå¹¶æŒ‰ä¸‹é”®ç›˜ä¸­çš„â€œâ†‘â€é”®ï¼Œé€‰æ‹©Install CentOS 7ï¼Œæœ€åæŒ‰ä¸‹â€œEnter é”®â€ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630174905921-1795699179.png" alt="image"></p><p>æ³¨æ„ï¼š åœ¨è™šæ‹Ÿæœºä¸­çš„æ“ä½œï¼Œé¼ æ ‡å¿…é¡»è¦ç§»å…¥åˆ°è™šæ‹Ÿæœºä¸­ï¼Œå¦åˆ™è™šæ‹Ÿæœºæ„Ÿåº”ä¸åˆ°ï¼Œæ— æ³•å¯¹å…¶è¿›è¡Œæ“ä½œã€‚é¼ æ ‡ç§»åŠ¨åˆ°è™šæ‹Ÿæœºå†…éƒ¨å•å‡»æˆ–è€…æŒ‰ä¸‹Ctrl + Gï¼Œé¼ æ ‡å³å¯ç§»å…¥åˆ°è™šæ‹Ÿæœºä¸­ã€‚æŒ‰ä¸‹Ctrl + Altï¼Œé¼ æ ‡å³å¯ç§»å‡ºè™šæ‹Ÿæœºã€‚</p></li><li><p>æŒ‰ä¸‹Enterè¿›è¡Œå®‰è£…ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630161011759-1366753066.png" alt="image"></p></li><li><p>ç­‰å¾…ç³»ç»ŸåŠ è½½å®Œæˆã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630174906608-1990481588.png" alt="image"></p></li><li><p>é€‰æ‹©ä½¿ç”¨å“ªç§è¯­è¨€ï¼Œæ¨èä½¿ç”¨è‹±æ–‡ã€‚ä½†å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å®‰è£…ï¼Œå»ºè®®å…ˆå®‰è£…ä¸­æ–‡ç‰ˆçš„ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œä¹‹åå†é€‰æ‹©è‹±æ–‡çš„è¿›è¡Œå®è·µï¼Œè¿™é‡Œå°±ä»‹ç»ä¸­æ–‡çš„ï¼Œä¸‹æ»‘è‡³åº•éƒ¨é€‰æ‹©ä¸­æ–‡ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630161012242-1628807300.png" alt="image"></p></li><li><p>ã€æœ¬åœ°åŒ–ã€‘åªé…ç½®æ—¥æœŸå’Œæ—¶é—´ï¼Œé”®ç›˜å’Œè¯­è¨€æ”¯æŒæ²¡æœ‰ç‰¹æ®Šæƒ…å†µé»˜è®¤å°±å¥½ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630230557848-1683354797.png" alt="image"></p></li><li><p>ä¸­å›½èŒƒå›´å†…éƒ½é€‰æ‹©ä¸ºä¸Šæµ·ï¼ˆå› ä¸ºåªæœ‰ä¸Šæµ·å¯é€‰ï¼‰ï¼Œå¹¶é€‰æ‹©ä¸º24å°æ—¶åˆ¶ï¼Œè®¾ç½®å®Œæˆåå•å‡»å®ŒæˆæŒ‰é’®ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630161013056-530280498.png" alt="image"></p></li><li><p>ã€è½¯ä»¶ã€‘ä¸­åªé…ç½®è½¯ä»¶é€‰æ‹©ï¼Œå®‰è£…æºç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œæ‰€ä»¥ä¸ç”¨ç®¡ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630231531469-1653331645.png" alt="image"></p></li><li><p>ç„¶åæˆ‘ä»¬é€‰æ‹©å®‰è£…çš„ç³»ç»Ÿæ˜¯å¦å«æœ‰ç•Œé¢ï¼Œç•Œé¢ä¸€èˆ¬å¯¹äºæˆ‘ä»¬æ¥è¯´ç”¨å¤„ä¸å¤§ï¼Œè€Œä¸”CentOSçš„ç•Œé¢ä¸å¥½æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©æœ€å°å®‰è£…ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223316408-794861899.png" alt="image"></p></li><li><p>ã€ç³»ç»Ÿã€‘ä¸­åªé…ç½®å®‰è£…ä½ç½®ï¼ŒæŒ‡çš„æ˜¯ç³»ç»Ÿå¦‚ä½•åˆ†åŒºï¼Œå…¶å®ƒçš„éƒ½é»˜è®¤å°±å¥½ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630231532034-1202194449.png" alt="image"></p></li><li><p>å¯¹åˆ†åŒºä¸æ¸…æ¥šçš„å°±é€‰æ‹©è‡ªåŠ¨é…ç½®åˆ†åŒºï¼Œè¿™é‡Œæ¼”ç¤ºæˆ‘è¦é…ç½®åˆ†åŒºã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630161014687-1799563201.png" alt="image"></p></li><li><p>æ‰‹åŠ¨åˆ†åŒºæˆ‘ä»¬è¦é€‰æ‹©æ ‡å‡†åˆ†åŒºï¼Œç„¶åç‚¹å‡»ä¸‹é¢çš„â€œ+â€æ·»åŠ åˆ†åŒºã€‚æˆ‘ä»¬åˆ†åˆ«åˆ›å»ºä¸‰ä¸ªåˆ†åŒºï¼š<strong>/bootåŒºã€swapäº¤æ¢åˆ†åŒºã€æ ¹åˆ†åŒº/</strong></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630231532408-1234484840.png" alt="image"></p></li><li><p>æ·»åŠ  /bootåˆ†åŒºï¼Œç”¨æ¥æ”¾å¯åŠ¨æ–‡ä»¶ï¼Œå¤§å°300MBè¶³çŸ£ï¼Œç„¶åç‚¹å‡»â€œæ·»åŠ æŒ‚è½½ç‚¹â€ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223316841-1398200240.png" alt="image"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223317186-1310188677.png" alt="image"></p></li><li><p>æ·»åŠ  swapåˆ†åŒºï¼Œè¿™ä¸ªæ˜¯äº¤æ¢åˆ†åŒºï¼Œä¸€èˆ¬æƒ…å†µæ˜¯ç‰©ç†å†…å­˜çš„2å€å¤§å°ï¼Œç”¨äºç‰©ç†å†…å­˜ä¸è¶³æ—¶ä½¿ç”¨ï¼Œå¯èƒ½é€ æˆç³»ç»Ÿä¸ç¨³å®šï¼Œæ‰€ä»¥çœ‹æƒ…å†µï¼Œå¯ä»¥è®¾ç½®å°ä¸€ç‚¹ï¼Œç”šè‡³è®¾ç½®ä¸º0MBï¼Œè¿™é‡Œæˆ‘è®¾ç½®ä¸º512MBï¼Œç„¶åç‚¹å‡»â€æ·»åŠ æŒ‚è½½ç‚¹â€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701093454865-211062967.png" alt="image"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223317888-1108993201.png" alt="image"></p></li><li><p>å¢åŠ æ ¹åˆ†åŒºï¼Œè¡¨ç¤ºæ‰€æœ‰ç©ºé—´å¤§å°ï¼Œè¿™é‡Œä¸å¡«å†™å¤§å°ï¼Œå³é»˜è®¤å‰©ä½™çš„ç©ºé—´éƒ½ç»™æ ¹åˆ†åŒºï¼Œç„¶åç‚¹å‡»â€æ·»åŠ æŒ‚è½½ç‚¹â€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701093455353-272328394.png" alt="image"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223318560-1525794421.png" alt="image"></p></li><li><p>ç‚¹å‡»â€å®Œæˆâ€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223318908-1084660760.png" alt="image"></p></li><li><p>ç‚¹å‡»â€æ¥å—æ›´æ”¹â€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630223319242-1124997568.png" alt="image"></p></li><li><p>å›åˆ°ç•Œé¢ï¼Œç‚¹å‡»â€œå¼€å§‹å®‰è£…â€œã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630232750247-1502840411.png" alt="image"></p></li><li><p>è®¾ç½®ç®¡ç†å‘˜ROOTå¯†ç ï¼Œè¿™æ˜¯æœ€é«˜æƒé™rootç”¨æˆ·çš„å¯†ç ï¼ˆé»˜è®¤è´¦å·ä¸ºrootï¼Œå¯†ç ä¸ºç°åœ¨è¦è®¾ç½®çš„ï¼‰ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701101854681-815218118.png" alt="image"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701094351203-1406912009.png" alt="image"></p><p>åœ¨å®é™…ä¸­rootå¯†ç è¶Šå¤æ‚è¶Šå¥½ï¼Œå› ä¸ºè¿™é‡Œåªæ˜¯æ¼”ç¤ºï¼Œæ‰€ä»¥å¯†ç å°±æ²¡æœ‰é‚£ä¹ˆå¤æ‚äº†ã€‚</p><p>æç¤ºï¼šè¿™ä¸ªå¯†ç éå¸¸é‡è¦ï¼Œè¯·åŠ¡å¿…ç‰¢è®°ï¼ï¼ï¼</p></li><li><p>åˆ›å»ºç”¨æˆ·ï¼Œè¿™é‡Œå°±æ˜¯æ™®é€šçš„ç”¨æˆ·ï¼Œæƒé™æ¯”è¾ƒä½ï¼Œè¿™ä¸€æ­¥æˆ‘ä»¬å¯ä»¥çœç•¥ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630232751570-998326083.png" alt="image"></p></li><li><p>ç”¨æˆ·è®¾ç½®å¥½äº†ä¹‹åï¼Œç­‰å¾…CentOSå®‰è£…å®Œæˆï¼Œï¼Œç„¶åç‚¹å‡»â€œå®Œæˆé…ç½®â€ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200630232751891-1194015186.png" alt="image"></p></li><li><p>CentOSçš„å¯åŠ¨ä¹‹åçš„ç•Œé¢å¦‚ä¸‹ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701101855216-1487541996.png" alt="image"></p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="centos-install-2"><p><strong>æš‚æ— </strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="install-os-2"><p><strong>æš‚æ— </strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><details class="folding-tag" cyan><summary> 3ï¼‰ ç½‘ç»œé…ç½® </summary>              <div class='content'>              <p>å› ä¸ºå‰é¢åœ¨è®¾ç½®CentOS7çš„ç½‘ç»œé€‚é…å™¨çš„æ—¶å€™ï¼Œè®¾ç½®æ˜¯NATæ¨¡å¼ã€‚æ‰€ä»¥è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯è‡ªåŠ¨è·å–IPï¼Œå¦ä¸€ç§æ˜¯å›ºå®šè·å–IPã€‚è¯¦ç»†è¯·æˆ³æ­¤ç¯‡<a href="https://aceniu.github.io/posts/ba31607c.html">ã€ŠVMwareç½‘ç»œé…ç½®ï¼Œåªæ­¤ä¸€ç¯‡å°±å¤Ÿäº†ï¼ã€‹</a>ã€‚</p><details class="folding-tag" cyan><summary> 3.1 è‡ªåŠ¨è·å–IP </summary>              <div class='content'>              <ol><li><p>é¦–å…ˆè¦ç¡®ä¿çš„æ˜¯CentOSä¸ºNATæ¨¡å¼ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701155823239-1019617442.png" alt="image"></p></li><li><p>åœ¨VMwareç•Œé¢ï¼ˆç®¡ç†å‘˜æ–¹å¼å¯åŠ¨ï¼‰ç‚¹å‡»â€œç¼–è¾‘â€é‡Œé¢çš„â€œè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨â€ï¼Œç„¶åå‹¾é€‰DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿæœºï¼Œå¹¶è®¾ç½®å­ç½‘IP(é»˜è®¤å°±å¥½)ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701163206407-408019680.png" alt="image"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701163206863-358549546.png" alt="image"></p></li><li><p>ç‚¹å‡»NATæ¨¡å¼æ—è¾¹çš„â€œNATè®¾ç½®â€ï¼Œç„¶åä¿®æ”¹ä¸å­ç½‘IPåŒç½‘æ®µä¸‹çš„ç½‘å…³IPï¼Œå°±æ˜¯å‰ä¸‰ä½å¿…é¡»ç›¸åŒï¼Œå³192.168.30è¦ç›¸åŒï¼Œæœ€åä¸€ä½æ•°ä¸ç›¸åŒå³å¯ï¼ˆå…¶å®å·²ç»è‡ªåŠ¨è®¾ç½®å¥½äº†ï¼Œé»˜è®¤ï¼‰ï¼Œæœ€åç‚¹å‡»â€œç¡®è®¤â€ä¿å­˜è®¾ç½®ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701163207167-139980290.png" alt="image"></p></li><li><p>ç„¶åå¯åŠ¨è™šæ‹Ÿæœºï¼Œè¿›å…¥ç½‘ç»œé…ç½®æ–‡ä»¶ç›®å½•ï¼šcd /etc/sysconfig/network-scripts/ï¼Œå¹¶ä¸”ç”¨ ls å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æœ‰ifcfg-xxxåç§°çš„é…ç½®æ–‡ä»¶ï¼ˆifcfg-loé™¤å¤–ï¼‰ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¯´æ˜ç½‘å¡æ²¡æœ‰è¢«è¯†åˆ«ï¼Œè¿™ç§åªèƒ½é‡è£…æˆ–è€…æ¢ä¸ªCentOSçš„ç‰ˆæœ¬ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701155824126-673432678.png" alt="image"></p></li><li><p>ç¼–è¾‘ifcfg-ens33æ–‡ä»¶ï¼švi ifcfg-ens33ã€‚æŒ‰ i è¿›å…¥insertç¼–è¾‘æ¨¡å¼ï¼Œå°†BOOTPROTOè®¾ä¸ºdhcpï¼Œå°†ONBOOTè®¾ä¸ºyesï¼ŒæŒ‰ä¸‹Escè¿›å…¥å‘½ä»¤æ¨¡å¼è¾“å…¥:wqä¿å­˜å¹¶é€€å‡ºã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701163207425-717637895.png" alt="image"></p></li><li><p>é…ç½®å®Œæˆä¹‹åè¾“å…¥ï¼šservice network restartï¼Œé‡å¯ç½‘å¡è®©ç½‘å¡è®¾ç½®ç”Ÿæ•ˆï¼Œä¹‹åå°±å¯ä»¥ä¸Šç½‘äº†ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701164056088-720926395.png" alt="image"></p></li><li><p>è¾“å…¥ip addræ£€æŸ¥ä¸€ä¸‹åŠ¨æ€åˆ†é…çš„IPï¼Œå¯ä»¥å‘ç°åˆ†é…çš„åŠ¨æ€IPä¸º192.168.30.128ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701164056482-555681813.png" alt="image"></p></li><li><p>æœ€åéªŒè¯æ˜¯å¦å¯ä»¥è®¿é—®å¤–ç½‘ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701164056759-9331224.png" alt="image"></p><p>å‘ç°æ˜¯å¯ä»¥è®¿é—®å¤–ç½‘çš„ã€‚è‡ªåŠ¨è·å–IPè‡³æ­¤å°±ä»‹ç»å®Œäº†ï¼Œä¸‹é¢ä»‹ç»å¦ä¸€ç§æ–¹å¼ã€‚</p></li></ol>              </div>            </details><details class="folding-tag" cyan><summary> 3.2 å›ºå®šè·å–IP (æ¨è) </summary>              <div class='content'>              <ol><li><p>é¦–å…ˆè¦ç¡®ä¿çš„è™šæ‹Ÿæœºç½‘ç»œé€‚é…å™¨ä¸º è‡ªå®šä¹‰<code>WMware8ï¼ˆNATæ¨¡å¼ï¼‰</code>ã€‚ï¼ˆå¦‚æœåœ¨åŒç½‘æ®µä½¿ç”¨NATæ¨¡å¼ä¹Ÿå¯ä»¥è¿é€šå¤–ç½‘ï¼‰</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214000036153.png" alt="image-20230214000036153"></p></li><li><p>ç‚¹å‡»â€œç¼–è¾‘â€é‡Œé¢çš„â€œè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨â€,å–æ¶ˆå‹¾é€‰DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿæœºã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214000809770.png" alt="image-20230214000809770"></p></li><li><p>å¯åŠ¨è™šæ‹Ÿæœºï¼Œè¿›å…¥ç½‘ç»œé…ç½®æ–‡ä»¶ç›®å½•ï¼šcd /etc/sysconfig/network-scripts/ï¼Œç„¶åç¼–è¾‘ifcfg-ens33æ–‡ä»¶ï¼švi ifcfg-ens33ã€‚æŒ‰shift+iè¿›å…¥insertç¼–è¾‘æ¨¡å¼ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><blockquote><p>BOOTPROTO=static å¯ç”¨é™æ€IPåœ°å€</p><p>ONBOOT=yes   å¼€å¯è‡ªåŠ¨å¯ç”¨ç½‘ç»œè¿æ¥</p></blockquote><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><blockquote><p>IPADDR=192.168.30.100   è®¾ç½®IPåœ°å€</p><p>NETMASK=255.255.255.0  å­ç½‘æ©ç </p><p>GATEWAY=192.168.30.2  è®¾ç½®ç½‘å…³</p></blockquote><p>æ³¨æ„ï¼šIPADDRä¸èƒ½å’Œå­ç½‘IPå†²çª(æœ€åä¸€ä½åªè¦åœ¨0~255èŒƒå›´å†…éšä¾¿å–ä¸€ä¸ªæ•°å­—ï¼Œè¿™é‡Œé€‰æ‹©100)ï¼ŒGATEWAYå³â€NATè®¾ç½®â€œé‡Œé¢çš„ç½‘å…³IPã€‚</p><p>æœ€åæŒ‰ä¸‹Escè¿›å…¥å‘½ä»¤æ¨¡å¼è¾“å…¥:wqä¿å­˜å¹¶é€€å‡ºã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214001010813.png" alt="image-20230214001010813"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214001113573.png" alt="image-20230214001113573"></p><p>ä¿®æ”¹å’Œæ·»åŠ å†…å®¹åå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214001427820.png" alt="image-20230214001427820"></p></li><li><p>è¾“å…¥ <code>service network restart</code> é‡å¯ç½‘å¡è®©ç½‘å¡è®¾ç½®ç”Ÿæ•ˆã€‚</p></li><li><p>è¾“å…¥ip addræ£€æŸ¥ä¸€ä¸‹IPã€‚</p></li><li><p>éªŒè¯æ˜¯å¦å¯ä»¥è®¿é—®å¤–ç½‘ï¼š<code>ping www.baidu.com</code></p><p>å¦‚æœ <code>ping www.baidu.com</code> ä¸é€šï¼Œé‚£ä¹ˆå†æµ‹è¯•ä¸€ä¸‹ç™¾åº¦çš„ipåœ°å€<code>14.215.177.38</code>èƒ½å¦pingé€šï¼Œå¦‚æœipèƒ½é€šè€ŒåŸŸåä¸é€šåˆ™è¯´æ˜DNSè§£ææœ‰è¯¯ï¼Œéœ€è¦è®¾ç½®DNSã€‚</p></li><li><p>è®¾ç½®DNSï¼ˆæœ‰ä¸¤ç§æ–¹å¼ï¼‰ã€‚</p><p>æ³¨æ„ï¼šDNSæœåŠ¡å™¨å¯ä»¥åªé…ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥é…ç½®å¤šä¸ªï¼Œä¸‹é¢æˆ‘ç”¨çš„æ˜¯ä¸¤ä¸ªå…è´¹çš„DNSæœåŠ¡å™¨ï¼ŒæŸ¥çœ‹IPåœ°å€ï¼Œæµ‹è¯•è”ç½‘ã€‚</p><p>â‘ åœ¨ ifcfg-ens33 <a href="http://%E6%96%87%E4%BB%B6%E7%9A%84%E5%90%8E%E9%9D%A2%E8%BF%9B%E8%A1%8C%E6%B7%BB%E5%8A%A0DNS1=xxx.xxx.xxx.xxx">æ–‡ä»¶çš„åé¢è¿›è¡Œæ·»åŠ DNS1=xxx.xxx.xxx.xxx</a>ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701182055948-798983910.png" alt="image"></p><p>æ³¨æ„æ”¹å®Œåé‡å¯ç½‘å¡æ‰èƒ½ç”Ÿæ•ˆã€‚</p><p>â‘¡æ”¹ <code>vi /etc/resolv.conf</code> ,ä½¿ç”¨viå‘½ä»¤æ·»åŠ çš„æ—¶å€™è¦æ³¨æ„æ ¼å¼ï¼š</p><blockquote><p>nameserver xxx1.xxx1.xxx1.xxx1</p><p>nameserver xxx2.xxx2.xxx2.xxx2</p></blockquote><p>æˆ–è€…ç›´æ¥ <code>echo -e &quot;nameserver 114.114.114.114\nnameserver 223.5.5.5&quot; &gt;&gt;/etc/resolv.conf</code>ã€‚(\næ˜¯æ¢è¡Œçš„æ„æ€)</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1745215-20200701182056328-1371855461.png" alt="image"></p></li></ol>              </div>            </details><details class="folding-tag" cyan><summary> å¸¸ç”¨çš„å…è´¹DNSåœ°å€ </summary>              <div class='content'>              <ul><li><p>å›½å†…ç§»åŠ¨ã€ç”µä¿¡å’Œè”é€šé€šç”¨çš„ DNSï¼š<code>114.114.114.114</code></p></li><li><p>é˜¿é‡Œï¼šé¦–é€‰ï¼š<code>223.5.5.5</code> å¤‡ç”¨ï¼š<code>223.6.6.6</code></p></li><li><p>ç™¾åº¦ ï¼š<code>180.76.76.76</code></p></li><li><p>è…¾è®¯ï¼šé¦–é€‰ï¼š<code>119.29.29.29</code>ï¼Œå¤‡ç”¨ï¼š<code>119.28.28.28</code></p></li><li><p>è°·æ­Œï¼š <code>8.8.8.8</code></p></li></ul>              </div>            </details>              </div>            </details><hr><h1 id="3ï¼‰å®‰è£…-VMware-Tools">3ï¼‰å®‰è£… VMware Tools</h1><details class="folding-tag" cyan><summary> å®‰è£…VMware Tools </summary>              <div class='content'>              <blockquote><p>VMware Tools æ˜¯ VMware è™šæ‹Ÿæœºä¸­è‡ªå¸¦çš„ä¸€ç§å¢å¼ºå·¥å…·ï¼Œç›¸å½“äº VirtualBox ä¸­çš„å¢å¼ºåŠŸèƒ½ï¼ˆSun VirtualBox Guest Additionsï¼‰ï¼Œæ˜¯VMware æä¾›çš„å¢å¼ºè™šæ‹Ÿæ˜¾å¡å’Œç¡¬ç›˜æ€§èƒ½ã€ä»¥åŠåŒæ­¥è™šæ‹Ÿæœºä¸ä¸»æœºæ—¶é’Ÿçš„é©±åŠ¨ç¨‹åºã€‚</p></blockquote><p>âš ï¸ <strong>è¯·åœ¨è¿æ¥å¤–ç½‘åå†è¿™æ ·åš</strong></p><ol><li><p>é¦–å…ˆå…³é—­è™šæ‹Ÿæœºï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨è¿‡isoé•œåƒå¯åŠ¨çš„ï¼Œè¯·å°†è¿æ¥é€‰é¡¹ä¸­æ›´æ”¹ä¸ºä½¿ç”¨ç‰©ç†é©±åŠ¨å™¨ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214014512998.png" alt="image-20230214014512998"></p></li><li><p>å¯åŠ¨è™šæ‹ŸæœºæˆåŠŸä»¥åä½¿ç”¨rootç”¨æˆ·ç™»å½•è™šæ‹Ÿæœºï¼Œç„¶åç‚¹å‡»VMwareèœå•â†’è™šæ‹Ÿæœºâ†’å®‰è£…VMware Toolsã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/1366-e15f161772830acd336097569a0e6ce4.png" alt="img"></p></li><li><p>å‹¾é€‰å®‰è£…VMware-Toolsä»¥åä¼šå¼¹å‡ºæç¤ºï¼Œé»˜è®¤å¦‚ä¸‹é¡µé¢ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/2a62-2136cc7201d2e5d68a28978baaa487c1.png" alt="img"></p></li><li><p>å®‰è£…è¿‡ç¨‹ä¸ºäº†æ–¹ä¾¿å¤åˆ¶å‘½ä»¤ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·finashell ç™»å½•centosç³»ç»Ÿã€‚</p></li><li><p>è¿›å…¥è™šæ‹Ÿæœºï¼Œå°†å…‰ç›˜é‡Œé¢çš„å®‰è£…æ–‡ä»¶æŒ‚è½½åˆ°/mnt ç›®å½•ä¸‹ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># mount /dev/sr0 /mnt</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># ls /mnt</span></span><br><span class="line">manifest.txt  run_upgrader.sh  VMwareTools-10.3.25-20206839.tar.gz  vmware-tools-upgrader-32  vmware-tools-upgrader-64</span><br><span class="line"><span class="comment"># çœ‹åˆ°å®‰è£…æ–‡ä»¶å·²ç»æ­£ç¡®æŒ‚è½½</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æ–‡ä»¶å¤åˆ¶åˆ°rootç›®å½•ä¸‹ï¼Œè§£å‹ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³¨æ„æ–‡ä»¶ç‰ˆæœ¬ä¸é€šåå­—ä¸€æ ·çš„éœ€è¦ä¿®æ”¹</span></span><br><span class="line">[root@localhost ~]<span class="comment"># cp /mnt/VMwareTools-10.3.25-20206839.tar.gz /root</span></span><br><span class="line"><span class="comment"># è¿›è¡Œè§£å‹</span></span><br><span class="line">[root@localhost ~]<span class="comment"># tar -zxvf VMwareTools-10.3.25-20206839.tar.gz</span></span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…ä¾èµ–åŒ…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install perl gcc make kernel-headers kernel-devel</span><br></pre></td></tr></table></figure></li><li><p>è¿›å…¥VMwareToolså®‰è£…ç›®å½•ï¼Œå¹¶æ‰§è¡Œå®‰è£…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/vmware-tools-distrib</span><br><span class="line">./vmware-install.pl</span><br><span class="line"><span class="comment"># æ‰§è¡Œå®‰è£…è„šæœ¬è¿›è¡Œå®‰è£…ï¼Œä¸€ç›´æŒ‰å›è½¦æŒ‰é”®å³å¯ã€‚</span></span><br></pre></td></tr></table></figure></li></ol>              </div>            </details>]]></content>
    
    
    <summary type="html">å„ä¸ªç‰ˆæœ¬ VMware å®‰è£…å„ä¸ªç‰ˆæœ¬çš„ Linuxã€‚</summary>
    
    
    
    <category term="Note" scheme="https://blog.halfsummer.xyz/categories/Note/"/>
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/categories/Note/Program/"/>
    
    
    <category term="Linux" scheme="https://blog.halfsummer.xyz/tags/Linux/"/>
    
    <category term="WMware" scheme="https://blog.halfsummer.xyz/tags/WMware/"/>
    
    <category term="CentOS" scheme="https://blog.halfsummer.xyz/tags/CentOS/"/>
    
    <category term="Ubuntu" scheme="https://blog.halfsummer.xyz/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>VMwareç½‘ç»œé…ç½®ï¼Œåªæ­¤ä¸€ç¯‡å°±å¤Ÿäº†ï¼</title>
    <link href="https://blog.halfsummer.xyz/posts/ba31607c.html"/>
    <id>https://blog.halfsummer.xyz/posts/ba31607c.html</id>
    <published>2023-02-13T12:23:06.000Z</published>
    <updated>2023-02-16T16:48:41.964Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1-ä½¿ç”¨VMwareè™šæ‹Ÿæœºè¿æ¥ç½‘ç»œæ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜">1. ä½¿ç”¨VMwareè™šæ‹Ÿæœºè¿æ¥ç½‘ç»œæ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜</h1><ul><li>ä¸»æœºå’Œè™šæ‹Ÿæœºå¦‚ä½•å»ºç«‹ç½‘ç»œè¿æ¥</li><li>è™šæ‹Ÿæœºå¦‚ä½•è®¿é—®Internet</li><li>åœ¨å·¥ä½œå•ä½çš„ç½‘ç»œä¸­å¦‚ä½•ä½¿ç”¨è™šæ‹Ÿæœºï¼Œé¿å…è™šæ‹Ÿæœºå½±å“æ­£å¸¸ç½‘ç»œ</li></ul><hr><h1 id="2-ç½‘ç»œåœºæ™¯é…ç½®">2. ç½‘ç»œåœºæ™¯é…ç½®</h1><h2 id="2-1-å®¿ä¸»æœºä¸è™šæ‹Ÿæœºç»„æˆå±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘ä¸èƒ½è®¿é—®è¯¥ç½‘ç»œ">2.1 å®¿ä¸»æœºä¸è™šæ‹Ÿæœºç»„æˆå±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘ä¸èƒ½è®¿é—®è¯¥ç½‘ç»œ</h2><p>ç›¸å½“äºæŠŠè™šæ‹Ÿæœºå½“æˆPCï¼Œå®¿ä¸»æœºå½“æˆè·¯ç”±å™¨ã€‚&quot;è·¯ç”±å™¨&quot;ä¸æ¥å…¥å¤–ç½‘ã€‚</p><details class="folding-tag" cyan><summary> ä»…ä¸»æœºæ¨¡å¼ </summary>              <div class='content'>              <ul><li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºç»„æˆä¸€ä¸ªå°é—­çš„å±€åŸŸç½‘</li><li>è™šæ‹Ÿæœºä¸èƒ½è®¿é—®å¤–éƒ¨ç½‘ç»œã€äº’è”ç½‘</li><li>å¤–éƒ¨ç½‘ç»œä¹Ÿä¸èƒ½è®¿é—®è™šæ‹Ÿæœº</li></ul></li><li><p><strong>å…·ä½“æ“ä½œè¿‡ç¨‹</strong></p><div class="note default modern"><p>è¿›å…¥VMware-&gt;ä¸»èœå•-&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</p></li></ul></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213123835460.png" alt="image-20230213123835460"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213124245129.png" alt="image-20230213124245129"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213124434486.png" alt="image-20230213124434486"></p><blockquote><ul><li>åœ¨ç½‘ç»œåˆ—è¡¨ä¸­é€‰æ‹©â€œVMnet1â€,å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ç‚¹å‡»â€œæ·»åŠ ç½‘ç»œâ€æŒ‰é’®å¢åŠ ï¼Œä¸ºä»€ä¹ˆæ˜¯VMnet1å‘¢ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯VMWareé»˜è®¤è®¾ç½®ï¼Œå½“ç„¶æ˜¯ç”¨å…¶ä»–ç½‘å¡ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li><li>é€‰æ‹©â€œä»…ä¸»æœºæ¨¡å¼â€</li><li>å¹¶é€‰æ‹©â€œå°†ä¸»æœºè™šæ‹Ÿé€‚é…å™¨è¿æ¥åˆ°æ­¤ç½‘ç»œâ€å’Œâ€œæ˜¯ç”¨æœ¬åœ°DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿæœºâ€é€‰é¡¹</li><li>å­ç½‘IP:10.10.10.0ï¼Œå­ç½‘æ©ç ï¼š255.255.255.0ï¼Œæˆ‘ä¹ æƒ¯å°†â€œä»…ä¸»æœºæ¨¡å¼â€çš„å­ç½‘ç½‘æ®µé…ç½®ä¸ºâ€œ10.10.10.0â€ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥è®¾ç½®ã€‚</li></ul></blockquote>  <div class="note default modern"><p>ä¿®æ”¹è™šæ‹Ÿæœºè®¾ç½®ï¼Œå°†ç½‘ç»œé€‚é…å™¨ä¿®æ”¹ä¸ºâ€œä»…ä¸»æœºæ¨¡å¼â€</p></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213124901613.png" alt="image-20230213124901613"></p><ul><li><p>æ€»ç»“</p><p>å®¿ä¸»æœºä¸»æœºIPåœ°å€ä¸ºï¼š10.10.10.1<br>è™šæ‹Ÿæœºçš„IPåœ°å€ä¸ºè‡ªåŠ¨è·å–ï¼Œä¸€èˆ¬ä¸ºï¼š10.10.10.128<br>æ­¤æ—¶å®¿ä¸»æœºå’Œè™šæ‹Ÿæœºç»„æˆäº†ä¸€ä¸ªå°çš„ç‹¬ç«‹å±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘ä¸èƒ½è®¿é—®è¯¥ç½‘ç»œï¼ŒåŒæ—¶è¯¥ç½‘ç»œå†…çš„è™šæ‹Ÿæœºä¹Ÿä¸èƒ½è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œå¦‚æœå¤§å®¶æœ‰æ­¤ç§åº”ç”¨éœ€æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥æ–¹å¼æ­å»ºç½‘ç»œã€‚</p></li></ul>              </div>            </details><h2 id="2-2-è™šæ‹ŸæœºåŠ å…¥å·¥ä½œå•ä½å±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘å…è®¸è®¿é—®è™šæ‹Ÿæœº">2.2 è™šæ‹ŸæœºåŠ å…¥å·¥ä½œå•ä½å±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘å…è®¸è®¿é—®è™šæ‹Ÿæœº</h2><p>ç›¸å½“äºæŠŠè™šæ‹Ÿæœºå½“æˆPCï¼Œå»è¿æ¥å®¿ä¸»æœºã€‚å®¿ä¸»æœºå’Œè™šæ‹Ÿæœºè¿æ¥è·¯ç”±åå†æ¥å…¥å¤–ç½‘ã€‚</p><details class="folding-tag" cyan><summary> æ¡¥æ¥æ¨¡å¼ </summary>              <div class='content'>              <ul><li><p><strong>ç‰¹ç‚¹</strong></p><ul><li>å¯ä»¥å°†è™šæ‹Ÿæœºçœ‹åšä¸€å°æ–°ç”µè„‘ï¼Œæ¥å…¥äº†å®¿ä¸»æœºæ‰€åœ¨çš„ç½‘ç»œï¼Œå¦‚æœæ˜¯åœ¨å·¥ä½œå•ä½ï¼Œå¯èƒ½é€ æˆè™šæ‹ŸæœºIPå ç”¨å•ä½åŒäº‹ç”µè„‘çš„IPåœ°å€ï¼Œå°å¿ƒå•ä½ç½‘ç®¡ä¼šæ‰¾ä½ å‘¦ã€‚ã€‚ã€‚</li><li>è™šæ‹Ÿæœºå…è®¸è®¿é—®å®¿ä¸»æœºæ‰€åœ¨ç½‘ç»œçš„å…¶ä»–ç”µè„‘</li><li>è™šæ‹Ÿæœºå…è®¸è®¿é—®Internetäº’è”ç½‘ï¼ˆå½“ç„¶å®¿ä¸»æœºå¿…é¡»å¯ä»¥è®¿é—®äº’è”ç½‘æ‰è¡Œï¼‰ã€‚</li><li>ä¸»æœºå’Œè™šæ‹Ÿæœºé€šè¿‡å•ä½å±€åŸŸç½‘ï¼Œäº’è”äº’é€šã€‚</li></ul></li><li><p><strong>å…·ä½“æ“ä½œè¿‡ç¨‹</strong></p><div class="note default modern"><p>è¿›å…¥VMware-&gt;ä¸»èœå•-&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</p></li></ul></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213123835460.png" alt="image-20230213123835460"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213124245129.png" alt="image-20230213124245129"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213132601922.png" alt="image-20230213132601922"></p><blockquote><ul><li>åœ¨ç½‘ç»œåˆ—è¡¨ä¸­é€‰æ‹©â€œVMnet0â€,å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ç‚¹å‡»â€œæ·»åŠ ç½‘ç»œâ€æŒ‰é’®å¢åŠ ï¼Œä¸ºä»€ä¹ˆæ˜¯VMnet0å‘¢ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯VMwareé»˜è®¤è®¾ç½®ï¼Œå½“ç„¶æ˜¯ç”¨å…¶ä»–ç½‘å¡ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li><li>é€‰æ‹©â€œæ¡¥æ¥æ¨¡å¼â€</li><li>é€‰æ‹©å®¿ä¸»æœºè®¿é—®å¤–éƒ¨ç½‘ç»œçš„ç‰©ç†ç½‘å¡ï¼Œå¯ä»¥ä½¿æœ‰çº¿ç½‘å¡ä¹Ÿå¯ä»¥æ˜¯æ— çº¿ç½‘å¡ã€‚</li><li>ç¡®å®šï¼Œä¿å­˜</li></ul></blockquote>  <div class="note default modern"><p>ä¿®æ”¹è™šæ‹Ÿæœºè®¾ç½®ï¼Œå°†ç½‘ç»œé€‚é…å™¨ä¿®æ”¹ä¸ºâ€œæ¡¥æ¥æ¨¡å¼â€</p></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213133120357.png" alt="image-20230213133120357"></p><ul><li><p>æ€»ç»“</p><p>è™šæ‹Ÿæœºä»å•ä½å±€åŸŸç½‘è‡ªåŠ¨è·å–IPåœ°å€ï¼Œå¦‚æœæœªè·å–åˆ°IPåœ°å€ï¼Œéœ€è¦è‡ªå·±æŒ‡å®šIP<br>å®¿ä¸»æœºä»ç„¶ä½¿ç”¨å•ä½å†…åŸæœ‰IP<br>å®¿ä¸»æœºå’Œè™šæ‹ŸæœºåŒæ—¶æ¥å…¥å·¥ä½œå•ä½å±€åŸŸç½‘ç»œè™šæ‹Ÿæœºé€šè¿‡å…¬å¸å±€åŸŸç½‘ï¼Œè®¿é—®Internetäº’è”ç½‘ï¼ˆå½“ç„¶éœ€è¦ç½‘ç®¡äººå‘˜ä¸ºè™šæ‹ŸæœºIPå¼€é€šå¤–ç½‘è®¿é—®æƒé™ï¼‰ã€‚</p></li></ul>              </div>            </details><h2 id="2-3-è™šæ‹Ÿæœºé€šè¿‡å®¿ä¸»æœºè®¿é—®äº’è”ç½‘">2.3 è™šæ‹Ÿæœºé€šè¿‡å®¿ä¸»æœºè®¿é—®äº’è”ç½‘</h2><p>ç›¸å½“äºæŠŠè™šæ‹Ÿæœºå½“æˆPCï¼Œå»è¿æ¥å®¿ä¸»æœºï¼ˆå®¿ä¸»æœºä¹Ÿæ˜¯ä¸€å±‚è·¯ç”±ï¼‰ã€‚å®¿ä¸»æœºå†è¿æ¥è·¯ç”±åå†æ¥å…¥å¤–ç½‘ã€‚</p><details class="folding-tag" cyan><summary> NATæ¨¡å¼ </summary>              <div class='content'>              <ul><li><p><strong>ç‰¹ç‚¹</strong></p><ul><li><p>è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºç»„æˆå°å±€åŸŸç½‘ï¼Œåšåˆ°äº’è”äº’é€šã€‚</p></li><li><p>è™šæ‹Ÿæœºé€šè¿‡å®¿ä¸»æœºè®¿é—®å¤–éƒ¨ç½‘ç»œï¼ˆæ­¤æ—¶å®¿ä¸»æœºèµ·åˆ°è·¯ç”±å™¨ä½œç”¨ï¼‰ï¼Œä½†å¤–éƒ¨ç½‘ç»œä¸èƒ½è®¿é—®è™šæ‹Ÿæœº</p></li><li><p>è™šæ‹Ÿæœºå…è®¸è®¿é—®Internetäº’è”ç½‘ï¼ˆå½“ç„¶å®¿ä¸»æœºå¿…é¡»å¯ä»¥è®¿é—®äº’è”ç½‘æ‰è¡Œï¼‰</p></li></ul></li><li><p><strong>å…·ä½“æ“ä½œè¿‡ç¨‹</strong></p><div class="note default modern"><p>è¿›å…¥VMware-&gt;ä¸»èœå•-&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨</p></li></ul></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213123835460.png" alt="image-20230213123835460"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213124245129.png" alt="image-20230213124245129"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213133801249.png" alt="image-20230213133801249"></p><blockquote><ul><li>åœ¨ç½‘ç»œåˆ—è¡¨ä¸­é€‰æ‹©â€œVMnet8â€,å¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ç‚¹å‡»â€œæ·»åŠ ç½‘ç»œâ€æŒ‰é’®å¢åŠ ï¼Œä¸ºä»€ä¹ˆæ˜¯VMnet8å‘¢ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯VMwareé»˜è®¤è®¾ç½®ï¼Œå½“ç„¶æ˜¯ç”¨å…¶ä»–ç½‘å¡ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li><li>é€‰æ‹©â€œNATæ¨¡å¼â€</li><li>å¹¶é€‰æ‹©â€œå°†ä¸»æœºè™šæ‹Ÿé€‚é…å™¨è¿æ¥åˆ°æ­¤ç½‘ç»œâ€å’Œâ€œæ˜¯ç”¨æœ¬åœ°DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿæœºâ€é€‰é¡¹</li><li>å­ç½‘IP:10.0.0.0ï¼Œå­ç½‘æ©ç ï¼š255.255.255.0ï¼Œä¸ºäº†ä¸â€œä»…ä¸»æœºæ¨¡å¼â€åŒºåˆ†ï¼Œæˆ‘ä¹ æƒ¯å°†â€œNATæ¨¡å¼â€çš„å­ç½‘ç½‘æ®µé…ç½®ä¸ºâ€œ10.0.0.0â€ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥è®¾ç½®ã€‚</li></ul></blockquote>  <div class="note default modern"><p>ä¿®æ”¹è™šæ‹Ÿæœºè®¾ç½®ï¼Œå°†ç½‘ç»œé€‚é…å™¨ä¿®æ”¹ä¸ºâ€œNATæ¨¡å¼â€</p></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213134055381.png" alt="image-20230213134055381"></p><ul><li><p>æ€»ç»“</p><p>å®¿ä¸»æœºä¸»æœºIPåœ°å€ä¸ºï¼š10.0.0.1<br>è™šæ‹Ÿæœºçš„IPåœ°å€ä¸ºè‡ªåŠ¨è·å–ï¼Œä¸€èˆ¬ä¸ºï¼š10.0.0.128<br>æ­¤æ—¶å®¿ä¸»æœºå’Œè™šæ‹Ÿæœºç»„æˆäº†ä¸€ä¸ªå°çš„ç‹¬ç«‹å±€åŸŸç½‘ï¼Œå…¶ä»–ç”µè„‘ä¸èƒ½è®¿é—®è¯¥ç½‘ç»œè™šæ‹Ÿæœºå¯ä»¥è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œå¦‚æœå®¿ä¸»æœºå¯ä»¥è®¿é—®Internetäº’è”ç½‘ï¼Œæ­¤æ—¶è™šæ‹Ÿå°±å…·å¤‡äº†è®¿é—®äº’è”ç½‘çš„èƒ½åŠ›ï¼›æˆ‘ä¸ªäººåœ¨å·¥ä½œå•ä½ä¸€èˆ¬ä½¿ç”¨è¯¥æ–¹å¼ï¼Œè™šæ‹Ÿæœºå¯ä»¥ä½¿ç”¨äº’è”ç½‘åŠŸèƒ½ï¼Œåˆä¸ä¼šæœ‰ç½‘ç®¡æ‰¾ä¸Šé—¨æ¥ã€‚å¦‚æœå¤§å®¶æœ‰æ­¤ç§åº”ç”¨éœ€æ±‚ï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥æ–¹å¼æ­å»ºç½‘ç»œã€‚</p></li></ul>              </div>            </details><h1 id="3-å›¾è§£åˆ†æ">3. å›¾è§£åˆ†æ</h1><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/170317080056108.jpg" alt="wKioL1ivr5PzQxNdAAMSz2NTYXk509.jpg"></p>]]></content>
    
    
    <summary type="html">æˆ‘ä»¬åœ¨ä½¿ç”¨ WMware è™šæ‹Ÿæœºæ—¶ï¼Œé…ç½®é¢‘åº¦æœ€é«˜çš„å¾€å¾€æ˜¯ç½‘ç»œé…ç½®ï¼Œæœ€è®©äººå›°æƒ‘çš„å¾€å¾€ä¹Ÿæ˜¯ç½‘ç»œè®¾ç½®ï¼Œè™šæ‹Ÿæœºå¦‚ä½•å®ç°å’Œå®¿ä¸»æœºçš„é€šä¿¡ï¼Ÿè™šæ‹Ÿæœºå¦‚ä½•å®ç°ä¸å®¿ä¸»æœºä¹‹å¤–çš„å¤–éƒ¨ä¸»æœºé€šä¿¡ï¼ŸåŒä¸€ä¸ªå®¿ä¸»æœºå†…çš„å¤šä¸ªè™šæ‹Ÿæœºä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Ÿè¿™äº›é—®é¢˜æ˜¯å¦å¸¸å¸¸å›°æƒ‘ç€ä½ ã€‚</summary>
    
    
    
    <category term="Note" scheme="https://blog.halfsummer.xyz/categories/Note/"/>
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/categories/Note/Program/"/>
    
    
    <category term="WMware" scheme="https://blog.halfsummer.xyz/tags/WMware/"/>
    
    <category term="è™šæ‹Ÿæœº" scheme="https://blog.halfsummer.xyz/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>Zabbix 6.0 å­¦ä¹ ç¬”è®°</title>
    <link href="https://blog.halfsummer.xyz/posts/c1031b26.html"/>
    <id>https://blog.halfsummer.xyz/posts/c1031b26.html</id>
    <published>2023-02-12T00:44:21.000Z</published>
    <updated>2023-02-16T16:48:41.964Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="1ï¼‰zabbix-ç®€ä»‹">1ï¼‰zabbix ç®€ä»‹</h1><div class="tip home"><p><strong>Zabbixå®˜ç½‘</strong>ï¼š<a href="https://www.zabbix.com">https://www.zabbix.com</a></p></div><div class="tip cogs"><p><strong>Zabbixå®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://www.zabbix.com/documentation/6.0/zh/manual/installation/requirements">https://www.zabbix.com/documentation/6.0/zh/manual/installation/requirements</a></p></div><p>å‚è€ƒæ–‡æ¡ˆï¼š<a href="https://blog.csdn.net/weixin_52906737/article/details/128331225">https://blog.csdn.net/weixin_52906737/article/details/128331225</a></p><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>Zabbixæ˜¯ç”±Alexei Vladishevå¼€å‘çš„ä¸€ç§ç½‘ç»œç›‘è§†ã€ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäºServer-Clientæ¶æ„ã€‚å¯ç”¨äºç›‘è§†å„ç§ç½‘ç»œæœåŠ¡ã€æœåŠ¡å™¨å’Œç½‘ç»œæœºå™¨ç­‰çŠ¶æ€ã€‚</p><p>ä½¿ç”¨å„ç§Database-endå¦‚MySQL, PostgresQL, sQLite, Oracleæˆ– IBM DB2å‚¨å­˜èµ„æ–™ã€‚Serverç«¯åŸºäºCè¯­è¨€ã€Webç®¡ç†ç«¯frontendåˆ™æ˜¯åŸºäºPHPæ‰€åˆ¶ä½œçš„ã€‚</p><p>Zabbixå¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼ç›‘è§†ã€‚å¯ä»¥åªä½¿ç”¨Simple Check ä¸éœ€è¦å®‰è£…Clientç«¯ï¼Œäº¦å¯åŸºäºSMTPæˆ–HTTPâ€¦å„ç§åè®®å®šåˆ¶ç›‘è§†ã€‚</p><p>åœ¨å®¢æˆ·ç«¯å¦‚UNIX,Windowsä¸­å®‰è£…Zabbix Agent ä¹‹åï¼Œå¯ç›‘è§† CPU Loadã€ç½‘ç»œä½¿ç”¨çŠ¶å†µã€ç¡¬ç›˜å®¹é‡ç­‰å„ç§çŠ¶æ€ã€‚è€Œå°±ç®—æ²¡æœ‰å®‰è£…Agent åœ¨ç›‘è§†å¯¹è±¡ä¸­ï¼ŒZabbixä¹Ÿå¯ä»¥ç»ç”±SNMPã€TCPã€ICMPã€åˆ©ç”¨IPMIã€SSHã€ telnet å¯¹ç›®æ ‡è¿›è¡Œç›‘è§†ã€‚</p><p>Zabbbixè‡ªå¸¦çš„ltemè¶³å¤Ÿæ»¡è¶³æ™®é€šå°å…¬å¸çš„ç›‘æ§éœ€æ±‚ï¼Œå¯¹äºå¤§å…¬å¸ä¹Ÿå¯ä»¥è®¾å®šè‡ªå®šä¹‰çš„ltemï¼Œè‡ªåŠ¨ç”ŸæˆæŠ¥è¡¨ï¼Œä¹Ÿæœ‰APIå¯ä»¥å’Œå…¶ä»–ç³»ç»Ÿé›†æˆã€‚</p><h2 id="ä½¿ç”¨-Zabbix-çš„ä¼˜åŠ¿">ä½¿ç”¨ Zabbix çš„ä¼˜åŠ¿</h2><ul><li><p>å¼€æº,æ— è½¯ä»¶æˆæœ¬æŠ•å…¥</p></li><li><p>Server å¯¹è®¾å¤‡æ€§èƒ½è¦æ±‚ä½</p></li><li><p>æ”¯æŒè®¾å¤‡å¤š,è‡ªå¸¦å¤šç§ç›‘æ§æ¨¡æ¿</p></li><li><p>æ”¯æŒåˆ†å¸ƒå¼é›†ä¸­ç®¡ç†,æœ‰è‡ªåŠ¨å‘ç°åŠŸèƒ½,å¯ä»¥å®ç°è‡ªåŠ¨åŒ–ç›‘æ§</p></li><li><p>å¼€æ”¾å¼æ¥å£,æ‰©å±•æ€§å¼º,æ’ä»¶ç¼–å†™å®¹æ˜“</p></li><li><p>å½“ç›‘æ§çš„ item æ¯”è¾ƒå¤šæœåŠ¡å™¨é˜Ÿåˆ—æ¯”è¾ƒå¤§æ—¶å¯ä»¥é‡‡ç”¨ä¸»åŠ¨çŠ¶æ€,è¢«ç›‘æ§å®¢æˆ·ç«¯ä¸»åŠ¨ ä»server ç«¯å»ä¸‹è½½éœ€è¦ç›‘æ§çš„ item ç„¶åå–æ•°æ®ä¸Šä¼ åˆ° server ç«¯ã€‚ è¿™ç§æ–¹å¼å¯¹æœåŠ¡å™¨çš„è´Ÿè½½æ¯”è¾ƒå°ã€‚</p></li><li><p>Api çš„æ”¯æŒ,æ–¹ä¾¿ä¸å…¶ä»–ç³»ç»Ÿç»“åˆ</p></li><li><p>zabbixå¯ä»¥æ»¡è¶³ç†æƒ³åŒ–çš„ç›‘æ§ç³»ç»Ÿéœ€æ±‚</p></li></ul><h2 id="è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸ">è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>LTSä¸ºLong Term Supportçš„ç®€å†™ï¼Œzabbixå°†ä¸ºå®¢æˆ·æä¾›5å¹´çš„æ”¯æŒæœåŠ¡ã€‚å‰ä¸‰å¹´å®Œå…¨æ”¯æŒä¸åä¸¤å¹´æœ‰é™åˆ¶æ”¯æŒã€‚å‰ä¸‰å¹´åŒ…æ‹¬ä¸€èˆ¬ã€å…³é”®ã€å®‰å…¨æ€§é—®é¢˜è§£å†³ï¼Œåä¸¤å¹´åŒ…æ‹¬å…³é”®ã€å®‰å…¨æ€§é—®é¢˜è§£å†³ã€‚è¶…å‡ºæ—¶é—´ä¸æä¾›æŠ€æœ¯æ”¯æŒæœåŠ¡ã€‚ç„¶è€Œæ ‡å‡†ç‰ˆï¼Œåªæä¾›6+1æœˆæ”¯æŒã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213111630296.png" alt="image-20230213111630296"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213111643162.png" alt="image-20230213111643162"></p><hr><h1 id="2ï¼‰zabbix-æ¶æ„">2ï¼‰zabbix æ¶æ„</h1><h2 id="ç›‘æ§æ–¹å¼">ç›‘æ§æ–¹å¼</h2><ol><li><p><strong>è¢«åŠ¨ç›‘æ§</strong><br>è¢«åŠ¨æ£€æµ‹ï¼šç›¸å¯¹äºagentè€Œè¨€ï¼›agent, serverå‘agentè¯·æ±‚è·å–é…ç½®çš„å„ç›‘æ§é¡¹ç›¸å…³çš„æ•°æ®ï¼Œagentæ¥æ”¶è¯·æ±‚ã€è·å–æ•°æ®å¹¶å“åº”ç»™serverï¼›</p></li><li><p><strong>ä¸»åŠ¨ç›‘æ§</strong><br>ä¸»åŠ¨æ£€æµ‹ï¼šç›¸å¯¹äºagentè€Œè¨€ï¼›agent(active),agentå‘serverè¯·æ±‚ä¸è‡ªå·±ç›¸å…³ç›‘æ§é¡¹é…ç½®ï¼Œä¸»åŠ¨åœ°å°†serveré…ç½®çš„ç›‘æ§é¡¹ç›¸å…³çš„æ•°æ®å‘é€ç»™serverï¼›ä¸»åŠ¨ç›‘æ§èƒ½æå¤§èŠ‚çº¦ç›‘æ§server çš„èµ„æºã€‚</p></li></ol><h2 id="å¯ç›‘æ§å¯¹è±¡">å¯ç›‘æ§å¯¹è±¡</h2><ul><li>æ•°æ®åº“ï¼š MySQL,MariaDB,Oracle,SQL Server    agent</li><li>åº”ç”¨è½¯ä»¶ï¼šNginx,Apache,PHP,Tomcat                 agent</li><li>é›†ç¾¤ï¼š LVS,Keepalived,HAproxy,RHCS,F5          agent</li><li>è™šæ‹ŸåŒ–ï¼š VMware,KVM,XEN ,docker,k8s             agent</li><li>æ“ä½œç³»ç»Ÿï¼šLinux,Unix,Windowsæ€§èƒ½å‚æ•°              agent</li><li>ç¡¬ä»¶ï¼š æœåŠ¡å™¨ï¼Œå­˜å‚¨ï¼Œç½‘ç»œè®¾å¤‡ IPMI                   IPMI</li><li>ç½‘ç»œï¼š ç½‘ç»œç¯å¢ƒï¼ˆå†…ç½‘ç¯å¢ƒï¼Œå¤–ç½‘ç¯å¢ƒï¼‰             SNMP</li></ul><h2 id="ç›‘æ§æ¶æ„">ç›‘æ§æ¶æ„</h2><blockquote><ul><li>Zabbixæ˜¯ä¸€ä¸ªCS(æœåŠ¡ç«¯/å®¢æˆ·ç«¯)æ¶æ„çš„æœåŠ¡.</li><li>zabbixç›‘æ§æ¶æ„<br>Zabbix-Agentè·å–æ•°æ®  --å‘é€ç»™  --&gt;Zabbix-ServeræœåŠ¡ç«¯  --&gt;æ•°æ®ä¼šè¢«å­˜æ”¾ --æ•°æ®åº“ &lt;â€“Zabbix Web é¡µé¢å±•ç¤ºæ•°æ®</li><li>é‡‡é›†æ•°æ®â€“&gt; æ•°æ®æ”¶é›†ï¼Œæ•°æ®åˆ†æï¼ŒæŠ¥è­¦  --&gt;å­˜å‚¨  --&gt;å‹å¥½çš„å±•ç¤º</li></ul></blockquote><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230213111546778.png" alt="image-20230213111546778"></p><ol><li><p><strong>zabbix sever</strong><br>Zabbix server æ˜¯ agent ç¨‹åºæŠ¥å‘Šç³»ç»Ÿå¯ç”¨æ€§ã€ç³»ç»Ÿå®Œæ•´æ€§å’Œç»Ÿè®¡æ•°æ®çš„æ ¸å¿ƒç»„ä»¶ï¼Œæ˜¯æ‰€æœ‰é…ç½®ä¿¡æ¯ã€ç»Ÿè®¡ä¿¡æ¯å’Œæ“ä½œæ•°æ®çš„æ ¸å¿ƒå­˜å‚¨å™¨ã€‚</p></li><li><p><strong>zabbixæ•°æ®åº“å­˜å‚¨</strong><br>æ‰€æœ‰é…ç½®ä¿¡æ¯å’Œ Zabbix æ”¶é›†åˆ°çš„æ•°æ®éƒ½è¢«å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚</p></li><li><p><strong>Zabbix Web ç•Œé¢</strong><br>ä¸ºäº†ä»ä»»ä½•åœ°æ–¹å’Œä»»ä½•å¹³å°éƒ½å¯ä»¥è½»æ¾çš„è®¿é—®Zabbix, æˆ‘ä»¬æä¾›åŸºäºWebçš„Zabbixç•Œé¢ã€‚è¯¥ç•Œé¢æ˜¯Zabbix Serverçš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸(ä½†ä¸ä¸€å®š)è·ŸZabbix Serverè¿è¡Œåœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šã€‚</p><p>å¦‚æœä½¿ç”¨ SQLite,Zabbix Web ç•Œé¢å¿…é¡»è¦è·ŸZabbix Serverè¿è¡Œåœ¨åŒä¸€å°ç‰©ç†æœºå™¨ä¸Šã€‚</p></li><li><p><strong>Zabbix Proxy ä»£ç†æœåŠ¡å™¨</strong><br>Zabbix proxy å¯ä»¥æ›¿Zabbix Serveræ”¶é›†æ€§èƒ½å’Œå¯ç”¨æ€§æ•°æ®ã€‚Proxyä»£ç†æœåŠ¡å™¨æ˜¯Zabbixè½¯ä»¶å¯é€‰æ‹©éƒ¨ç½²çš„ä¸€éƒ¨åˆ†ï¼›å½“ç„¶ï¼ŒProxyä»£ç†æœåŠ¡å™¨å¯ä»¥å¸®åŠ©å•å°Zabbix Serveråˆ†æ‹…è´Ÿè½½å‹åŠ›ã€‚</p></li><li><p><strong>Zabbix Agent ç›‘æ§ä»£ç†</strong><br>Zabbix agentsç›‘æ§ä»£ç† éƒ¨ç½²åœ¨ç›‘æ§ç›®æ ‡ä¸Šï¼Œèƒ½å¤Ÿä¸»åŠ¨ç›‘æ§æœ¬åœ°èµ„æºå’Œåº”ç”¨ç¨‹åºï¼Œå¹¶å°†æ”¶é›†åˆ°çš„æ•°æ®æŠ¥å‘Šç»™Zabbix Serverã€‚</p></li><li><p><strong>Zabbix æ•°æ®æµ</strong><br>ç›‘æ§æ–¹é¢ï¼Œä¸ºäº†åˆ›å»ºä¸€ä¸ªç›‘æ§é¡¹(item)ç”¨äºé‡‡é›†æ•°æ®ï¼Œå¿…é¡»å…ˆåˆ›å»ºä¸€ä¸ªä¸»æœºï¼ˆhostï¼‰ã€‚</p><p>å‘Šè­¦æ–¹é¢ï¼Œåœ¨ç›‘æ§é¡¹é‡Œåˆ›å»ºè§¦å‘å™¨ï¼ˆtriggerï¼‰ï¼Œé€šè¿‡è§¦å‘å™¨ï¼ˆtriggerï¼‰æ¥è§¦å‘å‘Šè­¦åŠ¨ä½œï¼ˆactionï¼‰ã€‚ å› æ­¤ï¼Œå¦‚æœä½ æƒ³æ”¶åˆ°Server XCPUè´Ÿè½½è¿‡é«˜çš„å‘Šè­¦ï¼Œå¿…é¡»æ»¡è¶³ï¼š</p><ul><li>ä¸ºServer Xåˆ›å»ºä¸€ä¸ªhostå¹¶å…³è”ä¸€ä¸ªç”¨äºå¯¹CPUè¿›è¡Œç›‘æ§çš„ç›‘æ§é¡¹ï¼ˆItemï¼‰ã€‚</li><li>åˆ›å»ºä¸€ä¸ªTriggerï¼Œè®¾ç½®æˆå½“CPUè´Ÿè½½è¿‡é«˜æ—¶ä¼šè§¦å‘</li><li>Triggerè¢«è§¦å‘ï¼Œå‘é€å‘Šè­¦é‚®ä»¶</li></ul></li></ol><hr><h1 id="3ï¼‰ç›‘æ§çš„ç”Ÿå‘½å‘¨æœŸ">3ï¼‰ç›‘æ§çš„ç”Ÿå‘½å‘¨æœŸ</h1><ol><li><p>æœåŠ¡å™¨ä¸Šæ¶æœºæŸœ</p></li><li><p>è¿›è¡ŒåŸºç¡€è®¾æ–½çš„ç›‘æ§</p><ul><li>æœåŠ¡å™¨æ¸©åº¦ï¼Œé£æ‰‡è½¬é€Ÿï¼ˆipmitoolå‘½ä»¤å¯¹æœåŠ¡å™¨è¿›è¡Œè¿œç¨‹ç®¡ç†ï¼Œæ³¨æ„åªèƒ½ç”¨åœ¨ç‰©ç†æœºï¼ŒVMwareä¸è¡Œï¼‰</li><li>å­˜å‚¨çš„å®¹é‡ï¼Œæ€§èƒ½ï¼ˆdfï¼Œfdiskï¼Œddï¼Œiotopï¼‰</li><li>CPUæ€§èƒ½ï¼ˆIscpuï¼Œuptimeï¼Œtopï¼Œhtopï¼Œglancesï¼‰</li><li>å†…å­˜ï¼ˆfreeï¼‰</li><li>ç½‘ç»œæƒ…å†µï¼ˆiftopï¼Œnethogsï¼‰</li></ul></li><li><p>åº”ç”¨ç›‘æ§</p><ul><li>æ•°æ®åº“mysqlï¼Œredis</li><li>nginx</li><li>php-fmp</li><li>python</li></ul></li><li><p>æ³¨æ„ï¼šè‹¥æ˜¯æœåŠ¡å™¨åœ¨ç»´æŠ¤ä¸­ï¼Œè¿˜å¾—æš‚åœç›‘æ§æŒ‡æ ‡ï¼Œå¦åˆ™ç›‘æ§ä¼šä¸åœæŠ¥è­¦ã€‚</p></li><li><p>ç›‘æ§ç³»ç»Ÿåœ¨è¿ç»´è‡ªåŠ¨åŒ–ç³»ç»Ÿä¸­ï¼Œå®ç°å¦‚ä¸‹åŠŸèƒ½</p><ul><li>ç›‘æ§æ•°æ®æ”¶é›†ï¼Œå¯è§†åŒ–å±•ç¤ºï¼ˆå›¾æ ‡å±•ç¤ºï¼ŒæŸ±çŠ¶å›¾ï¼Œæ›²çº¿å›¾ï¼ŒæŠ˜çº¿å›¾ï¼‰</li><li>å¼‚å¸¸æ•°æ®æŠ¥è­¦</li><li>ç»“åˆCMDBç­‰ç³»ç»ŸååŒå·¥ä½œ</li></ul></li></ol><hr><h1 id="4ï¼‰ä¸»æœºè§„åˆ’">4ï¼‰ä¸»æœºè§„åˆ’</h1><h2 id="æ¨èé…ç½®">æ¨èé…ç½®</h2><table>  <colgroup>    <col style="width: 22%" />    <col style="width: 4%" />    <col style="width: 38%" />    <col style="width: 33%" />    <col style="width: 1%" />  </colgroup>  <thead>    <tr class="header">      <th>è§„æ¨¡ å¹³</th>      <th>CPU</th>      <th>å†…å­˜ æ•°æ®åº“</th>      <th colspan="2">å—ç›‘æ§çš„ä¸»æœºæ•°é‡</th>    </tr>  </thead>  <tbody>    <tr class="odd">      <td><em>å°å‹</em> C</td>      <td>ntOS V</td>      <td>rtual Appliance M</td>      <td>SQL InnoDB 1</td>      <td>0</td>    </tr>    <tr class="even">      <td><em>ä¸­å‹</em> C</td>      <td>ntOS 2</td>      <td>CPU cores/2GB M</td>      <td>SQL InnoDB 5</td>      <td>0</td>    </tr>    <tr class="odd">      <td><em>å¤§å‹</em> R</td>      <td>dHat Enterprise Linux 4</td>      <td>CPU cores/8GB R</td>      <td>ID10 MySQL InnoDB æˆ– PostgreSQL &amp;g</td>      <td>;1000</td>    </tr>    <tr class="even">      <td><em>æå¤§å‹</em> Re</td>      <td>Hat Enterprise Linux 8</td>      <td>PU cores/16GB Fa</td>      <td>t RAID10 MySQL InnoDB æˆ– PostgreSQL &amp;gt</td>      <td>10000</td>    </tr>  </tbody></table>>  å®é™…ä¸Šï¼ŒZabbix ç¯å¢ƒçš„é…ç½®éå¸¸ä¾èµ–äºç›‘æ§é¡¹ï¼ˆä¸»åŠ¨ï¼‰å’Œæ›´æ–°é—´éš”ã€‚ å¦‚æœæ˜¯è¿›è¡Œå¤§è§„æ¨¡éƒ¨ç½²ï¼Œå¼ºçƒˆå»ºè®®å°†æ•°æ®åº“ç‹¬ç«‹éƒ¨ç½²ã€‚<p><strong>å†…å­˜å’Œç£ç›˜</strong></p><p>Zabbix è¿è¡Œéœ€è¦ç‰©ç†å†…å­˜å’Œç£ç›˜ç©ºé—´ã€‚å¦‚æœåˆšæ¥è§¦ Zabbixï¼Œ128 MB çš„ç‰©ç†å†…å­˜å’Œ 256 MB çš„å¯ç”¨ç£ç›˜ç©ºé—´å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚ ç„¶è€Œï¼Œæ‰€éœ€çš„å†…å­˜å’Œç£ç›˜ç©ºé—´æ˜¾ç„¶å–å†³äºè¢«ç›‘æ§çš„ä¸»æœºæ•°é‡å’Œé…ç½®å‚æ•°ã€‚ å¦‚æœæ‚¨è®¡åˆ’è°ƒæ•´å‚æ•°ä»¥ä¿ç•™è¾ƒé•¿çš„å†å²æ•°æ®ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥è€ƒè™‘è‡³å°‘æœ‰å‡  GB ç£ç›˜ç©ºé—´ï¼Œä»¥ä¾¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´å°†å†å²æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚</p><p>æ¯ä¸ª Zabbix å®ˆæŠ¤ç¨‹åºè¿›ç¨‹éƒ½éœ€è¦ä¸æ•°æ®åº“æœåŠ¡å™¨å»ºç«‹å¤šä¸ªè¿æ¥ã€‚ ä¸ºè¿æ¥åˆ†é…çš„å†…å­˜é‡å–å†³äºæ•°æ®åº“å¼•æ“çš„é…ç½®ã€‚</p><blockquote><p>æ‹¥æœ‰çš„ç‰©ç†å†…å­˜è¶Šå¤šï¼Œæ•°æ®åº“ï¼ˆä»¥åŠ Zabbix ï¼‰çš„å·¥ä½œé€Ÿåº¦å°±è¶Šå¿«ï¼</p></blockquote><p><strong>CPU</strong></p><p>Zabbixï¼Œå°¤å…¶æ˜¯ Zabbix æ•°æ®åº“å¯èƒ½éœ€è¦å¤§é‡ CPU èµ„æºï¼Œè¯¥å…·ä½“å–å†³äºè¢«ç›‘æ§å‚æ•°çš„æ•°é‡å’Œæ‰€é€‰çš„æ•°æ®åº“å¼•æ“ã€‚</p><p><strong>å…¶ä»–ç¡¬ä»¶</strong></p><p>å¦‚æœéœ€è¦å¯ç”¨çŸ­ä¿¡ï¼ˆSMSï¼‰é€šçŸ¥åŠŸèƒ½ï¼Œéœ€è¦ä¸²è¡Œé€šè®¯å£ï¼ˆserial communication portï¼‰å’Œä¸²è¡ŒGSMè°ƒåˆ¶è§£è°ƒå™¨ï¼ˆserial GSM modemï¼‰ã€‚USBè½¬ä¸²è¡Œè½¬æ¥å™¨ä¹ŸåŒæ ·å¯ä»¥å·¥ä½œã€‚</p><h2 id="å®¹é‡ä¼°ç®—">å®¹é‡ä¼°ç®—</h2><table><thead><tr><th>å‚æ•°</th><th>æ‰€éœ€ç£ç›˜ç©ºé—´çš„è®¡ç®—å…¬å¼ ï¼ˆå•ä½ï¼šå­—èŠ‚</th></tr></thead><tbody><tr><td>Zabbix é…ç½®æ–‡ä»¶</td><td>å›ºå®šå¤§å°ã€‚é€šå¸¸ä¸º10MBæˆ–è€…æ›´å°‘ã€‚</td></tr><tr><td>Historyï¼ˆå†å²æ•°æ®ï¼‰</td><td>days(items/refresh rate)243600bytes itemsï¼šç›‘æ§é¡¹æ•°é‡ã€‚ daysï¼šä¿ç•™å†å²æ•°æ®çš„å¤©æ•°ã€‚ refresh rateï¼šç›‘æ§é¡¹çš„æ›´æ–°é—´éš”ã€‚ bytesï¼šä¿ç•™å•ä¸ªå€¼æ‰€éœ€è¦å ç”¨çš„å­—èŠ‚æ•°ï¼Œä¾èµ–äºæ•°æ®åº“å¼•æ“ï¼Œé€šå¸¸ä¸º ~90 å­—èŠ‚ã€‚</td></tr><tr><td>Trends(è¶‹åŠ¿æ•°æ®)</td><td>days(items/3600)243600bytes itemsï¼šç›‘æ§é¡¹æ•°é‡ã€‚ daysï¼šä¿ç•™å†å²æ•°æ®çš„å¤©æ•°ã€‚ bytesï¼šä¿ç•™å•ä¸ªè¶‹åŠ¿æ•°æ®æ‰€éœ€è¦å ç”¨çš„å­—èŠ‚æ•°ï¼Œä¾èµ–äºæ•°æ®åº“å¼•æ“ï¼Œé€šå¸¸ä¸º ~90 å­—èŠ‚ã€‚</td></tr><tr><td>Events(äº‹ä»¶æ•°æ®)</td><td>daysevents243600bytes eventsï¼šæ¯ç§’äº§ç”Ÿçš„äº‹ä»¶æ•°é‡ã€‚å‡è®¾æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œæ¯ç§’äº§ç”Ÿ 1 ä¸ªäº‹ä»¶ã€‚ daysï¼šä¿ç•™å†å²æ•°æ®çš„å¤©æ•°ã€‚ bytesï¼šä¿ç•™å•ä¸ªè¶‹åŠ¿æ•°æ®æ‰€éœ€çš„å­—èŠ‚æ•°ï¼Œå–å†³äºæ•°æ®åº“å¼•æ“ï¼Œé€šå¸¸ä¸º ~170 å­—èŠ‚ã€‚</td></tr></tbody></table><hr><h1 id="5ï¼‰éƒ¨ç½²-zabbix-æœåŠ¡ç«¯">5ï¼‰éƒ¨ç½² zabbix æœåŠ¡ç«¯</h1><p>å‚è€ƒæ–‡ç« ï¼ˆä½¿ç”¨centos7.4+nginx1.20+mysql8.0.30+php7.2.34ã€zabbix-server 6.0.1ï¼‰ï¼š<a href="https://blog.csdn.net/weixin_52906737/article/details/128331225">https://blog.csdn.net/weixin_52906737/article/details/128331225</a></p><h2 id="5-1-æœ¬ç¯‡å†…å®¹çš„ä¸»æœºè§„åˆ’">5.1 æœ¬ç¯‡å†…å®¹çš„ä¸»æœºè§„åˆ’</h2><div class="tip warning faa-horizontal animated-hover"><p>âš ï¸æ³¨æ„ï¼CentOS 7.x ä¸æ”¯æŒ yum æ–¹å¼å®‰è£… Zabbix æœåŠ¡ç«¯ã€‚</p></div><ul><li><p><strong>å®‰è£…æ–¹å¼ï¼š</strong></p><ul><li><emp>Zabbix **æœåŠ¡ç«¯ç¼–è¯‘å®‰è£…**</emp></li><li>Zabbix å®¢æˆ·ç«¯ yum å®‰è£…</li></ul></li><li><p><strong>è§„åˆ’</strong></p><table id="guihua" border="1"><tr><th>è§’è‰²</th><th>ä¸»æœºå</th><th>eth0/eth1</th><th>é…ç½®</th></tr><tr><td>ZabbixæœåŠ¡å™¨</td><td>docker01</td><td>10.0.0.111</td><td>1C2G</td></tr><tr><td>Zabbixå®¢æˆ·ç«¯</td><td>web01</td><td>10.0.0.116</td><td>1C1G</td></tr><tr><td>Zabbixå®¢æˆ·ç«¯</td><td>db01</td><td>10.0.0.117</td><td>1C1G</td></tr><tr><td>Zabbixå®¢æˆ·ç«¯</td><td>nfs01</td><td>10.0.0.118</td><td></td></tr></table></li></ul><h2 id="5-2-éƒ¨ç½²-zabbix-æµç¨‹">5.2 éƒ¨ç½² zabbix æµç¨‹</h2><p>1ï¸âƒ£ éƒ¨ç½² nginx</p><p>2ï¸âƒ£ éƒ¨ç½² php ç¯å¢ƒ</p><p>3ï¸âƒ£ éƒ¨ç½²æ•°æ®åº“ mariadb 10.5ï¼ˆMysql 7.6ï¼‰åŠä»¥ä¸Š ç„¶åè¿›è¡Œé…ç½®</p><p>4ï¸âƒ£ ç¼–è¯‘å®‰è£… zabbix_server æœåŠ¡ç«¯åŠåç»­é…ç½®</p><p>5ï¸âƒ£ éƒ¨ç½²å‰ç«¯ä»£ç è¿›è¡Œè®¿é—®</p><p>6ï¸âƒ£ webè®¿é—®</p><p>7ï¸âƒ£ é…ç½®å®¢æˆ·ç«¯</p><h2 id="5-3-éƒ¨ç½²-nginx">5.3 éƒ¨ç½² nginx</h2><p>1ï¸âƒ£<strong>æ›´æ”¹æˆ–æ–°å¢ nginx æº</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.repos.d/nginx.repo</span><br><span class="line"></span><br><span class="line">[nginx-stable]</span><br><span class="line">name=nginx stable repo</span><br><span class="line">baseurl=http://nginx.org/packages/centos/<span class="variable">$releasever</span>/<span class="variable">$basearch</span>/</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key</span><br><span class="line">module_hotfixes=<span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2ï¸âƒ£<strong>å®‰è£… nginx</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install nginx</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£<strong>å¯åŠ¨ nginx</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> nginx</span><br><span class="line">systemctl start nginx</span><br></pre></td></tr></table></figure><p>4ï¸âƒ£<strong>æ£€æŸ¥</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># rpm -qa | egrep &#x27;nginx&#x27;</span></span><br><span class="line">nginx-1.22.1-1.el7.ngx.x86_64</span><br></pre></td></tr></table></figure><p>5ï¸âƒ£<strong>é…ç½®</strong></p><p>ä¿®æ”¹é…ç½®æ¥è¿é€š phpã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /mydata/web/zabbix</span><br><span class="line">vim /etc/nginx/conf.d/zabbix-php.conf</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">listen 80;</span><br><span class="line">    server_name zbx.aceniu.com;</span><br><span class="line">    root /mydata/web/zabbix;</span><br><span class="line">    location / &#123;</span><br><span class="line">index index.php;</span><br><span class="line">&#125;</span><br><span class="line">location ~ \.php$ &#123;</span><br><span class="line">fastcgi_pass  127.0.0.1:9000;</span><br><span class="line">fastcgi_index index.php;</span><br><span class="line">fastcgi_param SCRIPT_FILENAME  $document_root<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">include fastcgi_params;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info modern"><p>ä¿®æ”¹ Windows é…ç½®<code>hosts</code>è§£æ,åé¢æµ‹è¯•ç”¨ã€‚</p></div><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214213847613.png" alt="image-20230214213847613"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ </span></span><br><span class="line">10.0.0.111zbx.aceniu.com<span class="comment"># zabbix web</span></span><br></pre></td></tr></table></figure><h2 id="5-4-éƒ¨ç½²-php-ç¯å¢ƒ">5.4 éƒ¨ç½² php ç¯å¢ƒ</h2><p>1ï¸âƒ£<strong>å®‰è£…ä¾èµ–</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ›´æ¢é˜¿é‡Œäº‘æº(ä¸€èˆ¬éƒ½æ¢è¿‡äº†)</span></span><br><span class="line"><span class="comment"># curl -o /etc/yum.repos.d/CentOS-Base.repo http:mirrors.aliyun.com/repo/Centos-7.repo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># webtatic è¦æ±‚</span></span><br><span class="line">yum -y install epel-release.noarch</span><br><span class="line"></span><br><span class="line">curl -o /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line"><span class="comment">#webtaticæº</span></span><br><span class="line">rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm  </span><br><span class="line"></span><br><span class="line">yum -y install php72w-cli php72w-fpm php72w-gd php72w-mbstring php72w-bcmath php72w-xml php72w-ldap php72w-mysqlnd</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£<strong>æ£€æŸ¥ç»“æœ</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | egrep <span class="string">&#x27;php&#x27;</span></span><br><span class="line"></span><br><span class="line">rpm -qa | egrep <span class="string">&#x27;php|nginx&#x27;</span> | <span class="built_in">wc</span> -l</span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœâ‘ :<br>php72w-common-7.2.34-1.w7.x86_64<br>php72w-fpm-7.2.34-1.w7.x86_64<br>php72w-mbstring-7.2.34-1.w7.x86_64<br>php72w-mysqlnd-7.2.34-1.w7.x86_64<br>php72w-cli-7.2.34-1.w7.x86_64<br>php72w-ldap-7.2.34-1.w7.x86_64<br>php72w-xml-7.2.34-1.w7.x86_64<br>php72w-pdo-7.2.34-1.w7.x86_64<br>php72w-gd-7.2.34-1.w7.x86_64<br>php72w-bcmath-7.2.34-1.w7.x86_64</p><p>ç»“æœâ‘¡ï¼š<br>11</p></blockquote><p>3ï¸âƒ£<strong>é…ç½®</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sed -ri  <span class="string">&#x27;/^(user|group)/s#apache#nginx#g&#x27;</span> /etc/php-fpm.d/www.conf</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line">vim /etc/php-fpm.d/www.conf</span><br><span class="line"></span><br><span class="line">egrep <span class="string">&#x27;^(user|group)&#x27;</span> /etc/php-fpm.d/www.conf</span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœä¸ºï¼š</p><p>user = nginx</p><p>group = nginx</p></blockquote><p>åˆ›å»ºæµ‹è¯•æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /mydata/web/zabbix/info.php</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">phpinfo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>4ï¸âƒ£<strong>å¯åŠ¨ã€æµ‹è¯•</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> php-fpm</span><br><span class="line">systemctl start php-fpm</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼šç›´æ¥ç”¨åœ°å€è®¿é—® <code>zbx.aceniu.com/info.php</code></p><details class="folding-tag" red><summary> 404 Not Found </summary>              <div class='content'>              <p>åœ¨è™šæ‹Ÿæœºä¸Šå®‰è£…æˆåŠŸ Nginx å’Œ PHPï¼Œå¹¶é…ç½®å®Œæˆåï¼Œå‘ç°è®¿é—®åŸŸåå‡ºç° 404ã€‚</p><p>1ï¸âƒ£<strong>é˜²ç«å¢™åŠŸèƒ½æœªå…³é—­ï¼Œå…ˆå…³é—­é˜²ç«å¢™</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£<strong>å…³é—­ SELinux</strong></p><ul><li><p><strong>æ°¸ä¹…å…³é—­</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config </span><br><span class="line"> </span><br><span class="line"><span class="comment"># This file controls the state of SELinux on the system.</span></span><br><span class="line"><span class="comment"># SELINUX= can take one of these three values:</span></span><br><span class="line"><span class="comment">#     enforcing - SELinux security policy is enforced.</span></span><br><span class="line"><span class="comment">#     permissive - SELinux prints warnings instead of enforcing.</span></span><br><span class="line"><span class="comment">#     disabled - No SELinux policy is loaded.</span></span><br><span class="line"><span class="comment"># å¼€å¯çŠ¶æ€</span></span><br><span class="line"><span class="comment">#SELINUX=enforcing</span></span><br><span class="line"><span class="comment"># è®¾ç½®ä¸ºç¦ç”¨çŠ¶æ€</span></span><br><span class="line">SELINUX=disabled</span><br><span class="line"><span class="comment"># SELINUXTYPE= can take one of three values:</span></span><br><span class="line"><span class="comment">#     targeted - Targeted processes are protected,</span></span><br><span class="line"><span class="comment">#     minimum - Modification of targeted policy. Only selected processes are protected. </span></span><br><span class="line"><span class="comment">#     mls - Multi Level Security protection.</span></span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¸´æ—¶å…³é—­</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥çœ‹selinuxçš„çŠ¶æ€ï¼Œéƒ½ä¸ºç¦ç”¨çŠ¶æ€</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7]<span class="comment"># getenforce </span></span><br><span class="line">Disabled </span><br><span class="line"><span class="comment"># æˆ–</span></span><br><span class="line">[root@centos7~]<span class="comment"># sestatus</span></span><br><span class="line">SELinux status:                 disabled</span><br></pre></td></tr></table></figure></li></ul>              </div>            </details><p>è®¿é—®é¡µé¢ï¼ŒæˆåŠŸã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230214223704242.png" alt="image-20230214223704242"></p><h2 id="5-5-éƒ¨ç½²-mariadb-æ•°æ®åº“">5.5 éƒ¨ç½² mariadb æ•°æ®åº“</h2><details class="folding-tag" red><summary> Zabbix 6.0 LTS æ”¯æŒçš„æ•°æ®åº“å¼•æ“åŠç‰ˆæœ¬ </summary>              <div class='content'>              <p>ä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œæˆ‘ä»¬å¢åŠ äº† Zabbix åç«¯æ•°æ®åº“çš„ç‰ˆæœ¬è¦æ±‚ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ Zabbix åˆ©ç”¨äº†è¿™äº›æ–°ç‰ˆæœ¬æ•°æ®åº“æä¾›çš„ç‰¹æ€§ï¼Œä»è€Œç¡®ä¿ Zabbix çš„æœ€ä½³æ€§èƒ½ã€‚å¦‚æœä½¿ç”¨ä¸å—æ”¯æŒçš„æ•°æ®åº“ç‰ˆæœ¬ï¼ŒZabbix å°†ä¸ä¼šå¯åŠ¨ã€‚æœ‰ä¸€ä¸ªé…ç½®å‚æ•°å¯ä»¥è§£å†³è¿™ç§é—®é¢˜ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºæ— æ³•ç¡®ä¿ Zabbix ä¼šä¸ä¼šé‡åˆ°æ€§èƒ½é—®é¢˜æˆ–è€…å´©æºƒã€‚åœ¨è¿ç§»åˆ° Zabbix 6.0 LTS ä¹‹å‰ï¼Œåº”è¯¥é¦–å…ˆå°†æ•°æ®åº“å‡çº§åˆ°æ”¯æŒçš„ç‰ˆæœ¬ã€‚</p><ul><li>MySQL/Percona 8.0.x</li><li>MariaDB 10.5.0 -10.6.x</li><li>PostgreSQL 13.x</li><li>Oracle 19c â€“ 21c</li></ul>              </div>            </details><div class="tabs" id="database"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#database-1">MySQL</button></li><li class="tab active"><button type="button" data-href="#database-2">Mariadb</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="database-1"><p class='p center gray ultra'>Buliding...</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="database-2"><div class="tip warning faa-horizontal animated-hover"><p>âš ï¸æ³¨æ„ï¼Zabbix 6.0 LTS ä¸æ”¯æŒé»˜è®¤æºä¸­çš„ mariadb 5.5</p></div><p>1ï¸âƒ£<strong>æ›´æ”¹æˆ–æ–°å¢ mariadb æº</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/yum.repos.d/mariadb.repo</span><br><span class="line"></span><br><span class="line">[mariadb]</span><br><span class="line">name = MariaDB</span><br><span class="line">baseurl = http://mirrors.aliyun.com/mariadb/yum/10.5/centos7-amd64/</span><br><span class="line">gpgkey = http://mirrors.aliyun.com/mariadb/yum/RPM-GPGKEY-MariaDB</span><br><span class="line">gpgcheck = 1</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£<strong>å®‰è£… mariadb</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mariadb-server</span><br></pre></td></tr></table></figure><details class="folding-tag" red><summary> GPG å¯†é’¥å¤±è´¥ï¼š[Errno 14] </summary>              <div class='content'>              <p>é”™è¯¯ä¿¡æ¯ï¼š</p><blockquote><p>ä» <a href="http://mirrors.aliyun.com/mariadb/yum/RPM-GPGKEY-MariaDB">http://mirrors.aliyun.com/mariadb/yum/RPM-GPGKEY-MariaDB</a> æ£€ç´¢å¯†é’¥è·å– GPG å¯†é’¥å¤±è´¥ï¼š[Errno 14] HTTP Error 404 - Not Found</p></blockquote><p>å¦‚æœä¸è¡Œåœ¨æ·»åŠ å‚æ•°  <code>--nogpgcheck</code> è§£å†³</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mariadb-server --nogpgcheck</span><br></pre></td></tr></table></figure>              </div>            </details><p>3ï¸âƒ£<strong>å¯åŠ¨ mariadb</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> mariadb</span><br><span class="line">systemctl start mariadb</span><br></pre></td></tr></table></figure><p>4ï¸âƒ£<strong>æ£€æŸ¥</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep -i mariadb</span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœä¸ºï¼š</p><p>MariaDB-compat-10.5.16-1.el7.centos.x86_64<br>MariaDB-common-10.5.16-1.el7.centos.x86_64<br>MariaDB-server-10.5.16-1.el7.centos.x86_64<br>MariaDB-client-10.5.16-1.el7.centos.x86_64</p></blockquote><p>5ï¸âƒ£æ•°æ®åº“åˆå§‹åŒ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure><blockquote><p>Enter current password for root (enter for none): # å›è½¦ ï¼ˆè¾“å…¥é»˜è®¤å¯†ç ï¼Œæ²¡æœ‰ï¼‰</p><p>Switch to unix_socket authentication [Y/n] n# âš ï¸ æ³¨æ„æ­¤å¤„è¦é€‰æ‹© <code>n</code>ï¼ˆunixçš„è¿æ¥æ–¹å¼</p><p>Change the root password? [Y/n] Y# ä¿®æ”¹rootå¯†ç <br>New password: # æ–°å¯†ç <br>Re-enter new password: # ç¡®è®¤å¯†ç <br>Password updated successfully!<br>Reloading privilege tablesâ€¦<br>â€¦ Success!</p><p>Remove anonymous users? [Y/n] # é»˜è®¤ä¸ºY<br>â€¦ Success!</p><p>Disallow root login remotely? [Y/n] # é»˜è®¤ä¸ºY<br>â€¦ Success!</p><p>Remove test database and access to it? [Y/n] # é»˜è®¤ä¸ºY</p><ul><li>Dropping test databaseâ€¦<br>â€¦ Success!</li><li>Removing privileges on test databaseâ€¦<br>â€¦ Success!</li></ul><p>Reload privilege tables now? [Y/n] # é»˜è®¤ä¸ºY<br>â€¦ Success!</p><p>Thanks for using MariaDB!</p></blockquote><p>6ï¸âƒ£<strong>åˆ›å»º  åº“ã€ç”¨æˆ·</strong></p><p>è¿›å…¥æ•°æ®åº“</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123456</span><br></pre></td></tr></table></figure><p>åˆ›å»º  åº“ã€ç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. åˆ›å»ºæ•°æ®åº“è¦æŒ‡å®šå­—ç¬¦é›†</span><br><span class="line">create database zabbix charset utf8 collate utf8_bin;</span><br><span class="line"></span><br><span class="line">2. åˆ›å»ºzabbixç”¨æˆ·</span><br><span class="line">grant all on zabbix.* to &#x27;zabbix&#x27;@&#x27;localhost&#x27; identified by &#x27;zabbix&#x27;;</span><br><span class="line"></span><br><span class="line">#å¦‚æœç”Ÿäº§ç¯å¢ƒæ•°æ®åº“ä¸zbx,phpä¸åœ¨åŒä¸€å°ä¸»æœºä¸Šï¼Œåˆ™æ”¹æˆå†…ç½‘ipæœ€åä¸€ä½ç”¨%è¡¨ç¤ºæ‰€æœ‰</span><br><span class="line">#grant all on zabbix.* to &#x27;zabbix&#x27;@&#x27;172.16.1.%&#x27; identified by &#x27;zabbix&#x27; ;</span><br></pre></td></tr></table></figure><p>7ï¸âƒ£<strong>å¯¼å…¥è¡¨å’Œæ•°æ®</strong></p><p class='p gray large'>ä¸‹è½½ Zabbix 6 LTS æºç åŒ…</p><p>â–¶ï¸1ï¸âƒ£<strong>å®˜ç½‘ä¸‹è½½ Zabbix 6 LTS æºç </strong>ï¼š<span class='p gray'>ç›´æ¥ä½¿ç”¨æ–¹æ³•2å³å¯</span></p><p>å®˜ç½‘ä¸‹è½½ï¼š <a href="https://www.zabbix.com/cn/download">https://www.zabbix.com/cn/download</a></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230215020522224.png" alt="image-20230215020522224"></p><p>ä¸Šä¼ åˆ° centos7ã€‚</p><p>â–¶ï¸2ï¸âƒ£<strong>wgetä¸‹è½½</strong>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æˆ–è€…ï¼ˆæ¨èï¼‰</span></span><br><span class="line">wget https://cdn.zabbix.com/zabbix/sources/stable/6.0/zabbix-6.0.13.tar.gz</span><br></pre></td></tr></table></figure><hr><p class='p gray large'>å¯¼å…¥è¡¨å’Œæ•°æ®</p><p>â–¶ï¸1ï¸âƒ£<strong>è§£å‹ã€æŸ¥çœ‹éœ€è¦å¯¼åŒ…çš„æ–‡ä»¶</strong>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf zabbix-6.0.13.tar.gz -C /usr/local</span><br><span class="line">ll /usr/local/zabbix-6.0.13/database/mysql/</span><br></pre></td></tr></table></figure><blockquote><p>-rw-râ€“râ€“. 1 1000 1000 35413900 2æœˆ   1 15:20 data.sql# æ•°æ®<br>-rw-râ€“râ€“. 1 1000 1000      282 1æœˆ  23 16:33 double.sql<br>-rw-râ€“râ€“. 1 1000 1000     1527 2æœˆ   1 15:20 history_pk_prepare.sql<br>-rw-râ€“râ€“. 1 1000 1000  1978341 1æœˆ  23 16:33 images.sql<br>-rw-râ€“râ€“. 1 1000 1000      715 2æœˆ   1 15:19 <a href="http://Makefile.am">Makefile.am</a><br>-rw-râ€“râ€“. 1 1000 1000    16572 2æœˆ   1 15:20 <a href="http://Makefile.in">Makefile.in</a><br>-rw-râ€“râ€“. 1 1000 1000   164688 2æœˆ   1 15:20 schema.sql# åˆ›å»ºè¡¨ç»“æ„</p></blockquote><p>â–¶ï¸2ï¸âƒ£<strong>å¯¼å…¥</strong>ï¼ˆ<span class='p green'>å°½é‡ä½¿ç”¨æ¨èé¡ºåºå¯¼å…¥ï¼Œå¦‚æœé‡å¤å¯¼å…¥å»ºè®®åˆ é™¤zabbixåº“åé‡æ–°å°è¯•</span>ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/zabbix-6.0.13/database/mysql/</span><br><span class="line">mysql -uroot -p123456 zabbix &lt;schema.sql</span><br><span class="line">mysql -uroot -p123456 zabbix &lt;images.sql</span><br><span class="line">mysql -uroot -p123456 zabbix &lt;data.sql</span><br><span class="line">mysql -uroot -p123456 zabbix &lt;double.sql</span><br><span class="line">mysql -uroot -p123456 zabbix &lt;history_pk_prepare.sql</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="5-6-éƒ¨ç½²-zabbix-server-æœåŠ¡ç«¯">5.6 éƒ¨ç½² zabbix-server æœåŠ¡ç«¯</h2><p class='p red large'>ç¼–è¯‘å®‰è£… zabbix-server æœåŠ¡ç«¯</p><p>1ï¸âƒ£å®‰è£…ä¾èµ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mysql-devel pcre-devel openssl-devel zlib-devel libxml2-devel net-snmp-devel net-snmp libssh2-devel OpenIPMI-devel libevent-devel openldap-devel libcurl-devel --nogpgcheck</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£å°†è§£å‹åçš„ zabbix æ–‡ä»¶å¤¹ç§»åŠ¨è‡³ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> zabbix-6.0.13 /usr/local/</span><br><span class="line"><span class="built_in">cd</span> /usr/local/zabbix-6.0.13</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ç¼–è¯‘å®‰è£…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">./configure--sysconfdir=/etc/zabbix/  \</span><br><span class="line">--enable-server  \</span><br><span class="line">--with-mysql  \</span><br><span class="line">--with-net-snmp  \</span><br><span class="line">--with-libxml2  \</span><br><span class="line">--with-ssh2  \</span><br><span class="line">--with-openipmi  \</span><br><span class="line">--with-zlib  \</span><br><span class="line">--with-libpthread  \</span><br><span class="line">--with-libevent  \</span><br><span class="line">--with-openssl  \</span><br><span class="line">--with-ldap  \</span><br><span class="line">--with-libcurl  \</span><br><span class="line">--with-libpcre</span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure><blockquote><p><code>./configure</code>#é»˜è®¤å®‰è£…åˆ°/usr/local/ä¸‹</p><p><code>--sysconfdir=/etc/zabbix/</code>#æŒ‡å®šé…ç½®æ–‡ä»¶å®‰è£…ç›®å½•</p><p><code>--enable-server </code>#å®‰è£…çš„æ˜¯æœåŠ¡ç«¯</p><p><code>--with-mysql</code>#å¼€å¯å¯¹mysqlæ•°æ®åº“çš„æ”¯æŒ</p><p>â€‹# ä¾èµ–ä¸åŠŸèƒ½</p><p><code>--with-net-snmp</code></p><p><code>--with-libxml2</code></p><p><code>--with-ssh2</code></p><p><code>--with-openipmi</code></p><p><code>--with-zlib</code></p><p><code>--with-libpthread</code></p><p><code>--with-libevent</code></p><p><code>--with-openssl</code></p><p><code>--with-ldap</code></p><p><code>--with-libcurl</code></p><p><code>--with-libpcre</code></p></blockquote><details class="folding-tag" red><summary> `make install`æ—¶å‘ç”Ÿé”™è¯¯ </summary>              <div class='content'>              <p>æ­¤é”™è¯¯æ—¶ç”±äºgccçš„ç‰ˆæœ¬å¤ªä½é€ æˆï¼Œ<strong>ä¸´æ—¶è¿è¡Œé«˜ç‰ˆæœ¬çš„gccæ¥å®Œæˆå®‰è£…</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230215142023253.png" alt="image-20230215142023253"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ¸…é™¤ç¼–è¯‘</span></span><br><span class="line">make clean</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ›´æ–°æ­¥éª¤</span></span><br><span class="line">yum -y update</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£… SCL å‘è¡ŒåŒ… centos-release-scl</span></span><br><span class="line">yum -y install centos-release-scl</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…éœ€è¦çš„Software Collection</span></span><br><span class="line">yum -y install devtoolset-7-gcc*</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä½¿ç”¨å·²å®‰è£…çš„è½¯ä»¶é›†åˆç¯å¢ƒ</span></span><br><span class="line">scl <span class="built_in">enable</span> devtoolset-7 bash</span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line"><span class="comment">#source /opt/rh/devtoolset-7/enable</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å†æ¬¡æ‰§è¡Œç¼–è¯‘å®‰è£…</span></span><br></pre></td></tr></table></figure>              </div>            </details><p>4ï¸âƒ£æ£€éªŒ</p><p>å®‰è£…æˆåŠŸåå¹¶æ²¡æœ‰ä»€ä¹ˆæç¤ºï¼Œåªèƒ½è¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="comment">#?</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœä¸ºï¼š</p><p>0</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zabbix_server --version</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230215143421099.png" alt="image-20230215143421099"></p><p>5ï¸âƒ£é…ç½® zabbix-server æœåŠ¡ç«¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/zabbix/zabbix_server.conf</span><br><span class="line">grep -n <span class="string">&#x27;^[a-Z]&#x27;</span> /etc/zabbix/zabbix_server.conf</span><br><span class="line"></span><br><span class="line">12:ListenPort=10051</span><br><span class="line">38:LogFile=/tmp/zabbix_server.log</span><br><span class="line">87:DBHost=localhost</span><br><span class="line">99:DBName=zabbix</span><br><span class="line">115:DBUser=zabbix</span><br><span class="line">123:DBPassword=zabbix</span><br><span class="line">140:DBPort=3306</span><br><span class="line">507:Timeout=4</span><br><span class="line">593:LogSlowQueries=3000</span><br><span class="line">708:StatsAllowedIP=127.0.0.1</span><br></pre></td></tr></table></figure><p>6ï¸âƒ£åˆ›å»ºç”¨æˆ·</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd zabbix</span><br><span class="line">useradd -g zabbix -M -s /sbin/nologin zabbix</span><br></pre></td></tr></table></figure><p>8ï¸âƒ£å¯åŠ¨æœåŠ¡ç«¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zabbix_server</span><br></pre></td></tr></table></figure><p>9ï¸âƒ£æ£€æŸ¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep <span class="string">&#x27;zabbix&#x27;</span></span><br><span class="line">netstat -tulnp|grep zabbix</span><br></pre></td></tr></table></figure><blockquote><p>ç»“æœâ‘ ï¼š</p><p>zabbix     2501      1  0 06:22 ?        00:00:00 zabbix_server<br>zabbix     2504   2501  0 06:22 ?        00:00:00 zabbix_server: ha manager<br>zabbix     2505   2501  0 06:22 ?        00:00:00 zabbix_server: service manager #1 [processed 0 events, updated 0 event tags, deleted 0 problems, synced 0 service updates, idle 5.006196 sec during 5.006291 sec]<br>zabbix     2506   2501  0 06:22 ?        00:00:00 zabbix_server: configuration syncer [synced configuration in 0.163344 sec, idle 60 sec]</p><p>â€¦çœç•¥éƒ¨åˆ†å†…å®¹â€¦</p><p>zabbix     2575   2501  0 06:22 ?        00:00:00 zabbix_server: trigger housekeeper [startup idle for 60 second(s)]<br>zabbix     2576   2501  0 06:22 ?        00:00:00 zabbix_server: odbc poller #1 [got 0 values in 0.000026 sec, idle 5 sec]<br>root       2933   1524  0 06:22 pts/0    00:00:00 grep --color=auto zabbix</p><p>ç»“æœâ‘¡ï¼š</p><p>tcp        0      0 0.0.0.0:10051           0.0.0.0:*               LISTEN      2501/zabbix_server</p></blockquote><p>ğŸ”Ÿé…ç½®å¼€æœºè‡ªå¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/zabbix_server.service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=Zabbix Server with MySQL DB</span><br><span class="line">After=syslog.target network.target mysqld.service</span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/usr/local/sbin/zabbix_server -f</span><br><span class="line">User=zabbix</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">pkill zabbix_server</span><br><span class="line">ps -ef|grep zabbix</span><br><span class="line">systemctl <span class="built_in">enable</span> zabbix_server</span><br><span class="line">systemctl start zabbix_server</span><br></pre></td></tr></table></figure><h2 id="5-7-éƒ¨ç½²-å‰ç«¯é¡µé¢">5.7 éƒ¨ç½² å‰ç«¯é¡µé¢</h2><p>1ï¸âƒ£å‰ç«¯é¡µé¢æ”¾åˆ° nginx ç½‘ç«™ç›®å½•ä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -rp /usr/local/zabbix-6.0.13/ui/* /mydata/web/zabbix</span><br><span class="line"><span class="built_in">chown</span> -R nginx.nginx /mydata/web/zabbix</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£web é¡µé¢é…ç½®</p><p><strong>è®¿é—®é¡µé¢</strong>ã€‚ğŸ˜ å¹¸ç¦çš„ä¸­æ–‡ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216001052209.png" alt="image-20230216001052209"></p><p><strong>é”™è¯¯</strong>ï¼Œæ“ä½œå¦‚ä¸‹</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216001540844.png" alt="image-20230216001540844"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/php.ini</span><br><span class="line"></span><br><span class="line">max_execution_time = 300</span><br><span class="line">max_input_time = 300</span><br><span class="line">post_max_size = 16M</span><br><span class="line"></span><br><span class="line">egrep -n <span class="string">&#x27;^(max_.*_time|post_max)&#x27;</span> /etc/php.ini</span><br></pre></td></tr></table></figure><blockquote><p>368:max_execution_time = 300<br>378:max_input_time = 300<br>656:post_max_size = 16M</p><p>æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å³å¯ã€‚</p></blockquote><p><strong>é‡å¯ä¸‹php</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart php-fpm</span><br></pre></td></tr></table></figure><p><strong>é…ç½®æ•°æ®åº“</strong></p><p>åˆ·æ–°ä¸‹é¡µé¢,æˆ–è€…è¿”å›åœ¨è¿›æ¥ã€‚</p><p>æ­¤å¤„çš„è®¾ç½®æ˜¯ï¼š<span class='p red'>é…ç½®phpè®¿é—®æ•°æ®åº“</span>ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216003034980.png" alt="image-20230216003034980"></p><p><strong>ç½‘ç«™å</strong></p><p>æ”¹ä¸‹æ—¶åŒºshanghaiã€‚zabbix 5 éœ€è¦æ”¹é…ç½®æ–‡ä»¶æ‰èƒ½ä¿®æ”¹</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216003847434.png" alt="image-20230216003847434"></p><p><strong>æ±‡æ€»ä¿¡æ¯</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216004011742.png" alt="image-20230216004011742"></p><details class="folding-tag" red><summary> :warning:æ— æ³•åˆ›å»ºé…ç½®æ–‡ä»¶ </summary>              <div class='content'>              <p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216004234782.png" alt="image-20230216004234782"></p><p>è¦ä¹ˆå°±ä¸‹è½½é…ç½®æ–‡ä»¶ç„¶åä¸Šä¼ ç„¶åæˆæƒç»™zabbixå³å¯è¦ä¹ˆå°±æ˜¯å¦‚ä¸‹æ“ä½œï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> /mydata/web/zabbix/conf/zabbix.conf.php.example /mydata/web/zabbix/conf/zabbix.conf.php</span><br><span class="line"><span class="built_in">chown</span> zabbix:zabbix /mydata/web/zabbix/conf/zabbix.conf.php</span><br><span class="line">vim /mydata/web/zabbix/conf/zabbix.conf.php</span><br><span class="line"><span class="comment">#åªä¿®æ”¹PASSWORDçš„å¯†ç </span></span><br><span class="line"><span class="variable">$DB</span>[<span class="string">&#x27;PASSWORD&#x27;</span>]= <span class="string">&#x27;zabbix&#x27;</span>;</span><br></pre></td></tr></table></figure>              </div>            </details><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216004935666.png" alt="image-20230216004935666"></p><p>3ï¸âƒ£<strong>ç™»å…¥</strong></p><ul><li><p><strong>ç”¨æˆ·å</strong>ï¼šAdmin</p></li><li><p><strong>å¯†ç </strong>ï¼š<psw>zabbix</psw></p></li></ul><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216005426684.png" alt="image-20230216005426684"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230216005638065.png" alt="image-20230216005638065"></p><hr><h2 id="5-6-éƒ¨ç½²-zabbix-å®¢æˆ·ç«¯">5.6 éƒ¨ç½² zabbix å®¢æˆ·ç«¯</h2><p>1ï¸âƒ£é…ç½®zabbixæº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/7/x86_64/zabbix-release-6.0-1.el7.noarch.rpm</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£æºæ–‡ä»¶ä¸­è¿˜æ˜¯å®˜æ–¹çš„é“¾æ¥æ›¿æ¢ä¸‹æ¸…åæº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s#https://repo.zabbix.com/zabbix#https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/#g&#x27;</span> /etc/yum.repos.d/zabbix.repo</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£æŸ¥çœ‹ä¸‹æ›´æ¢æƒ…å†µ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum list | grep zabbix-agent2</span></span><br><span class="line">zabbix-agent2.x86_64                       6.0.13-release1.el7    zabbix        </span><br><span class="line">zabbix-agent2-plugin-mongodb.x86_64        6.0.13-release1.el7    zabbix        </span><br><span class="line">zabbix-agent2-plugin-postgresql.x86_64     6.0.13-release1.el7    zabbix </span><br></pre></td></tr></table></figure><p>4ï¸âƒ£yumå®‰è£…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install zabbix-agent2</span><br></pre></td></tr></table></figure><p>5ï¸âƒ£é…ç½®å®¢æˆ·ç«¯</p><p>å®¢æˆ·ç«¯å¦‚æœå’ŒæœåŠ¡ç«¯éƒ½åœ¨æœ¬åœ°ï¼Œåˆ™æ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># grep &#x27;^[a-Z]&#x27; /etc/zabbix/zabbix_agent2.conf</span></span><br><span class="line">PidFile=/run/zabbix/zabbix_agent2.pid</span><br><span class="line">LogFile=/var/log/zabbix/zabbix_agent2.<span class="built_in">log</span></span><br><span class="line">LogFileSize=0</span><br><span class="line">Server=127.0.0.1</span><br><span class="line">ServerActive=127.0.0.1</span><br><span class="line">Hostname=Zabbix server</span><br><span class="line">Include=/etc/zabbix/zabbix_agent2.d/*.conf</span><br><span class="line">PluginSocket=/run/zabbix/agent.plugin.sock</span><br><span class="line">ControlSocket=/run/zabbix/agent.sock</span><br><span class="line">Include=./zabbix_agent2.d/plugins.d/*.conf</span><br></pre></td></tr></table></figure><p>6ï¸âƒ£å¯åŠ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> zabbix-agent2</span><br><span class="line">systemctl start zabbix-agent2</span><br></pre></td></tr></table></figure><p>7ï¸âƒ£æ£€æŸ¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@docker01 ~]<span class="comment"># ps -ef | grep agent2</span></span><br><span class="line">zabbix   126531      1  0 06:34 ?        00:00:00 /usr/sbin/zabbix_agent2 -c /etc/zabbix/zabbix_agent2.conf</span><br><span class="line">root     129864   1696  0 06:37 pts/0    00:00:00 grep --color=auto agent2</span><br><span class="line"></span><br><span class="line">[root@docker01 ~]<span class="comment"># ss -lntup|grep agent2</span></span><br><span class="line">tcp    LISTEN     0      128    [::]:10050              [::]:*                   <span class="built_in">users</span>:((&quot;zabbix_agent2&quot;,pid=<span class="number">126531</span>,fd=<span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>ç½‘é¡µä¸­å·²ç»å¯ä»¥çœ‹åˆ°</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230217001204238.png" alt="image-20230217001204238"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230217001221735.png" alt="image-20230217001221735"></p>]]></content>
    
    
    <summary type="html">Zabbix æ˜¯ä¸€ä¸ªåŸºäº WEB ç•Œé¢çš„æä¾›åˆ†å¸ƒå¼ç³»ç»Ÿç›‘è§†ä»¥åŠç½‘ç»œç›‘è§†åŠŸèƒ½çš„ä¼ä¸šçº§çš„å¼€æºè§£å†³æ–¹æ¡ˆã€‚Zabbixèƒ½ç›‘è§†å„ç§ç½‘ç»œå‚æ•°,ä¿è¯æœåŠ¡å™¨ç³»ç»Ÿçš„å®‰å…¨è¿è¥;å¹¶æä¾›çµæ´»çš„é€šçŸ¥æœºåˆ¶ä»¥è®©ç³»ç»Ÿç®¡ç†å‘˜å¿«é€Ÿå®šä½ã€è§£å†³å­˜åœ¨çš„å„ç§é—®é¢˜ã€‚</summary>
    
    
    
    <category term="Note" scheme="https://blog.halfsummer.xyz/categories/Note/"/>
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/categories/Note/Program/"/>
    
    
    <category term="ç¼–ç¨‹" scheme="https://blog.halfsummer.xyz/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="è¿ç»´" scheme="https://blog.halfsummer.xyz/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="Zabbix" scheme="https://blog.halfsummer.xyz/tags/Zabbix/"/>
    
  </entry>
  
  <entry>
    <title>Git å­¦ä¹ ç¬”è®°</title>
    <link href="https://blog.halfsummer.xyz/posts/3c3cdb74.html"/>
    <id>https://blog.halfsummer.xyz/posts/3c3cdb74.html</id>
    <published>2023-02-10T16:35:00.000Z</published>
    <updated>2023-02-16T16:48:41.964Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="swigï¿¼17"><p class='p cyan huge center'>1. Gitç®€ä»‹</p></h1><div class="tip home"><p><strong>Gitå®˜ç½‘</strong>ï¼š<a href="https://git-scm.com/">https://git-scm.com/</a></p></div><ul><li><p><strong>æ¦‚è¿°</strong></p><p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„**<span style="color:red;">åˆ†å¸ƒå¼</span>**ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚</p></li><li><p><strong>ä½•ä¸ºç‰ˆæœ¬æ§åˆ¶</strong></p><p>ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§æˆ–è®°å½•æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚</p><p>ç‰ˆæœ¬æ§åˆ¶å…¶å®æœ€é‡è¦çš„æ˜¯å¯ä»¥è®°å½•æ–‡ä»¶ä¿®æ”¹å†å²è®°å½•ï¼Œä»è€Œè®©ç”¨æˆ·èƒ½å¤ŸæŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œæ–¹ä¾¿ç‰ˆæœ¬åˆ‡æ¢ã€‚</p></li><li><p><strong>ä¼˜ç‚¹</strong></p><ol><li><p>è§£å†³äº†é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ç¼ºé™·ï¼ŒæœåŠ¡å™¨æ–­ç½‘çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥è¿›è¡Œå¼€å‘ï¼ˆå› ä¸ºç‰ˆæœ¬æ§åˆ¶æ˜¯åœ¨æœ¬åœ°è¿›è¡Œçš„ï¼‰</p></li><li><p>æ¯ä¸ªå®¢æˆ·ç«¯ä¿å­˜çš„ä¹Ÿéƒ½æ˜¯æ•´ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼ˆåŒ…å«å†å²è®°å½•ï¼Œæ›´åŠ å®‰å…¨ï¼‰</p></li></ol></li><li><p><strong>Git å‘å±•å²</strong></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230104185414310.png" alt="image-20230104185414310"></p></li><li><p><strong>å·¥ä½œæœºåˆ¶</strong></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230104190134428.png" alt="image-20230104190134428"></p></li><li><p><strong>ä»£ç æ‰˜ç®¡ä¸­å¿ƒ</strong></p><p>ä»£ç æ‰˜ç®¡ä¸­å¿ƒæ˜¯åŸºäºç½‘ç»œæœåŠ¡å™¨çš„è¿œç¨‹ä»£ç ä»“åº“ï¼Œä¸€èˆ¬æˆ‘ä»¬ç®€å•ç§°ä¸º**<font style="color:red;">è¿œç¨‹åº“</font>**</p><ul><li><p><strong>å±€åŸŸç½‘</strong></p><p><code>GitLab</code></p></li><li><p><strong>äº’è”ç½‘</strong></p><p><code>Github</code></p><p><code>Gitee</code> ç äº‘</p></li></ul></li></ul><hr><h1 id="swigï¿¼19"><p class='p cyan huge center'>2. Gitå®‰è£…</p></h1><h2 id="2-1-Windows-å®‰è£…">2.1 Windows å®‰è£…</h2><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230104191136130.png" alt="image-20230104191136130"></p><p>å…¶å®ƒèœå•æ²¡æœ‰ç‰¹æ®Šéœ€æ±‚åŸºæœ¬éƒ½æ˜¯é»˜è®¤ã€‚</p><hr><h1 id="swigï¿¼20"><p class='p cyan huge center'>3. Gitå‘½ä»¤</p></h1><h2 id="3-1-å¸¸ç”¨å‘½ä»¤">3.1 å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>git config --global <a href="http://user.name">user.name</a> ç”¨æˆ·å</td><td>è®¾ç½®ç”¨æˆ·ç­¾å</td></tr><tr><td>git config --global user.email é‚®ç®±</td><td>è®¾ç½®ç”¨æˆ·é‚®ç®±</td></tr><tr><td>git init</td><td><span style="color:red;">åˆå§‹åŒ–æœ¬åœ°åº“</span></td></tr><tr><td>git status</td><td><span style="color:red;">æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€</span></td></tr><tr><td>git add æ–‡ä»¶å</td><td><span style="color:red;">æ·»åŠ åˆ°æš‚å­˜åŒº</span></td></tr><tr><td>git commit -m â€œæ—¥å¿—ä¿¡æ¯â€ æ–‡ä»¶å</td><td><span style="color:red;">æäº¤åˆ°æœ¬åœ°åº“</span></td></tr><tr><td>git reflog</td><td><span style="color:red;">æŸ¥çœ‹å†å²è®°å½•</span></td></tr><tr><td>git reset --hard ç‰ˆæœ¬å·</td><td><span style="color:red;">ç‰ˆæœ¬ç©¿æ¢­</span></td></tr></tbody></table><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/1a74ce2a5d7ecaed8b3fe9b52b720eec3.jpg" alt="1a74ce2a5d7ecaed8b3fe9b52b720eec3"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">git init                                                  # åˆå§‹åŒ–æœ¬åœ°gitä»“åº“ï¼ˆåˆ›å»ºæ–°ä»“åº“ï¼‰</span><br><span class="line">git config --global user.name &quot;xxx&quot;                       # é…ç½®ç”¨æˆ·å</span><br><span class="line">git config --global user.email &quot;xxx@xxx.com&quot;              # é…ç½®é‚®ä»¶</span><br><span class="line">git config --global color.ui true                         # git statusç­‰å‘½ä»¤è‡ªåŠ¨ç€è‰²</span><br><span class="line">git config --global color.status auto</span><br><span class="line">git config --global color.diff auto</span><br><span class="line">git config --global color.branch auto</span><br><span class="line">git config --global color.interactive auto</span><br><span class="line">git config --global --unset http.proxy                    # remove  proxy configuration on git</span><br><span class="line">git clone git+ssh://git@192.168.53.168/VT.git             # cloneè¿œç¨‹ä»“åº“</span><br><span class="line">git status                                                # æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€ï¼ˆæ˜¯å¦ä¿®æ”¹ï¼‰</span><br><span class="line">git add xyz                                               # æ·»åŠ xyzæ–‡ä»¶è‡³index</span><br><span class="line">git add .                                                 # å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³index</span><br><span class="line">git commit -m &#x27;xxx&#x27;                                       # æäº¤</span><br><span class="line">git commit --amend -m &#x27;xxx&#x27;                               # åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ï¼ˆç”¨äºåå¤ä¿®æ”¹ï¼‰</span><br><span class="line">git commit -am &#x27;xxx&#x27;                                      # å°†addå’Œcommitåˆä¸ºä¸€æ­¥</span><br><span class="line">git rm xxx                                                # åˆ é™¤indexä¸­çš„æ–‡ä»¶</span><br><span class="line">git rm -r *                                               # é€’å½’åˆ é™¤</span><br><span class="line">git log                                                   # æ˜¾ç¤ºæäº¤æ—¥å¿—</span><br><span class="line">git log -1                                                # æ˜¾ç¤º1è¡Œæ—¥å¿— -nä¸ºnè¡Œ</span><br><span class="line">git log -5</span><br><span class="line">git log --stat                                            # æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶</span><br><span class="line">git log -p -m</span><br><span class="line">git show dfb02e6e4f2f7b573337763e5c0013802e392818         # æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹</span><br><span class="line">git show dfb02                                            # å¯åªç”¨commitidçš„å‰å‡ ä½</span><br><span class="line">git show HEAD                                             # æ˜¾ç¤ºHEADæäº¤æ—¥å¿—</span><br><span class="line">git show HEAD^                                            # æ˜¾ç¤ºHEADçš„çˆ¶ï¼ˆä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰çš„æäº¤æ—¥å¿— ^^ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬ ^5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬</span><br><span class="line">git tag                                                   # æ˜¾ç¤ºå·²å­˜åœ¨çš„tag</span><br><span class="line">git tag -a v2.0 -m &#x27;xxx&#x27;                                  # å¢åŠ v2.0çš„tag</span><br><span class="line">git show v2.0                                             # æ˜¾ç¤ºv2.0çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹</span><br><span class="line">git log v2.0                                              # æ˜¾ç¤ºv2.0çš„æ—¥å¿—</span><br><span class="line">git diff                                                  # æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´</span><br><span class="line">git diff --cached                                         # æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´</span><br><span class="line">git diff HEAD^                                            # æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚</span><br><span class="line">git diff HEAD -- ./lib                                    # æ¯”è¾ƒä¸HEADç‰ˆæœ¬libç›®å½•çš„å·®å¼‚</span><br><span class="line">git diff origin/master..master                            # æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„</span><br><span class="line">git diff origin/master..master --stat                     # åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ï¼Œä¸æ˜¾ç¤ºå…·ä½“å†…å®¹</span><br><span class="line">git remote add origin git+ssh://git@192.168.53.168/VT.git # å¢åŠ è¿œç¨‹å®šä¹‰ï¼ˆç”¨äºpush/pull/fetchï¼‰</span><br><span class="line">git branch                                                # æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯</span><br><span class="line">git branch --contains 50089                               # æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯</span><br><span class="line">git branch -a                                             # æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯</span><br><span class="line">git branch -r                                             # æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯</span><br><span class="line">git branch --merged                                       # æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span><br><span class="line">git branch --no-merged                                    # æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</span><br><span class="line">git branch -m master master_copy                          # æœ¬åœ°åˆ†æ”¯æ”¹å</span><br><span class="line">git checkout -b master_copy                               # ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯master_copyå¹¶æ£€å‡º</span><br><span class="line">git checkout -b master master_copy                        # ä¸Šé¢çš„å®Œæ•´ç‰ˆ</span><br><span class="line">git checkout features/performance                         # æ£€å‡ºå·²å­˜åœ¨çš„features/performanceåˆ†æ”¯</span><br><span class="line">git checkout --track hotfixes/BJVEP933                    # æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixes/BJVEP933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯</span><br><span class="line">git checkout v2.0                                         # æ£€å‡ºç‰ˆæœ¬v2.0</span><br><span class="line">git checkout -b devel origin/develop                      # ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡º</span><br><span class="line">git checkout -- README                                    # æ£€å‡ºheadç‰ˆæœ¬çš„READMEæ–‡ä»¶ï¼ˆå¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€ï¼‰</span><br><span class="line">git merge origin/master                                   # åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯</span><br><span class="line">git cherry-pick ff44785404a8e                             # åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹</span><br><span class="line">git push origin master                                    # å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯</span><br><span class="line">git push origin :hotfixes/BJVEP933                        # åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixes/BJVEP933åˆ†æ”¯</span><br><span class="line">git push --tags                                           # æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line">git fetch                                                 # è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼Œå¦éœ€mergeï¼‰</span><br><span class="line">git fetch --prune                                         # è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯</span><br><span class="line">git pull origin master                                    # è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">git mv README README2                                     # é‡å‘½åæ–‡ä»¶READMEä¸ºREADME2</span><br><span class="line">git reset --hard HEAD                                     # å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºHEADï¼ˆé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€ï¼‰</span><br><span class="line">git rebase</span><br><span class="line">git branch -d hotfixes/BJVEP933                           # åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933ï¼ˆæœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ï¼‰</span><br><span class="line">git branch -D hotfixes/BJVEP933                           # å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933</span><br><span class="line">git ls-files                                              # åˆ—å‡ºgit indexåŒ…å«çš„æ–‡ä»¶</span><br><span class="line">git show-branch                                           # å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²</span><br><span class="line">git show-branch --all                                     # å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²</span><br><span class="line">git whatchanged                                           # æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹</span><br><span class="line">git revert dfb02e6e4f2f7b573337763e5c0013802e392818       # æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818</span><br><span class="line">git ls-tree HEAD                                          # å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡</span><br><span class="line">git rev-parse v2.0                                        # å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„SHA1 HASH</span><br><span class="line">git reflog                                                # æ˜¾ç¤ºæ‰€æœ‰æäº¤ï¼ŒåŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹</span><br><span class="line">git show HEAD@&#123;5&#125;</span><br><span class="line">git show master@&#123;yesterday&#125;                               # æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€</span><br><span class="line">git log --pretty=format:&#x27;%h %s&#x27; --graph                   # å›¾ç¤ºæäº¤æ—¥å¿—</span><br><span class="line">git show HEAD~3</span><br><span class="line">git show -s --pretty=raw 2be7fcb476</span><br><span class="line">git stash                                                 # æš‚å­˜å½“å‰ä¿®æ”¹ï¼Œå°†æ‰€æœ‰è‡³ä¸ºHEADçŠ¶æ€</span><br><span class="line">git stash list                                            # æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</span><br><span class="line">git stash show -p stash@&#123;0&#125;                               # å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜</span><br><span class="line">git stash apply stash@&#123;0&#125;                                 # åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜</span><br><span class="line">git grep &quot;delete from&quot;                                    # æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬â€œdelete fromâ€</span><br><span class="line">git grep -e &#x27;#define&#x27; --and -e SORT_DIRENT</span><br><span class="line">git gc</span><br><span class="line">git fsck</span><br></pre></td></tr></table></figure><h2 id="3-2-è®¾ç½®ç”¨æˆ·ç­¾å">3.2 è®¾ç½®ç”¨æˆ·ç­¾å</h2><p><strong>å‘½ä»¤ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name ç”¨æˆ·å</span><br><span class="line">git config --global user.email é‚®ç®±</span><br><span class="line">git config -l # æŸ¥çœ‹æ‰€æœ‰é…ç½®</span><br></pre></td></tr></table></figure><p><strong><font style="color:red;">Gité¦–æ¬¡å®‰è£…å¿…é¡»è®¾ç½®ç”¨æˆ·ç­¾åï¼Œå¦åˆ™åç»­æ— æ³•æäº¤ä»£ç </font></strong>ã€‚ç­¾åçš„ä½œç”¨æ˜¯åŒºåˆ†ä¸åŒæ“ä½œè€…èº«ä»½ã€‚ç”¨æˆ·çš„ç­¾åä¿¡æ¯åœ¨æ¯ä¸€ä¸ªç‰ˆæœ¬çš„æäº¤ä¿¡æ¯ä¸­èƒ½å¤Ÿçœ‹åˆ°ï¼Œä»¥æ­¤ç¡®è®¤æœ¬æ¬¡æäº¤æ˜¯è°åšçš„ã€‚</p><p><font style="color:red;background:yellow;">â€»æ³¨æ„ï¼š</font>è¿™é‡Œè®¾ç½®ç”¨æˆ·ç­¾åå’Œå°†æ¥ç™»å½• Github ï¼ˆæˆ–å…¶ä»–ä»£ç æ‰˜ç®¡ä¸­å¿ƒï¼‰çš„è´¦å·æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ï¼ˆWindowsä¸‹å¦‚æœæƒ³æ‰‹åŠ¨ä¿®æ”¹å¯ä»¥åœ¨<code>C:\Users\Niuâ€˜s XX Pro 13</code> ä¸‹çš„<code>.gitconfig</code>æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚ï¼‰</p><h2 id="3-3-åˆå§‹åŒ–æœ¬åœ°åº“">3.3 åˆå§‹åŒ–æœ¬åœ°åº“</h2><p>**å‘½ä»¤ï¼š**åœ¨éœ€è¦çš„æ–‡ä»¶å¤¹ä¸­è¾“å…¥å‘½ä»¤ï¼Œåˆå§‹åŒ–å·¥ä½œåŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><hr><h1 id="swigï¿¼21"><p class='p cyan huge center'>4. åˆ†æ”¯æ“ä½œ</p></h1><p>åœ¨ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºæ¯ä¸ªä»»åŠ¡çš„å•ç‹¬åˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ç¨‹åºå‘˜å¯ä»¥æŠŠè‡ªå·±çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œå¼€å‘è‡ªå·±åˆ†æ”¯çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚ï¼ˆåˆ†æ”¯çš„åº•å±‚ä¹Ÿæ˜¯æŒ‡é’ˆçš„è¿ç”¨ï¼‰</p><p><strong>åˆ†æ”¯çš„å¥½å¤„åœ¨äºå¯ä»¥åŒæ—¶å¹¶è¡Œæ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡</strong>ã€‚</p><h2 id="4-1-åˆ†æ”¯çš„æ“ä½œ">4.1 åˆ†æ”¯çš„æ“ä½œ</h2><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>git branch åˆ†æ”¯å</td><td>åˆ›å»ºåˆ†æ”¯</td></tr><tr><td>git branch -v</td><td>æŸ¥çœ‹åˆ†æ”¯</td></tr><tr><td>git checkout åˆ†æ”¯å</td><td>åˆ‡æ¢åˆ†æ”¯</td></tr><tr><td>git merge åˆ†æ”¯å</td><td>æŠŠ<u>æŒ‡å®šçš„åˆ†æ”¯</u>åˆå¹¶åˆ°<u>å½“å‰åˆ†æ”¯</u>ä¸Š</td></tr><tr><td>git branch -d åˆ†æ”¯å</td><td>åˆ é™¤æœ¬åœ°åˆ†æ”¯</td></tr></tbody></table><h2 id="4-2-åˆ†æ”¯å†²çª">4.2 åˆ†æ”¯å†²çª</h2><p>åˆå¹¶åˆ†æ”¯æ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯åœ¨<font style="color:red;">åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®</font>æœ‰ä¸¤å¥—å®Œå…¨ä¸åŒçš„ä¿®æ”¹ã€‚Gitæ— æ³•æ›¿æˆ‘ä»¬å†³å®šä½¿ç”¨å“ªä¸€ä¸ªã€‚å¿…é¡»<font style="color:red;">äººä¸ºå†³å®š</font>æ–°ä»£ç å†…å®¹ã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><ol><li><p>æœ¬åœ°æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼šmasterï¼Œbeta</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ‡æ¢åˆ°masteråˆ†æ”¯</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout master</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å°†betaåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯masterä¸Š</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge beta</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨åˆå¹¶åˆ†æ”¯æ—¶å†²çªæç¤º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge beta</span></span><br><span class="line">Auto-merging README.md</span><br><span class="line">CONFLICT (content): Merge conflict in README.md</span><br><span class="line">Automatic merge failed; fix conflicts and then commit the result.</span><br></pre></td></tr></table></figure></li><li><p>æ‰‹åŠ¨æ‰“å¼€å†²çªçš„æ–‡æ¡£è¿›è¡Œä¿®æ”¹ï¼ˆå¹¶å»æ‰å¤šä½™çš„ç¬¦å·ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">å½“å‰åˆ†æ”¯åŒºçš„å†²çªæ•°æ®</span><br><span class="line">=======</span><br><span class="line">æŒ‡å®šåˆ†æ”¯åŒºçš„å†²çªæ•°æ®</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt;&gt;&gt;&gt;&gt; beta</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ‰§è¡Œ add å’Œ commit æ“ä½œå®Œæˆå†²çªåˆå¹¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add .</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;merge beta&quot;</span><span class="comment"># æ­¤å¤„ä¸èƒ½åŠ æ–‡ä»¶åï¼Œå¦åˆ™æŠ¥é”™</span></span></span><br></pre></td></tr></table></figure></li></ol><hr><h1 id="swigï¿¼22"><p class='p cyan huge center'>5. å›¢é˜Ÿåä½œæœºåˆ¶</p></h1><h2 id="5-1-å›¢é˜Ÿå†…åä½œ">5.1 å›¢é˜Ÿå†…åä½œ</h2><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/d71ae461e980d9246d92f1afce6f148f.jpeg" alt="d71ae461e980d9246d92f1afce6f148f"></p><h2 id="5-2-è·¨å›¢é˜Ÿåä½œ">5.2 è·¨å›¢é˜Ÿåä½œ</h2><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105101336437.png" alt="image-20230105101336437"></p><hr><h1 id="swigï¿¼23"><p class='p cyan huge center'>6. GitHub</p></h1><div class="tip home"><p><strong>Githubå®˜ç½‘</strong>ï¼š<a href="https://github.com">https://github.com</a></p></div><h2 id="swigï¿¼25"><p class='p cyan large left'>6.1 ç½‘é¡µæ“ä½œ</p></h2><h3 id="6-1-1-åˆ›å»ºä»“åº“">6.1.1 åˆ›å»ºä»“åº“</h3><p>æ³¨å†ŒæˆåŠŸç™»é™†åï¼Œç‚¹å‡» <code>create repository</code></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/24a342741a1b4f4482ba0cfb155f1eca.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ ¹æ®æç¤ºè¿›è¡Œå¡«å†™ï¼Œè¿™é‡Œæ˜¯è®°å½•è‡ªå·±ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œé€‰æ‹©ç§äººä»“åº“ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/d277aa337d414b6f8948e5b2bf9391e9.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åˆ›å»ºæˆåŠŸï¼Œå°±è¿›å…¥äº†ä»“åº“ä¸»é¡µ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/39d86423610a40dab383c533494748f1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="6-1-2-ä»“åº“ç®¡ç†">6.1.2 ä»“åº“ç®¡ç†</h3><p>æ–°å»ºæ–‡ä»¶</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/8e5e22bdf40b4845ac4a5fb9a0c2081c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿›å…¥æ–°å»ºæ–‡ä»¶é¡µé¢</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/0bf6425e165e420897adb1ab7e935742.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç„¶åæ¥çœ‹ä¸€ä¸‹preview</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/f73502458f3d444da2031bb6f7d00a2d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åˆ›å»ºä¹‹åï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ä»“åº“ä¸»é¡µ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/f7061261bcef4c5086e7425850ab3fab.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç„¶åï¼Œæˆ‘è¿™é‡Œé€‰æ‹©ç‚¹å‡»æ–‡ä»¶åpython1ï¼Œè¿›å…¥æ–°çš„é¡µé¢</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/3af8a765171a4d28a727325454a29755.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ç‚¹å‡»ç¼–è¾‘ï¼ˆğŸ–Šï¼‰ï¼Œè¿›å…¥ç¼–è¾‘é¡µé¢</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/67324c2c51c74406a391e0415badad4f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆåŠŸæäº¤ä¹‹åï¼Œä¼šè¿”å›åˆšåˆšçš„é¡µé¢</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/cafa110cabe54617b6a26ba5cdc3c7fd.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿™é‡Œé€‰æ‹©ç‚¹å‡»ä»“åº“åpython_testï¼Œè¿”å›ä»“åº“ä¸»é¡µï¼Œå†ç‚¹å‡»å‘ç”Ÿå˜åŒ–çš„æè¿°ï¼ŒæŸ¥çœ‹æäº¤çš„è¯¦ç»†æƒ…å†µ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/a5b83bb6ac824a9f9668c02b02d47820.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨ä»“åº“ä¸»é¡µï¼Œç‚¹å‡»commitsï¼Œå¯ä»¥æŸ¥çœ‹å†å²æäº¤ç‰ˆæœ¬</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/e1eabd7d2b4248e18d1eca6852aea19c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="6-1-3-ä¸Šä¼ æ–‡ä»¶">6.1.3 ä¸Šä¼ æ–‡ä»¶</h3><p>åœ¨ä»“åº“ä¸»é¡µè¿›è¡Œä»¥ä¸‹æ“ä½œ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/ee24021b7f6e46ce92bbd92f3068c9f7.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/4568eca8ba544d088e23a1e69e607883.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¸Šä¼ æˆåŠŸä¹‹åï¼Œä¼šè‡ªåŠ¨è¿”å›ä»“åº“ä¸»é¡µ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/3460e1bde26c44dc848718ce3dd7d3e3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨ä»“åº“ä¸»é¡µï¼Œè¿˜å¯ä»¥æœç´¢æ–‡ä»¶ï¼Œæ ¹æ®æ–‡ä»¶åè¿›è¡Œæœç´¢</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/454530d42d4f4aa3b0dbb03376447816.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="6-1-4-å…³æ³¨ã€æ”¶è—ã€å…‹éš†ã€issues">6.1.4 å…³æ³¨ã€æ”¶è—ã€å…‹éš†ã€issues</h3><p>â€‹å…³æ³¨ï¼šå…³æ³¨ä¹‹åï¼Œä½œè€…ä»“åº“å‘ç”Ÿå˜åŒ–ï¼Œä½ ä¼šæ”¶åˆ°æç¤ºä¿¡æ¯ï¼›</p><p>â€‹æ”¶è—ï¼šæ”¶è—ä»“åº“ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼›</p><p>â€‹å…‹éš†ï¼ˆå¤åˆ¶ï¼‰ï¼šåˆ›å»ºä¸€ä¸ªå’Œä½œè€…ä»“åº“ä¸€æ ·çš„ä»“åº“ï¼Œä¸ä¼šåŠ¨æ€å˜åŒ–ï¼Œå³ä½œè€…ä¹‹åæ›´æ–°çš„å†…å®¹ï¼Œä½ çš„ä»“åº“ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼›</p><p>â€‹å‘é€è¯·æ±‚ï¼šå¦‚æœä½ å…‹éš†äº†ä¸€ä¸ªä½œè€…çš„ä»“åº“ï¼Œè¿˜æƒ³å’Œä½œè€…åŒæ­¥ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©å‘é€è¯·æ±‚ã€‚</p><p>â€‹issuesï¼šç”¨äºå‘ç°bugï¼Œè®¨è®ºä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºç§ä¿¡</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/a9405f9ec943465380ee7e519b9acd9b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>è¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼ŒæŸ¥çœ‹è‡ªå·±çš„æ”¶è—</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/dd7f61b10a494fdf899a946309520003.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="swigï¿¼26"><p class='p blue large left'>6.2 è¿œç¨‹åº“æ“ä½œ</p></h2><h3 id="6-2-1-åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å">6.2.1 åˆ›å»ºè¿œç¨‹ä»“åº“åˆ«å</h3><p>å»ºè®®åˆ«åä¸ä»“åº“åä¿æŒä¸€è‡´</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote -v<span class="comment"># æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿œç¨‹åœ°å€åˆ«å</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote add åˆ«å è¿œç¨‹åœ°å€<span class="comment"># ç»™æ­¤è¿œç¨‹ä»“åº“å–åˆ«åï¼Œæ–¹ä¾¿æ“ä½œ</span></span></span><br></pre></td></tr></table></figure><h3 id="6-2-2-æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“">6.2.2 æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push åˆ«å(æˆ–è¿œç¨‹åº“åœ°å€) æœ¬åœ°åˆ†æ”¯<span class="comment"># æ¨é€æœ¬åœ°åˆ†æ”¯ä¸Šçš„å†…å®¹åˆ°è¿œç¨‹ä»“åº“</span></span></span><br></pre></td></tr></table></figure><p>å¦‚æœé¦–æ¬¡ç™»å…¥è¿‡ä¼šå¼¹å‡ºç™»å…¥è´¦å·æˆ–å…¶ä»–é€‰é¡¹ï¼ŒæŒ‰ç…§å®é™…æƒ…å†µæ“ä½œã€‚ï¼ˆWindowsä¸‹å¯ä»¥æŸ¥çœ‹å‡­æ®ç®¡ç†å™¨ï¼‰</p><h3 id="6-2-3å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°">6.2.3å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> è¿œç¨‹åº“åœ°å€<span class="comment"># å…‹éš†è¿œç¨‹ä»“åº“å†…å®¹åˆ°æœ¬åœ°</span></span></span><br></pre></td></tr></table></figure><p>å…‹éš†ä¼šåšå¦‚ä¸‹æ“ä½œï¼š1. æ‹‰å–ä»£ç  2. åˆå§‹åŒ–æœ¬åœ°åº“ 3. è‡ªåŠ¨åˆ›å»ºåˆ«å</p><h3 id="6-2-4-æ‹‰å–è¿œç¨‹åº“å†…å®¹">6.2.4 æ‹‰å–è¿œç¨‹åº“å†…å®¹</h3><p>è¦æ³¨æ„åˆ‡æ¢åˆ°éœ€è¦æ‹‰å–çš„æœ¬åœ°åº“åˆ†æ”¯ä¸Š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git pull åˆ«å(æˆ–è¿œç¨‹åº“åœ°å€) è¿œç¨‹åˆ†æ”¯å<span class="comment"># å°†è¿œç¨‹ä»“åº“å¯¹äºåˆ†æ”¯æœ€æ–°å†…å®¹æ‹‰ä¸‹æ¥åä¸å½“å‰æœ¬åœ°åˆ†æ”¯ç›´æ¥åˆå¹¶</span></span></span><br></pre></td></tr></table></figure><h2 id="swigï¿¼27"><p class='p blue large left'>6.3 å›¢é˜Ÿåä½œ</p></h2><h3 id="6-3-1-å›¢é˜Ÿå†…åä½œ">6.3.1 å›¢é˜Ÿå†…åä½œ</h3><h4 id="6-3-1-1-é‚€è¯·">6.3.1.1 é‚€è¯·</h4><ol><li><p>é€‰æ‹©é‚€è¯·åˆä½œè€…</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/2726f1402ef34d909df1ea69b84831bc.png" alt="img"></p></li><li><p>å¡«å…¥æƒ³è¦åˆä½œçš„äºº</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/07e62400d97c4e1c98f2ef300ffddb6f.png" alt="img"></p></li><li><p>å¤åˆ¶åœ°å€å¹¶å‘é€ç»™è¯¥ç”¨æˆ·</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/31a3b825f9fe40ba8fd4416fca714315.png" alt="img"></p></li></ol><h4 id="6-3-1-2-åŠ å…¥å›¢é˜Ÿ">6.3.1.2 åŠ å…¥å›¢é˜Ÿ</h4><ol><li><p>åœ¨linghuchong258è¿™ä¸ªè´¦å·ä¸­çš„åœ°å€æ å¤åˆ¶æ”¶åˆ°é‚€è¯·çš„é“¾æ¥ï¼Œç‚¹å‡»æ¥å—é‚€è¯·</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/075d5a861c9a4572a82042a6e80746f7.png" alt="img"></p></li><li><p>æˆåŠŸåŠ å…¥å›¢é˜Ÿ</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/f6b71feb9a784800886eb87d539c5f9c.png" alt="img"></p></li></ol><h3 id="6-3-2-è·¨å›¢é˜Ÿåä½œ">6.3.2 è·¨å›¢é˜Ÿåä½œ</h3><h4 id="6-3-2-1-éå›¢é˜Ÿæˆå‘˜æ“ä½œ">6.3.2.1 éå›¢é˜Ÿæˆå‘˜æ“ä½œ</h4><ol><li><p>æœç´¢é¡¹ç›®(é¡¹ç›®éœ€è¦æ˜¯publicçš„ï¼Œå¦åˆ™æœä¸åˆ°)</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/a4f81e7bdce94a0ca50490ba14fcbf3b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>Forkåˆ›é€ å‰¯æœ¬</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/95aa6e3fef6b40f3ad6619c9ad1915ac.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/cd764c5516984cc496579f5f8bff6f35.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/e3de26a8ed694a1caf1c0380df236d37.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>ä¿®æ”¹å†…å®¹,è¿™é‡Œç›´æ¥åœ¨ä¿®æ”¹ä¸€äº›å†…å®¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥<code>git clone</code>åˆ°æœ¬åœ°ï¼Œå†æ‰§è¡Œ<code>add</code>,<code>commit</code>,<code>push</code>ç­‰æ“ä½œæ¥ä¿®æ”¹ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/f51a7a1eb49e4f19928b68f54cd1c379.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/0028c4b076e34be088baedb9e7695cce.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>åˆ›å»ºæ‹‰å–è¯·æ±‚ï¼ˆå°±æ˜¯æäº¤ï¼‰</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/55b5730eb2684c5e9c1ccf39e6ef2f52.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/00246e281fd545f4b0a9b1b0c33a897e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/bbef840148074c3b9583e195678523c1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li></ol><h4 id="6-3-2-2-åº“åŸä½œè€…æ“ä½œ">6.3.2.2 åº“åŸä½œè€…æ“ä½œ</h4><ol><li><p>æŸ¥çœ‹åˆå¹¶è¯·æ±‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/531a47b76f994f09bbfa41b8fdd5d429.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>ç‚¹å‡»æŸ¥çœ‹åˆå¹¶è¯·æ±‚ï¼Œç‚¹å‡»merge pull requestè¿›è¡Œåˆå¹¶</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/d4d9b19b08ad41c7b61f1c5cf7519eca.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å½“ç„¶åŸä½œè€…å¦‚æœæœ‰ç–‘é—®ï¼Œä¹Ÿå¯ä»¥å‘å›¢é˜Ÿå¤–çš„ä¿®æ”¹è€…è¿›è¡Œäº¤æµï¼Œæ¶ˆæ¯å‘é€åï¼Œå¯¹æ–¹ä¼šå®æ—¶æ”¶åˆ°ã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/2f078a2cf84d46ca9e668e115bcc1e8f.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/29978e77b4fb4449b53cc82a75efe518.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6YCG5rC06KGM6Iif5rKh5pyJ6YCA6Lev,size_16,color_FFFFFF,t_70,g_se,x_16" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ol start="3"><li><p>æ‰§è¡Œåˆå¹¶æ“ä½œï¼ŒåŸä½œè€…çš„ä»“åº“å°±ä¼šä¿®æ”¹</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/30c31d87f9174b96b5067358ad87035b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li></ol></li></ol><h2 id="swigï¿¼28"><p class='p blue large left'>6.4 SSH å…å¯†ç™»å½•</p></h2><h3 id="6-4-1-Linux">6.4.1 Linux</h3><p>æƒ³è¦ä» Linux å‘½ä»¤è¡Œclone githubä»“åº“çš„è¯ï¼Œç›®å‰ä¸æ”¯æŒ HTTPS çš„æ–¹å¼äº†ã€‚é‚£ä¹ˆä¸æƒ³ä½¿ç”¨ Github CLI çš„è¯ï¼Œå°±å¿…é¡»é…ç½® SSH è¿æ¥äº†ã€‚</p><ol><li><p>ç”ŸæˆSSHå¯†é’¥</p><p>åœ¨<code>~/.ssh</code>ä¸‹ç”Ÿæˆä¸€ä¸ªç§é’¥id_rsaï¼Œå’Œä¸€ä¸ªå…¬é’¥id_rsa.pubã€‚</p><p>ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šè¯¢é—®æ˜¯å¦è®¾ç½®passphraseï¼Œè¿™å°±ç›¸å½“äºä¿æŠ¤è¿™ä¸ªç§é’¥çš„å¯†ç ï¼Œé¿å…è¢«ç ´è¯‘ã€‚</p><p>å®‰å…¨èµ·è§ï¼Œå»ºè®®è®¾ç½®å¯†ç ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ6we7h05pt11jdb989dawZ ~]# ssh-keygen -t rsa</span><br></pre></td></tr></table></figure></li><li><p>é…ç½® Github</p><p>â‘  å¤åˆ¶å…¬é’¥æ–‡ä»¶çš„å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ6we7h05pt11jdb989dawZ ~]# cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>â‘¡ <code>Github</code>ä¸­ï¼Œæ‰“å¼€ <code>Settings</code> &gt; <code>SSH and GPG keys</code> &gt; <code>New SSH key</code></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105220227246.png" alt="image-20230105220227246"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105220618037.png" alt="image-20230105220618037"></p></li></ol><p>â€‹<img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105221432918.png" alt="image-20230105221432918"></p><p>â€‹â‘¢ åœ¨ Key æ–‡æœ¬æ¡†ä¸­ç²˜è´´ä¸Šå¤åˆ¶å¥½çš„å…¬é’¥å†…å®¹ï¼Œå¹¶ä¸”è®¾ç½®å¥½ Title åï¼Œç‚¹å‡» Add SSH key</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105221550696.png" alt="image-20230105221550696"></p><ol start="3"><li><p>æ£€æŸ¥ SSH é“¾æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ6we7h05pt11jdb989dawZ ~]# ssh -T git@github.com</span><br><span class="line">Enter passphrase for key &#x27;pass/to/private/key&#x27;: </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœæ”¶åˆ°ä¸‹é¢çš„æç¤ºï¼Œåˆ™è¡¨ç¤ºè®¾ç½®æˆåŠŸã€‚</span></span><br><span class="line">Hi xxxx! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦åˆ™ï¼Œå¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„æç¤º</span></span><br><span class="line">Permission denied (publickey).</span><br></pre></td></tr></table></figure><p>å¦‚æœé™¤äº†permission deniedä»¥å¤–ï¼Œè¿˜å‡ºç°äº†ï¼šsign_and_send_pubkey: signing failed: agent refused operationçš„æŠ¥é”™æç¤ºï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š</p><ul><li><p>sshæ–‡ä»¶å¤¹ç”±äºæ‰‹åŠ¨åˆ›å»ºçš„åŸå› æƒé™ä¸è¶³ã€‚è¿è¡Œä¸‹é¢è¿™è¡Œä»£ç å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZ6we7h05pt11jdb989dawZ ~]# chmod 700 ~/.ssh &amp;&amp; chmod 600 ~/.ssh/*</span><br></pre></td></tr></table></figure></li><li><p>å¯†é’¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç¼“å­˜ä¸­ã€‚è¿è¡Œ<code>ssh-add</code>æ¥æ·»åŠ ï¼Œéšåè¿è¡Œ<code>ssh-add -l</code>æ¥æ£€æµ‹æ˜¯å¦æ·»åŠ æˆåŠŸ.</p></li></ul></li></ol><h3 id="6-4-2-Windows">6.4.2 Windows</h3><p>åœ¨<code>C:\Users\å½“å‰ç”¨æˆ·</code>å‘¼å‡ºå‘½ä»¤æç¤ºç¬¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C xxx@qq.com# -Cè¡¨ç¤ºæ·»åŠ æè¿°ï¼šé‚®ç®±ä¸º...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿ç»­ä¸‰æ¬¡å›è½¦ï¼Œä¼šåœ¨C:\Users\å½“å‰ç”¨æˆ·\.ssh\ç”Ÿæˆ.pubå…¬é’¥</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–åŒLinuxç›¸åŒã€‚</p><hr><h1 id="swigï¿¼29"><p class='p cyan huge center'>7. IDEAé›†æˆGit</p></h1><h2 id="7-1-é…ç½®Gitå¿½ç•¥æ–‡ä»¶">7.1 é…ç½®Gitå¿½ç•¥æ–‡ä»¶</h2><p>ä¸é¡¹ç›®çš„å®é™…åŠŸèƒ½æ— å…³ï¼Œä¸å‚ä¸æœåŠ¡å™¨ä¸Šéƒ¨ç½²è¿è¡Œã€‚æŠŠå®ƒä»¬å¿½ç•¥æ‰èƒ½å¤Ÿå±è”½IDEå·¥å…·ä¹‹é—´çš„å·®å¼‚ã€‚</p><h3 id="7-1-1-MacOS">7.1.1 MacOS</h3><h3 id="7-1-2-Windows">7.1.2 Windows</h3><ol><li><p>åˆ›å»ºå¿½ç•¥è§„åˆ™æ–‡ä»¶ $\textcolor{red}{xxx.ignore ï¼ˆå‰ç¼€åéšä¾¿èµ·ï¼Œå»ºè®®æ˜¯git.ignoreï¼‰}$</p><p>è¿™ä¸ªæ–‡ä»¶æ”¾ç½®åœ¨å“ªé‡Œéƒ½å¯ä»¥ï¼Œä¸ºäº†ä¾¿äºè®©<code>~/.gitconfig</code>æ–‡ä»¶å¼•ç”¨ï¼Œå»ºè®®ä¹Ÿæ”¾åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹</p><p>ï¼ˆideaä¸€èˆ¬ä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰</p></li><li><p>åœ¨<code>~/.gitconfig</code>ä¸­æ·»åŠ </p><p>æ³¨æ„ï¼šWindowsä¸‹è¦ä½¿ç”¨æ–œçº¿ <code>/</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">excludesfile = C:/Users/ç”¨æˆ·/git.ignore</span><br></pre></td></tr></table></figure></li></ol><h2 id="7-2-é…ç½®IDEA">7.2 é…ç½®IDEA</h2><ol><li><p>æ‰“å¼€ <code>File</code> &gt; <code>Settings</code></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105230001768.png" alt="image-20230105230001768"></p></li><li><p><code>Version Control</code> &gt;  <code>Git</code>(æˆ–ç›´æ¥æœç´¢git)</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105230044402.png" alt="image-20230105230044402"></p></li><li><p>é…ç½®git.exeçš„å®‰è£…ç›®å½•ï¼Œç‚¹å‡»<code>Test</code>å‡ºç°ç‰ˆæœ¬å·è¯æ˜æˆåŠŸï¼Œç‚¹<code>OK</code></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230105230126332.png" alt="image-20230105230126332"></p></li></ol><h2 id="7-3-åˆå§‹åŒ–IDEAæœ¬åœ°åº“">7.3 åˆå§‹åŒ–IDEAæœ¬åœ°åº“</h2><ol><li><p>VCS &gt; Create Git Repositoryâ€¦</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230106001012899.png" alt="image-20230106001012899"></p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230106001111394.png" alt="image-20230106001111394"></p></li></ol>]]></content>
    
    
    <summary type="html">Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥æœ‰æ•ˆã€é«˜é€Ÿåœ°å¤„ç†ä»å¾ˆå°åˆ°éå¸¸å¤§çš„é¡¹ç›®ç‰ˆæœ¬ç®¡ç†ã€‚</summary>
    
    
    
    <category term="Note" scheme="https://blog.halfsummer.xyz/categories/Note/"/>
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/categories/Note/Program/"/>
    
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/tags/Program/"/>
    
    <category term="Git" scheme="https://blog.halfsummer.xyz/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Linux å­¦ä¹ æ‰‹å†Œ</title>
    <link href="https://blog.halfsummer.xyz/posts/52702296.html"/>
    <id>https://blog.halfsummer.xyz/posts/52702296.html</id>
    <published>2023-01-10T20:52:00.000Z</published>
    <updated>2023-02-12T22:48:00.000Z</updated>
    
    <content type="html"><![CDATA[<meta name="referrer" content="no-referrer" /><h1 id="swigï¿¼440"><p class='p cyan huge center'>Linux æ¦‚è¿°<sup>(1)</sup></p></h1><ul><li><p>Linux å…¨ç§°GNU/Linuxï¼Œæ˜¯ä¸€ç§å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±»UNIXæ“ä½œç³»ç»Ÿï¼Œå…¶å†…æ ¸ç”±æ—çº³æ–¯Â·æœ¬çº³ç¬¬å…‹ç‰¹Â·æ‰˜ç“¦å…¹äº1991å¹´10æœˆ5æ—¥é¦–æ¬¡å‘å¸ƒï¼Œå®ƒä¸»è¦å—åˆ°Minixå’ŒUnixæ€æƒ³çš„å¯å‘ï¼Œæ˜¯ä¸€ä¸ªåŸºäºPOSIXçš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡ã€æ”¯æŒå¤šçº¿ç¨‹å’Œå¤šCPUçš„æ“ä½œç³»ç»Ÿã€‚</p></li><li><p>GNU/Linux</p><p>GNUæœ¬æ¥æœ‰ä¸€ä¸ªå®˜æ–¹çš„å†…æ ¸ï¼Œç§°ä¸ºGNU Hurdï¼Œé—æ†¾çš„æ˜¯GNU Hurdè¿˜æ²¡æœ‰å‡†å¤‡å¥½å¯ä»¥ä½œä¸ºäº§å“ä½¿ç”¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¦ä¸€ä¸ªå†…æ ¸å·²ç»å¯ä»¥å–å¾—ã€‚åœ¨ä¸€ä¹ä¹ä¸€å¹´ï¼ŒLinus Torvaldså¼€å‘äº†ä¸€ä¸ªä¸Unixå…¼å®¹çš„å†…æ ¸å¹¶ç§°ä¹‹ä¸ºLinuxã€‚å¤§çº¦åœ¨ä¸€ä¹ä¹äºŒå¹´ï¼Œå°†Linuxä¸ä¸æ˜¯éå¸¸å®Œæ•´çš„GNUç³»ç»Ÿç›¸ç»“åˆäº§ç”Ÿäº†ä¸€ä¸ªå®Œæ•´çš„è‡ªç”±è½¯ä»¶æ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬ä»Šå¤©å› æ­¤å¯ä»¥å®é™…è¿è¡Œä¸€ä¸ªGNUç³»ç»Ÿçš„ç‰ˆæœ¬ï¼Œç§°ä¹‹GNU/Linuxã€‚</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/Snipaste_2022-12-18_11-55-23.png" alt="Snipaste_2022-12-18_11-55-23"></p></li></ul><blockquote><ul><li><p>ç†æŸ¥å¾·Â·é©¬ä¿®Â·æ–¯æ‰˜æ›¼,å…¨åRichard Matthew Stallman, RMS,äº1953å¹´å‡ºç”Ÿï¼Œè‡ªç”±è½¯ä»¶è¿åŠ¨çš„ç²¾ç¥é¢†è¢–ã€GNUè®¡åˆ’ä»¥åŠè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFree Software Foundationï¼‰çš„åˆ›ç«‹è€…ã€è‘—åé»‘å®¢ã€‚</p></li><li><p>æçº³æ–¯Â·æ‰˜æ²ƒå…¹, linuxä¹‹çˆ¶ï¼Œå…¨åLinus Benedict Torvalds ï¼Œæ˜¯ä¸€ä½å‡ºç”Ÿäº1969.12.28çš„èŠ¬å…°äººã€‚</p></li></ul></blockquote><hr><h1 id="swigï¿¼441"><p class='p cyan huge center'>å®‰è£… Linux<sup>(2)</sup></p></h1><ul><li><p>ä¸‹è½½</p><div class="tag link"><a class="link-card" title="é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº" href="https://developer.aliyun.com/mirror/"><div class="left"><img src="https://img.alicdn.com/tfs/TB13DzOjXP7gK0jSZFjXXc5aXXa-212-48.png"/></div><div class="right"><p class="text">é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº</p><p class="url">https://developer.aliyun.com/mirror/</p></div></a></div></li><li><p>CentOS</p><div class="tag link"><a class="link-card" title="WMwareå®‰è£…" href="https://gitee.com/aceniu/Notes/blob/master/installed_Linux_handbook.md"><div class="left"><img src="https://img01.anzhiy.cn/useruploads/0/2023/02/12/63e901a611c26.jpg"/></div><div class="right"><p class="text">WMwareå®‰è£…</p><p class="url">https://gitee.com/aceniu/Notes/blob/master/installed_Linux_handbook.md</p></div></a></div></li></ul><hr><h1 id="swigï¿¼444"><p class='p cyan huge center'>ç™»å…¥ Linux<sup>(3)</sup></p></h1><details class="folding-tag" blue><summary> Windowsç™»å…¥ Linux </summary>              <div class='content'>              <p><code>win+r</code>åœ¨<code>cmd.exe</code>ä¸­è¾“å…¥:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@ä¸»æœºåœ°å€(||ä¸»æœºå)</span><br></pre></td></tr></table></figure><p>æç¤ºæ˜¯å¦ä¿å­˜ç§˜é’¥ ï¼ˆæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼‰</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/Snipaste_2022-12-11_10-15-40.png" alt="Snipaste_2022-12-11_10-15-40"></p>              </div>            </details><details class="folding-tag" blue><summary> å…¶å®ƒå·¥å…·ç™»å…¥ Linux </summary>              <div class='content'>              <ul><li>XShell</li><li>FinalShell</li></ul>              </div>            </details><hr><h1 id="swigï¿¼447"><p class='p cyan huge center'>æ–‡ä»¶ç³»ç»Ÿ<sup>(4)</sup></p></h1><table><thead><tr><th>æ–‡ä»¶å¤¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>bin</td><td>å¸¸ç”¨å‘½ä»¤é›†åˆï¼ˆå®é™…ä½ç½®åœ¨usr/binï¼‰</td></tr><tr><td>sbin</td><td>ç®¡ç†å‘˜å‘½ä»¤é›†ï¼ˆå®é™…ä½ç½®åœ¨usr/sbinï¼‰</td></tr><tr><td>lib</td><td>åº“ç›®å½•ï¼ˆç›¸å½“äºSystem32ï¼‰ï¼ˆå®é™…ä½ç½®åœ¨usr/libï¼‰</td></tr><tr><td>lib64</td><td>64ä½åº“ç›®å½•</td></tr><tr><td>usr</td><td>åŒ…å«ç”¨æˆ·çš„æ‰€æœ‰åº”ç”¨ç¨‹åºã€æ–‡ä»¶å’Œæ•°æ® ï¼ˆusr/local/ ç›¸å½“äº Progrom Files åº”ç”¨ä¸€èˆ¬å®‰è£…äºæ­¤ï¼‰</td></tr><tr><td>boot</td><td>æŒ‚è½½å¼•å¯¼</td></tr><tr><td>dev</td><td>ç®¡ç†æ‰€æœ‰è®¾å¤‡</td></tr><tr><td>etc</td><td>ç³»ç»Ÿç®¡ç†çš„é…ç½®æ–‡ä»¶</td></tr><tr><td>home</td><td>ç”¨æˆ·çš„ä¸ªæ€§åŒ–ä¸»ç›®å½•</td></tr><tr><td>root</td><td>ç®¡ç†å‘˜ä¸ªæ€§åŒ–ä¸»ç›®å½•</td></tr><tr><td>opt</td><td>ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…çš„ç›®å½•</td></tr><tr><td>media</td><td>è¯†åˆ«åª’ä½“ï¼ˆå…‰é©±ï¼Œç¡¬ç›˜ï¼‰</td></tr><tr><td>mnt</td><td>ç§»åŠ¨è®¾å¤‡æŒ‚è½½ç‚¹</td></tr><tr><td>proc</td><td>è¿›ç¨‹ç›®å½•</td></tr><tr><td>run</td><td>å½“å‰ç³»ç»Ÿè¿è¡Œçš„æ‰€æœ‰ä¿¡æ¯</td></tr><tr><td>srv</td><td>ç³»ç»ŸæœåŠ¡</td></tr><tr><td>sys</td><td>ç³»ç»Ÿç¡¬ä»¶ä¿¡æ¯çš„ç›¸å…³ä¿¡æ¯</td></tr><tr><td>tmp</td><td>ä¸´æ—¶ç›®å½•</td></tr><tr><td>var</td><td>å¯å˜ç›®å½•</td></tr></tbody></table><h1 id="swigï¿¼448"><p class='p cyan huge center'>åŸºç¡€é…ç½®<sup>(5)</sup></p></h1><h2 id="swigï¿¼449"><p class='p blue large left'>ç½‘ç»œé…ç½®<sup>(5.1)</sup></p></h2><ul><li><p>æŸ¥è¯¢ç½‘å¡å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ip addr</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230111000810607.png" alt="image-20230111000810607"></p><ul><li>IPåœ°å€é…ç½®ï¼šã€€<code>/etc/sysconfig/network-scripts/ifcfg-eth0</code></li><li>ç½‘å…³é…ç½®ï¼šã€€ã€€<code>/etc/sysconfig/network</code></li><li>DNSé…ç½®ï¼šã€€ã€€<code>/etc/resolv.conf</code></li></ul></li><li><p><strong>é…ç½®æ–¹æ³•</strong></p><p><strong>é™æ€ipåªéœ€æ‰§è¡Œæ­¥éª¤1ã€4ã€‚</strong></p><ol><li><p>é¦–å…ˆè¦ç¼–è¾‘<strong>ç½‘å¡é…ç½®</strong>æ–‡ä»¶ï¼ŒCentOS7çš„ç½‘å¡é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ï¼š(è™šæ‹Ÿæœºä¸€èˆ¬ä¸ºifcfg-ens33)</p><p><code>/etc/sysconfig/network-scripts/ifcfg-eth0</code>ï¼Œæ­¤è·¯å¾„éå¸¸é‡è¦ï¼Œä»¥åä¼ä¸šä¸»æœºç½‘ç»œä¸é€šï¼Œå¯ä»æ­¤é…ç½®æ–‡ä»¶ä¸­æŸ¥çœ‹ã€‚ä¸‡ä¸€æœ‰ä¸€å¤©ï¼Œå¿˜è®°äº†ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿè¿™é‡Œå¤§å®¶ ä¸€å®šè¦å–„ç”¨findå‘½ä»¤ï¼›å› ä¸ºæˆ‘åªæ˜¯çŸ¥é“ç½‘å¡é…ç½®æ–‡ä»¶åœ¨/etcç›®å½•ä¸‹ï¼Œåå­—æ˜¯eth0ç»“å°¾ï¼Œå› æ­¤findå‘½ä»¤ä¸ºï¼š<code>find /etc -iname *eth0</code> ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/b44a9b802c0a42ecafbcb03d8e99cf2a.png" alt="img"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/sysconfig/network-script/ifcfg-eth0</span><br><span class="line"> DEVICE=eth0                   # ç‰©ç†è®¾å¤‡å</span><br><span class="line"> IPADDR=192.168.1.10           # IPåœ°å€</span><br><span class="line"> NETMASK=255.255.255.0         # æ©ç å€¼</span><br><span class="line"> NETWORK=192.168.1.0           # ç½‘ç»œåœ°å€ ( å¯ä¸è¦ )</span><br><span class="line"> BROADCAST=192.168.1.255       # å¹¿æ’­åœ°å€ï¼ˆ å¯ä¸è¦ ï¼‰</span><br><span class="line"> GATEWAY=192.168.1.1           # ç½‘å…³åœ°å€</span><br><span class="line"> ONBOOT=yes                    # [yes|no]ï¼ˆå¼•å¯¼æ—¶æ˜¯å¦æ¿€æ´»è®¾å¤‡ï¼‰--å¼€æœºè‡ªå¯</span><br><span class="line"> USERCTL=no                    # [yes|no]ï¼ˆérootç”¨æˆ·æ˜¯å¦å¯ä»¥æ§åˆ¶è¯¥è®¾å¤‡ï¼‰</span><br><span class="line"> BOOTPROTO=static              # [none|static|bootp|dhcp]ï¼ˆå¼•å¯¼æ—¶ä¸ä½¿ç”¨åè®®|é™æ€åˆ†é…|BOOTPåè®®|DHCPåè®®ï¼‰</span><br></pre></td></tr></table></figure></li><li><p><strong>ç½‘å…³é…ç½®ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/sysconfig/network</span><br><span class="line"> NETWORKING=yes</span><br><span class="line"> HOSTNAME=localhost.localdomain</span><br><span class="line"> GATEWAY=192.168.1.1</span><br></pre></td></tr></table></figure></li><li><p><strong>DNSé…ç½®ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/resolv.conf </span><br><span class="line">nameserver 192.168.237.200</span><br><span class="line">nameserver 114.114.114.114       # ä¸»DNS</span><br><span class="line">nameserver 8.8.8.8               # æ¬¡DNS</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ–¹çš„ DNS æœåŠ¡å™¨ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/1049141419-0.jpg" alt="img"></p></li><li><p><strong>é‡å¯ç½‘ç»œæœåŠ¡ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœåŠ¡é‡å¯</span></span><br><span class="line">[root@localhost ~]# systemctl restart network</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è„šæœ¬é‡å¯,ä¸€èˆ¬ä¸å¿…è¿™æ ·æ‰§è¡Œ</span></span><br><span class="line">[root@localhost ~]# /etc/init.d/network restart</span><br></pre></td></tr></table></figure></li></ol></li></ul><h2 id="swigï¿¼450"><p class='p blue large left'>é…ç½®ä¸»æœºå<sup>(5.2)</sup></p></h2><ul><li><p>æŸ¥çœ‹ä¸»æœºä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# hostnamectl</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230109194319798.png" alt="image-20230109194319798"></p></li><li><p>ä¿®æ”¹ä¸»æœºå <code>/etc/hostname</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/hostname</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–è€…</span></span><br><span class="line">[root@localhost ~]# hostnamectl set-hostname newname</span><br></pre></td></tr></table></figure></li><li><p>ä¸»æœºåæŸ¥è¯¢é™æ€è¡¨ <code>/etc/hosts</code> æ ¼å¼ä¸ºï¼š</p><blockquote><p>ipåœ°å€ ä¸»æœºå</p></blockquote><p>Windows ä¸‹ï¼šï¼ˆç”±äºæƒé™è¾ƒé«˜åªèƒ½æ›¿æ¢ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼‰</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230111213715761.png" alt="image-20230111213715761"></p></li></ul><h2 id="swigï¿¼451"><p class='p blue large left'>é˜²ç«å¢™<sup>(5.2)</sup></p></h2><p><a href="#firewall">Ctrl+ç‚¹å‡»è¯·è·³è½¬åˆ° 6.6 firewall</a></p><ul><li><p>å·¥ä½œç¯å¢ƒå¸¸ç”¨ï¼š</p><p><font style="color:orange;background:red"><strong>è­¦å‘Šï¼šæ‰“å¼€é˜²ç«å¢™åä¸€å®šè¦å…ˆæ·»åŠ sshç«¯å£åˆ°è§„åˆ™ä¸­ï¼Œå¹¶é‡æ–°è½½å…¥</strong></font></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br><span class="line">[root@localhost ~]# firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>ä»…æŒ‡å®š ip:port è®¿é—®ï¼š<a href="https://blog.csdn.net/ywd1992/article/details/80401630">å‚è€ƒæ–‡ç« </a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eg. ä»…æŒ‡å®šipå¯ä»¥è®¿é—®80ç«¯å£</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --permanent --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.0.200&quot; port protocol=&quot;tcp&quot; port=&quot;80&quot; reject&quot;</span><br><span class="line">[root@localhost ~]# firewall-cmd --reload</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç§»é™¤</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --permanent --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.0.200&quot; port protocol=&quot;tcp&quot; port=&quot;80&quot; accept&quot;</span><br></pre></td></tr></table></figure></li></ul><h2 id="5-3-Seliunx">5.3 Seliunx</h2><p>Linuxè¢«è®¤ä¸ºæ˜¯å½“ä»Šæœ€å®‰å…¨çš„æ“ä½œç³»ç»Ÿä¹‹ä¸€ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæ°å‡ºçš„å®‰å…¨ç‰¹æ€§ï¼Œå¦‚SELinux(å®‰å…¨å¢å¼ºçš„Linux)ã€‚</p><p>å¯¹äºåˆå­¦è€…ï¼ŒSELinuxè¢«æè¿°ä¸ºåœ¨å†…æ ¸ä¸­æ‰§è¡Œçš„å¼ºåˆ¶è®¿é—®æ§åˆ¶(MAC)å®‰å…¨ç»“æ„ã€‚SELinuxæä¾›äº†ä¸€ç§å¼ºåˆ¶æ‰§è¡ŒæŸäº›å®‰å…¨ç­–ç•¥çš„æ–¹æ³•ï¼Œå¦åˆ™ç³»ç»Ÿç®¡ç†å‘˜å°†æ— æ³•æœ‰æ•ˆåœ°å®ç°è¿™äº›ç­–ç•¥ã€‚å½“æ‚¨å®‰è£…RHEL/CentOSæˆ–å…¶ä»–è¡ç”Ÿå·¥å…·æ—¶ï¼ŒSELinuxæœåŠ¡æ˜¯é»˜è®¤å¯ç”¨çš„ï¼Œå› æ­¤æ‚¨ç³»ç»Ÿä¸Šçš„ä¸€äº›åº”ç”¨ç¨‹åºå¯èƒ½ä¸æ”¯æŒè¿™ç§å®‰å…¨æœºåˆ¶ã€‚å› æ­¤ï¼Œè¦ä½¿æ­¤ç±»åº”ç”¨ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œå¿…é¡»ç¦ç”¨æˆ–å…³é—­SELinuxã€‚</p><p><strong>SELinuxä¸€å…±æœ‰3ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯Enforcingï¼ŒPermissiveå’ŒDisabledçŠ¶æ€</strong>ã€‚ç¬¬ä¸€ç§æ˜¯é»˜è®¤çŠ¶æ€ï¼Œè¡¨ç¤ºå¼ºåˆ¶å¯ç”¨ï¼Œç¬¬äºŒç§æ˜¯å®½å®¹çš„æ„æ€ï¼Œå³å¤§éƒ¨åˆ†è§„åˆ™éƒ½æ”¾è¡Œã€‚ç¬¬ä¸‰ç§æ˜¯ç¦ç”¨ï¼Œå³ä¸è®¾ç½®ä»»ä½•è§„åˆ™ã€‚åªèƒ½é€šè¿‡setenforceå‘½ä»¤æ¥è®¾ç½®å‰é¢ä¸¤ç§çŠ¶æ€ï¼Œè€Œå¦‚æœæƒ³ä¿®æ”¹ä¸ºdisableçŠ¶æ€ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ŒåŒæ—¶é‡å¯ç³»ç»Ÿã€‚</p><ul><li><p>æŸ¥è¯¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sestatus</span><br><span class="line">getenforce</span><br></pre></td></tr></table></figure></li><li><p>ä¸´æ—¶ç¦ç”¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 0 &gt; /selinux/enforce</span><br><span class="line">setenforce 0</span><br><span class="line">setenforce Permissive</span><br></pre></td></tr></table></figure></li><li><p>æ°¸ä¹…ç¦ç”¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/selinux</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†é…ç½®SELinux=enforcingæ”¹ä¸ºSELinux=disabled</span></span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºåä½¿é…ç½®ç”Ÿæ•ˆï¼Œéœ€è¦é‡æ–°å¯åŠ¨ç³»ç»Ÿ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">  getenforce</span><br><span class="line">  reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#123;% p cyan huge center, è½¯ä»¶å®‰è£…&lt;sup&gt;(6)&lt;/sup&gt; %&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## &#123;% p blue large left, è½¯ä»¶åŒ…&lt;sup&gt;(6.1)&lt;/sup&gt; %&#125;</span></span><br><span class="line"></span><br><span class="line">Linuxä¸‹çš„è½¯ä»¶åŒ…ä¼—å¤šï¼Œä¸”å‡ ä¹éƒ½æ˜¯ç» GPL æˆæƒã€å…è´¹å¼€æºï¼ˆæ— å¿å…¬å¼€æºä»£ç ï¼‰çš„ã€‚è¿™æ„å‘³ç€å¦‚æœä½ å…·å¤‡ä¿®æ”¹è½¯ä»¶æºä»£ç çš„èƒ½åŠ›ï¼Œåªè¦ä½ æ„¿æ„ï¼Œå¯ä»¥éšæ„ä¿®æ”¹ã€‚</span><br><span class="line"></span><br><span class="line">&gt; GPLï¼Œå…¨ç§° General Public Licenseï¼Œä¸­æ–‡åç§°â€œé€šç”¨æ€§å…¬å¼€è®¸å¯è¯â€ï¼Œç®€å•ç†è§£ GPL å°±æ˜¯ä¸€ä¸ªä¿æŠ¤è½¯ä»¶è‡ªç”±çš„ä¸€ä¸ªåè®®ï¼Œç» GPL åè®®æˆæƒçš„è½¯ä»¶å¿…é¡»å¼€æºã€‚</span><br><span class="line"></span><br><span class="line">Linuxä¸‹çš„è½¯ä»¶åŒ…å¯ç»†åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯æºç åŒ…å’ŒäºŒè¿›åˆ¶åŒ…ã€‚</span><br><span class="line"></span><br><span class="line">* Linuxæºç åŒ…</span><br><span class="line"></span><br><span class="line">  å®é™…ä¸Šï¼Œæºç åŒ…å°±æ˜¯ä¸€å¤§å †æºä»£ç ç¨‹åºï¼Œæ˜¯ç”±ç¨‹åºå‘˜æŒ‰ç…§ç‰¹å®šçš„æ ¼å¼å’Œè¯­æ³•ç¼–å†™å‡ºæ¥çš„ã€‚</span><br><span class="line"></span><br><span class="line">  æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè®¡ç®—æœºåªèƒ½è¯†åˆ«æœºå™¨è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶è¯­è¨€ï¼Œæ‰€ä»¥æºç åŒ…çš„å®‰è£…éœ€è¦ä¸€åâ€œç¿»è¯‘å®˜â€å°†â€œabcdâ€ç¿»è¯‘æˆäºŒè¿›åˆ¶è¯­è¨€ï¼Œè¿™åâ€œç¿»è¯‘å®˜â€é€šå¸¸è¢«ç§°ä¸ºç¼–è¯‘å™¨ã€‚</span><br><span class="line"></span><br><span class="line">  è™½ç„¶æºç åŒ…å…è´¹å¼€æºï¼Œä½†ç”¨æˆ·ä¸ä¼šç¼–ç¨‹æ€ä¹ˆåŠï¼Ÿä¸€å¤§å †æºä»£ç ç¨‹åºä¸ä¼šä½¿ç”¨æ€ä¹ˆåŠï¼Ÿæºç åŒ…å®¹æ˜“å®‰è£…å—ï¼Ÿç­‰ç­‰è¿™äº›éƒ½æ˜¯ä½¿ç”¨æºç åŒ…å®‰è£…æ–¹å¼æ— æ³•è§£ç­”çš„é—®é¢˜ã€‚</span><br><span class="line"></span><br><span class="line">  å¦å¤–ï¼Œç”±äºæºç åŒ…çš„å®‰è£…éœ€è¦æŠŠæºä»£ç ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶ä»£ç ï¼Œå› æ­¤å®‰è£…æ—¶é—´è¾ƒé•¿ã€‚æ¯”å¦‚ï¼Œå¤§å®¶åº”è¯¥éƒ½åœ¨ Windowsä¸‹å®‰è£…è¿‡ QQï¼ŒQQ åŠŸèƒ½è¾ƒå¤šï¼Œç¨‹åºç›¸å¯¹è¾ƒå¤§ï¼ˆæœ‰ 70 MBå·¦å³ï¼‰ï¼Œä½†ç”±äºå…¶å¹¶éæ˜¯ä»¥æºç åŒ…çš„å½¢å¼å‘å¸ƒï¼Œè€Œæ˜¯ç¼–è¯‘åæ‰å‘å¸ƒçš„ï¼Œå› æ­¤åªéœ€å‡ åˆ†é’Ÿï¼ˆç»è¿‡ç®€å•çš„é…ç½®ï¼‰å³å¯å®‰è£…æˆåŠŸã€‚ä½†å¦‚æœæˆ‘ä»¬ä»¥æºç åŒ…å®‰è£…çš„æ–¹å¼åœ¨ Linux ä¸­å®‰è£…ä¸€ä¸ª MySQL æ•°æ®åº“ï¼Œå³ä¾¿æ­¤è½¯ä»¶çš„å‹ç¼©åŒ…ä»…æœ‰ 23 MBå·¦å³ï¼Œä¹Ÿéœ€è¦ 30 åˆ†é’Ÿå·¦å³çš„æ—¶é—´ï¼ˆæ ¹æ®ç¡¬ä»¶é…ç½®ä¸åŒï¼Œç•¥æœ‰å·®å¼‚ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">  é€šè¿‡å¯¹æ¯”ä½ ä¼šå‘ç°ï¼Œæºç åŒ…çš„ç¼–è¯‘æ˜¯å¾ˆè´¹æ—¶é—´çš„ï¼Œå†µä¸”ç»å¤šå¤§æ•°ç”¨æˆ·å¹¶ä¸ç†Ÿæ‚‰ç¨‹åºè¯­è¨€ï¼Œåœ¨å®‰è£…è¿‡ç¨‹ä¸­æˆ‘ä»¬åªèƒ½ç¥ˆç¥·ç¨‹åºä¸è¦æŠ¥é”™ï¼Œå¦åˆ™åˆå­¦è€…å¾ˆéš¾è§£å†³ã€‚</span><br><span class="line"></span><br><span class="line">  ä¸ºäº†è§£å†³ä½¿ç”¨æºç åŒ…å®‰è£…æ–¹å¼çš„è¿™äº›é—®é¢˜ï¼ŒLinux è½¯ä»¶åŒ…çš„å®‰è£…å‡ºç°äº†ä½¿ç”¨äºŒè¿›åˆ¶åŒ…çš„å®‰è£…æ–¹å¼ã€‚</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">* LinuxäºŒè¿›åˆ¶åŒ…</span><br><span class="line"></span><br><span class="line">  äºŒè¿›åˆ¶åŒ…ï¼Œä¹Ÿå°±æ˜¯æºç åŒ…ç»è¿‡æˆåŠŸç¼–è¯‘ä¹‹åäº§ç”Ÿçš„åŒ…ã€‚ç”±äºäºŒè¿›åˆ¶åŒ…åœ¨å‘å¸ƒä¹‹å‰å°±å·²ç»å®Œæˆäº†ç¼–è¯‘çš„å·¥ä½œï¼Œå› æ­¤ç”¨æˆ·å®‰è£…è½¯ä»¶çš„é€Ÿåº¦è¾ƒå¿«ï¼ˆåŒ Windowsä¸‹å®‰è£…è½¯ä»¶é€Ÿåº¦ç›¸å½“ï¼‰ï¼Œä¸”å®‰è£…è¿‡ç¨‹æŠ¥é”™å‡ ç‡å¤§å¤§å‡å°ã€‚</span><br><span class="line"></span><br><span class="line">  äºŒè¿›åˆ¶åŒ…æ˜¯ Linux ä¸‹é»˜è®¤çš„è½¯ä»¶å®‰è£…åŒ…ï¼Œå› æ­¤äºŒè¿›åˆ¶åŒ…åˆè¢«ç§°ä¸ºé»˜è®¤å®‰è£…è½¯ä»¶åŒ…ã€‚ç›®å‰ä¸»è¦æœ‰ä»¥ä¸‹ 2 å¤§ä¸»æµçš„äºŒè¿›åˆ¶åŒ…ç®¡ç†ç³»ç»Ÿï¼š</span><br><span class="line"></span><br><span class="line">  - RPM åŒ…ç®¡ç†ç³»ç»Ÿï¼šåŠŸèƒ½å¼ºå¤§ï¼Œå®‰è£…ã€å‡çº§ã€æŸ»è¯¢å’Œå¸è½½éå¸¸ç®€å•æ–¹ä¾¿ï¼Œå› æ­¤å¾ˆå¤š Linux å‘è¡Œç‰ˆéƒ½é»˜è®¤ä½¿ç”¨æ­¤æœºåˆ¶ä½œä¸ºè½¯ä»¶å®‰è£…çš„ç®¡ç†æ–¹å¼ï¼Œä¾‹å¦‚ Fedoraã€CentOSã€SuSE ç­‰ã€‚</span><br><span class="line">  - DPKG åŒ…ç®¡ç†ç³»ç»Ÿï¼šç”± Debian Linux æ‰€å¼€å‘çš„åŒ…ç®¡ç†æœºåˆ¶ï¼Œé€šè¿‡ DPKG åŒ…ï¼ŒDebian Linux å°±å¯ä»¥è¿›è¡Œè½¯ä»¶åŒ…ç®¡ç†ï¼Œä¸»è¦åº”ç”¨åœ¨ Debian å’Œ Ubuntu ä¸­ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## &#123;% p blue large left, RPMåŒ…&lt;sup&gt;(6.1)&lt;/sup&gt; %&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### RPMåŒ…ç»Ÿä¸€å‘½åè§„åˆ™&lt;sup&gt;(6.1.1)&lt;/sup&gt;</span></span><br><span class="line"></span><br><span class="line">RPM äºŒè¿›åˆ¶åŒ…çš„å‘½åéœ€éµå®ˆç»Ÿä¸€çš„å‘½åè§„åˆ™ï¼Œç”¨æˆ·é€šè¿‡åç§°å°±å¯ä»¥ç›´æ¥è·å–è¿™ç±»åŒ…çš„ç‰ˆæœ¬ã€é€‚ç”¨å¹³å°ç­‰ä¿¡æ¯ã€‚</span><br><span class="line"></span><br><span class="line">RPM äºŒè¿›åˆ¶åŒ…å‘½åçš„ä¸€èˆ¬æ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">åŒ…å-ç‰ˆæœ¬å·-å‘å¸ƒæ¬¡æ•°-å‘è¡Œå•†-Linuxå¹³å°-é€‚åˆçš„ç¡¬ä»¶å¹³å°-åŒ…æ‰©å±•å</span><br></pre></td></tr></table></figure></li></ul><p>ä¾‹å¦‚ï¼ŒRPM åŒ…çš„åç§°æ˜¯<code>httpd-2.2.15-15.el6.centos.1.i686.rpm</code>ï¼Œå…¶ä¸­ï¼š</p><ul><li><p>httpedï¼šè½¯ä»¶åŒ…åã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œhttped æ˜¯åŒ…åï¼Œè€Œ httpd-2.2.15-15.el6.centos.1.i686.rpm é€šå¸¸ç§°ä¸ºåŒ…å…¨åï¼ŒåŒ…åå’ŒåŒ…å…¨åæ˜¯ä¸åŒçš„ï¼Œåœ¨æŸäº› Linux å‘½ä»¤ä¸­ï¼Œæœ‰äº›å‘½ä»¤ï¼ˆå¦‚åŒ…çš„å®‰è£…å’Œå‡çº§ï¼‰ä½¿ç”¨çš„æ˜¯åŒ…å…¨åï¼Œè€Œæœ‰äº›å‘½ä»¤ï¼ˆåŒ…çš„æŸ¥è¯¢å’Œå¸è½½ï¼‰ä½¿ç”¨çš„æ˜¯åŒ…åï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå¼„é”™ã€‚</p></li><li><p>2.2.15ï¼šåŒ…çš„ç‰ˆæœ¬å·ï¼Œç‰ˆæœ¬å·çš„æ ¼å¼é€šå¸¸ä¸º<code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®æ­£å·</code>ã€‚</p></li><li><p>15ï¼šäºŒè¿›åˆ¶åŒ…å‘å¸ƒçš„æ¬¡æ•°ï¼Œè¡¨ç¤ºæ­¤ RPM åŒ…æ˜¯ç¬¬å‡ æ¬¡ç¼–ç¨‹ç”Ÿæˆçš„ã€‚</p></li><li><p>el*ï¼šè½¯ä»¶å‘è¡Œå•†ï¼Œel6 è¡¨ç¤ºæ­¤åŒ…æ˜¯ç”± Red Hat å…¬å¸å‘å¸ƒï¼Œé€‚åˆåœ¨ RHEL 6.x (Red Hat Enterprise Unux) å’Œ CentOS 6.x ä¸Šä½¿ç”¨ã€‚</p></li><li><p>centosï¼šè¡¨ç¤ºæ­¤åŒ…é€‚ç”¨äº CentOS ç³»ç»Ÿã€‚</p></li><li><p>i686ï¼šè¡¨ç¤ºæ­¤åŒ…ä½¿ç”¨çš„ç¡¬ä»¶å¹³å°ï¼Œç›®å‰çš„ RPM åŒ…æ”¯æŒçš„å¹³å°å¦‚è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>å¹³å°åç§°</th><th>é€‚ç”¨å¹³å°ä¿¡æ¯</th></tr></thead><tbody><tr><td>i386</td><td>386 ä»¥ä¸Šçš„è®¡ç®—æœºéƒ½å¯ä»¥å®‰è£…</td></tr><tr><td>i586</td><td>686 ä»¥ä¸Šçš„è®¡ç®—æœºéƒ½å¯ä»¥å®‰è£…</td></tr><tr><td>i686</td><td>å¥”è…¾ II ä»¥ä¸Šçš„è®¡ç®—æœºéƒ½å¯ä»¥å®‰è£…ï¼Œç›®å‰æ‰€æœ‰çš„ CPU æ˜¯å¥”è…¾ II ä»¥ä¸Šçš„ï¼Œæ‰€ä»¥è¿™ä¸ªè½¯ä»¶ç‰ˆæœ¬å±…å¤š</td></tr><tr><td>x86_64</td><td>64 ä½ CPU å¯ä»¥å®‰è£…</td></tr><tr><td>noarch</td><td>æ²¡æœ‰ç¡¬ä»¶é™åˆ¶</td></tr></tbody></table></li><li><p>rpmï¼šRPM åŒ…çš„æ‰©å±•åï¼Œè¡¨æ˜è¿™æ˜¯ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ rpm å‘½ä»¤ç›´æ¥å®‰è£…ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä»¥ src.rpm ä½œä¸ºæ‰©å±•åçš„ RPM åŒ…ï¼Œè¿™è¡¨æ˜æ˜¯æºä»£ç åŒ…ï¼Œéœ€è¦å®‰è£…ç”Ÿæˆæºç ï¼Œç„¶åå¯¹å…¶ç¼–è¯‘å¹¶ç”Ÿæˆ rpm æ ¼å¼çš„åŒ…ï¼Œæœ€åæ‰èƒ½ä½¿ç”¨ rpm å‘½ä»¤è¿›è¡Œå®‰è£…ã€‚</p></li></ul><p>Linux ç³»ç»Ÿä¸é æ‰©å±•ååˆ†åŒºæ–‡ä»¶ç±»å‹ï¼Œé‚£ä¸ºä»€ä¹ˆåŒ…å…¨åä¸­è¦åŒ…å« .rpm æ‰©å±•åå‘¢ï¼Ÿå…¶å®ï¼Œè¿™é‡Œçš„æ‰©å±•åæ˜¯ä¸ºç³»ç»Ÿç®¡ç†å‘˜å‡†å¤‡çš„ï¼Œå¦‚æœæˆ‘ä»¬ä¸å¯¹ RPM åŒ…æ ‡æ³¨æ‰©å±•åï¼Œç®¡ç†å‘˜å¾ˆéš¾çŸ¥é“è¿™æ˜¯ä¸€ä¸ª RPM åŒ…ï¼Œå½“ç„¶ä¹Ÿå°±æ— æ³•æ­£ç¡®ä½¿ç”¨ã€‚</p><h3 id="RPMåŒ…å®‰è£…ã€å¸è½½å’Œå‡çº§-sup-6-1-2-sup">RPMåŒ…å®‰è£…ã€å¸è½½å’Œå‡çº§<sup>(6.1.2)</sup></h3><p>æˆ‘ä»¬ä»¥å®‰è£… apache ç¨‹åºä¸ºä¾‹ã€‚å› ä¸ºåç»­ç« èŠ‚è¿˜ä¼šä»‹ç»ä½¿ç”¨æºç åŒ…çš„æ–¹å¼å®‰è£… apache ç¨‹åºï¼Œè¯»è€…å¯ä»¥ç›´è§‚åœ°æ„Ÿå—åˆ°æºç åŒ…å’Œ RPM åŒ…çš„åŒºåˆ«ã€‚</p><ul><li><p><strong>RPMåŒ…é»˜è®¤å®‰è£…è·¯å¾„</strong></p><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒRPM åŒ…é‡‡ç”¨ç³»ç»Ÿé»˜è®¤çš„å®‰è£…è·¯å¾„ï¼Œæ‰€æœ‰å®‰è£…æ–‡ä»¶ä¼šæŒ‰ç…§ç±»åˆ«åˆ†æ•£å®‰è£…åˆ°ä¸‹è¡¨æ‰€ç¤ºçš„ç›®å½•ä¸­ï¼š</p><table><thead><tr><th>å®‰è£…è·¯å¾„</th><th>å« ä¹‰</th></tr></thead><tbody><tr><td>/etc/</td><td>é…ç½®æ–‡ä»¶å®‰è£…ç›®å½•</td></tr><tr><td>/usr/bin/</td><td>å¯æ‰§è¡Œçš„å‘½ä»¤å®‰è£…ç›®å½•</td></tr><tr><td>/usr/lib/</td><td>ç¨‹åºæ‰€ä½¿ç”¨çš„å‡½æ•°åº“ä¿å­˜ä½ç½®</td></tr><tr><td>/usr/share/doc/</td><td>åŸºæœ¬çš„è½¯ä»¶ä½¿ç”¨æ‰‹å†Œä¿å­˜ä½ç½®</td></tr><tr><td>/usr/share/man/</td><td>å¸®åŠ©æ–‡ä»¶ä¿å­˜ä½ç½®</td></tr></tbody></table><p>RPM åŒ…çš„é»˜è®¤å®‰è£…è·¯å¾„æ˜¯å¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥è¯¢çš„ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼ŒRPM åŒ…ä¹Ÿæ”¯æŒæ‰‹åŠ¨æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œä½†æ­¤æ–¹å¼å¹¶ä¸æ¨èã€‚å› ä¸ºä¸€æ—¦æ‰‹åŠ¨æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œæ‰€æœ‰çš„å®‰è£…æ–‡ä»¶ä¼šé›†ä¸­å®‰è£…åˆ°æŒ‡å®šä½ç½®ï¼Œä¸”ç³»ç»Ÿä¸­ç”¨æ¥æŸ¥è¯¢å®‰è£…è·¯å¾„çš„å‘½ä»¤ä¹Ÿæ— æ³•ä½¿ç”¨ï¼ˆéœ€è¦è¿›è¡Œæ‰‹å·¥é…ç½®æ‰èƒ½è¢«ç³»ç»Ÿè¯†åˆ«ï¼‰ï¼Œå¾—ä¸å¿å¤±ã€‚</p><p>ä¸ RPM åŒ…ä¸åŒï¼Œæºç åŒ…çš„å®‰è£…é€šå¸¸é‡‡ç”¨æ‰‹åŠ¨æŒ‡å®šå®‰è£…è·¯å¾„ï¼ˆä¹ æƒ¯å®‰è£…åˆ° /usr/local/ ä¸­ï¼‰çš„æ–¹å¼ã€‚æ—¢ç„¶å®‰è£…è·¯å¾„ä¸åŒï¼ŒåŒä¸€ apache ç¨‹åºçš„æºç åŒ…å’Œ RPM åŒ…å°±å¯ä»¥å®‰è£…åˆ°ä¸€å° Linux æœåŠ¡å™¨ä¸Šï¼ˆä½†åŒä¸€æ—¶é—´åªèƒ½å¼€å¯ä¸€ä¸ªï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å ç”¨åŒä¸€ä¸ª 80 ç«¯å£ï¼‰ã€‚</p><p>å®é™…æƒ…å†µä¸­ï¼Œä¸€å°æœåŠ¡å™¨å‡ ä¹ä¸ä¼šåŒæ—¶åŒ…å«ä¸¤ä¸ª apache ç¨‹åºï¼Œç®¡ç†å‘˜ä¸å¥½ç®¡ç†ï¼Œè¿˜ä¼šå ç”¨è¿‡å¤šçš„æœåŠ¡å™¨ç£ç›˜ç©ºé—´ã€‚</p></li><li><p><strong>RPM åŒ…çš„å®‰è£…</strong></p><p>å®‰è£… RPM çš„å‘½ä»¤æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm [options] åŒ…å…¨å</span><br></pre></td></tr></table></figure><p>æ³¨æ„ä¸€å®šæ˜¯åŒ…å…¨åã€‚æ¶‰åŠåˆ°åŒ…å…¨åçš„å‘½ä»¤ï¼Œä¸€å®šè¦æ³¨æ„è·¯å¾„ï¼Œå¯èƒ½è½¯ä»¶åŒ…åœ¨å…‰ç›˜ä¸­ï¼Œå› æ­¤éœ€æå‰åšå¥½è®¾å¤‡çš„æŒ‚è½½å·¥ä½œã€‚</p><ul><li><p>é€‰é¡¹å‚æ•°çš„å«ä¹‰ä¸ºï¼š</p><table><thead><tr><th>xé€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-i</td><td>å®‰è£…ï¼ˆinstallï¼‰</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼ˆverboseï¼‰</td></tr><tr><td>-h</td><td>æ‰“å° #ï¼Œæ˜¾ç¤ºå®‰è£…è¿›åº¦ï¼ˆhash)</td></tr><tr><td>-e</td><td>å¸è½½ï¼Œä¹Ÿå°±æ˜¯ erase çš„é¦–å­—æ¯</td></tr><tr><td>-U</td><td>ï¼ˆå¤§å†™ï¼‰å¦‚æœè¯¥è½¯ä»¶æ²¡å®‰è£…è¿‡åˆ™ç›´æ¥å®‰è£…ï¼›è‹¥æ²¡å®‰è£…åˆ™å‡çº§è‡³æœ€æ–°ç‰ˆæœ¬</td></tr><tr><td>-F</td><td>ï¼ˆå¤§å†™ï¼‰å¦‚æœè¯¥è½¯ä»¶æ²¡æœ‰å®‰è£…ï¼Œåˆ™ä¸ä¼šå®‰è£…ï¼Œå¿…é¡»å®‰è£…æœ‰è¾ƒä½ç‰ˆæœ¬æ‰èƒ½å‡çº§</td></tr><tr><td>â€“nodeps</td><td>ä¸æ£€æµ‹ä¾èµ–æ€§å®‰è£…ã€‚è½¯ä»¶å®‰è£…æ—¶ä¼šæ£€æµ‹ä¾èµ–æ€§ï¼Œç¡®å®šæ‰€éœ€çš„åº•å±‚è½¯ä»¶æ˜¯å¦å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…åˆ™ä¼šæŠ¥é”™ã€‚<br />å¦‚æœä¸ç®¡ä¾èµ–æ€§ï¼Œæƒ³å¼ºåˆ¶å®‰è£…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ã€‚æ³¨æ„ï¼Œè¿™æ ·ä¸æ£€æµ‹ä¾èµ–æ€§å®‰è£…çš„è½¯ä»¶åŸºæœ¬ä¸Šæ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œæ‰€ä»¥ä¸å»ºè®®è¿™æ ·åš</td></tr><tr><td>â€“replacefiles</td><td>æ›¿æ¢æ–‡ä»¶å®‰è£…ã€‚å¦‚æœè¦å®‰è£…è½¯ä»¶åŒ…ï¼Œä½†æ˜¯åŒ…ä¸­çš„éƒ¨åˆ†æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨æ­£å¸¸å®‰è£…æ—¶ä¼šæŠ¥&quot;æŸä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨&quot;çš„é”™è¯¯ï¼Œ<br />ä»è€Œå¯¼è‡´è½¯ä»¶æ— æ³•å®‰è£…ã€‚ä½¿ç”¨è¿™ä¸ªé€‰é¡¹å¯ä»¥å¿½ç•¥è¿™ä¸ªæŠ¥é”™è€Œè¦†ç›–å®‰è£…</td></tr><tr><td>â€“replacepkgs</td><td>æ›¿æ¢è½¯ä»¶åŒ…å®‰è£…ã€‚å¦‚æœè½¯ä»¶åŒ…å·²ç»å®‰è£…ï¼Œé‚£ä¹ˆæ­¤é€‰é¡¹å¯ä»¥æŠŠè½¯ä»¶åŒ…é‡å¤å®‰è£…ä¸€é</td></tr><tr><td>â€“force</td><td>å¼ºåˆ¶å®‰è£…ã€‚ä¸ç®¡æ˜¯å¦å·²ç»å®‰è£…ï¼Œéƒ½é‡æ–°å®‰è£…ã€‚ä¹Ÿå°±æ˜¯ -replacefiles å’Œ -replacepkgs çš„ç»¼åˆ</td></tr><tr><td>â€“test</td><td>æµ‹è¯•å®‰è£…ã€‚ä¸ä¼šå®é™…å®‰è£…ï¼Œåªæ˜¯æ£€æµ‹ä¸€ä¸‹ä¾èµ–æ€§</td></tr><tr><td>â€“prefix</td><td>æŒ‡å®šå®‰è£…è·¯å¾„ã€‚ä¸ºå®‰è£…è½¯ä»¶æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œè€Œä¸ä½¿ç”¨é»˜è®¤å®‰è£…è·¯å¾„</td></tr></tbody></table></li></ul><p>ä¾‹å¦‚ï¼Œä½¿ç”¨æ­¤å‘½ä»¤å®‰è£… apache è½¯ä»¶åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -ivh \</span><br><span class="line">/mnt/cdrom/Packages/httpd-2.2.15-15.el6.centos.1.i686.rpm</span><br><span class="line">Preparing...</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">###################</span></span></span><br><span class="line"><span class="meta prompt_">[100%</span><span class="language-bash">]</span></span><br><span class="line">1:httpd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">###################</span></span></span><br><span class="line"><span class="meta prompt_">[100%</span><span class="language-bash">]</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œç›´åˆ°å‡ºç°ä¸¤ä¸ª 100% æ‰æ˜¯çœŸæ­£çš„å®‰è£…æˆåŠŸï¼Œç¬¬ä¸€ä¸ª 100% ä»…è¡¨ç¤ºå®Œæˆäº†å®‰è£…å‡†å¤‡å·¥ä½œã€‚</p><p>æ­¤å‘½ä»¤è¿˜å¯ä»¥ä¸€æ¬¡æ€§å®‰è£…å¤šä¸ªè½¯ä»¶åŒ…ï¼Œä»…éœ€å°†åŒ…å…¨åç”¨ç©ºæ ¼åˆ†å¼€å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -ivh a.rpm b.rpm c.rpm</span><br></pre></td></tr></table></figure><p>1</p></li><li><p><strong>RPMåŒ…çš„å‡çº§</strong></p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å³å¯å®ç° RPM åŒ…çš„å‡çº§ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -Uvh åŒ…å…¨å</span><br></pre></td></tr></table></figure><p>-Uï¼ˆå¤§å†™ï¼‰é€‰é¡¹çš„å«ä¹‰æ˜¯ï¼šå¦‚æœè¯¥è½¯ä»¶æ²¡å®‰è£…è¿‡åˆ™ç›´æ¥å®‰è£…ï¼›è‹¥æ²¡å®‰è£…åˆ™å‡çº§è‡³æœ€æ–°ç‰ˆæœ¬ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -Fvh åŒ…å…¨å</span><br></pre></td></tr></table></figure><p>-Fï¼ˆå¤§å†™ï¼‰é€‰é¡¹çš„å«ä¹‰æ˜¯ï¼šå¦‚æœè¯¥è½¯ä»¶æ²¡æœ‰å®‰è£…ï¼Œåˆ™ä¸ä¼šå®‰è£…ï¼Œå¿…é¡»å®‰è£…æœ‰è¾ƒä½ç‰ˆæœ¬æ‰èƒ½å‡çº§ã€‚</p></li><li><p><strong>RPMåŒ…çš„å¸è½½</strong></p><p>RPM è½¯ä»¶åŒ…çš„å¸è½½è¦è€ƒè™‘åŒ…ä¹‹é—´çš„ä¾èµ–æ€§ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å…ˆå®‰è£…çš„ httpd è½¯ä»¶åŒ…ï¼Œåå®‰è£… httpd çš„åŠŸèƒ½æ¨¡å— mod_ssl åŒ…ï¼Œé‚£ä¹ˆåœ¨å¸è½½æ—¶ï¼Œå°±å¿…é¡»å…ˆå¸è½½ mod_sslï¼Œç„¶åå¸è½½ httpdï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ï¼ˆ<em>è½¯ä»¶åŒ…å¸è½½å’Œæ‹†é™¤å¤§æ¥¼æ˜¯ä¸€æ ·çš„ï¼Œæœ¬æ¥å…ˆç›–çš„ 2 æ¥¼ï¼Œåç›–çš„ 3 æ¥¼ï¼Œé‚£ä¹ˆæ‹†æ¥¼æ—¶ä¸€å®šè¦å…ˆæ‹†é™¤ 3 æ¥¼ã€‚</em>ï¼‰</p><p>å¦‚æœå¸è½½ RPM è½¯ä»¶ä¸è€ƒè™‘ä¾èµ–æ€§ï¼Œæ‰§è¡Œå¸è½½å‘½ä»¤ä¼šåŒ…ä¾èµ–æ€§é”™è¯¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -e httpd</span><br><span class="line">error: Failed dependencies:</span><br><span class="line">httpd-mmn = 20051115 is needed by (installed) mod_wsgi-3.2-1.el6.i686</span><br><span class="line">httpd-mmn = 20051115 is needed by (installed) php-5.3.3-3.el6_2.8.i686</span><br><span class="line">httpd-mmn = 20051115 is needed by (installed) mod_ssl-1:2.2.15-15.el6.</span><br><span class="line">centos.1.i686</span><br><span class="line">httpd-mmn = 20051115 is needed by (installed) mod_perl-2.0.4-10.el6.i686</span><br><span class="line">httpd = 2.2.15-15.el6.centos.1 is needed by (installed) httpd-manual-2.2.</span><br><span class="line">15-15.el6.centos.1 .noarch</span><br><span class="line">httpd is needed by (installed) webalizer-2.21_02-3.3.el6.i686</span><br><span class="line">httpd is needed by (installed) mod_ssl-1:2.2.15-15.el6.centos.1.i686</span><br><span class="line">httpd=0:2.2.15-15.el6.centos.1 is needed by(installed)mod_ssl-1:2.2.15-15.el6.centos.1.i686</span><br></pre></td></tr></table></figure></li></ul><h3 id="RPMå‘½ä»¤æŸ¥è¯¢è½¯ä»¶åŒ…-sup-6-1-2-sup">RPMå‘½ä»¤æŸ¥è¯¢è½¯ä»¶åŒ…<sup>(6.1.2)</sup></h3><p>ä½¿ç”¨ rpm åšæŸ¥è¯¢å‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm [options] æŸ¥è¯¢å¯¹è±¡</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢å¯¹è±¡ï¼šç»å¯¹è·¯å¾„+åŒ…å…¨å</p><ul><li><p>é€‰é¡¹</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table></li></ul><p>ï¼ivhï¼šå®‰è£…æ˜¾ç¤ºå®‰è£…è¿›åº¦â€“installâ€“verboseâ€“<a href="https://so.csdn.net/so/search?q=hash&amp;spm=1001.2101.3001.7020">hash</a></p><p>ï¼Uvhï¼šå‡çº§è½¯ä»¶åŒ…â€“Updateï¼›</p><p>ï¼qplï¼šåˆ—å‡ºRPMè½¯ä»¶åŒ…å†…çš„æ–‡ä»¶ä¿¡æ¯[Query <a href="https://so.csdn.net/so/search?q=Package&amp;spm=1001.2101.3001.7020">Package</a> list]ï¼›</p><p>ï¼qpiï¼šåˆ—å‡ºRPMè½¯ä»¶åŒ…çš„æè¿°ä¿¡æ¯[Query Package install package(s)]ï¼›</p><p>ï¼qfï¼šæŸ¥æ‰¾æŒ‡å®šæ–‡ä»¶å±äºå“ªä¸ªRPMè½¯ä»¶åŒ…[Query File]ï¼›</p><p>ï¼Vaï¼šæ ¡éªŒæ‰€æœ‰çš„RPMè½¯ä»¶åŒ…ï¼ŒæŸ¥æ‰¾ä¸¢å¤±çš„æ–‡ä»¶[View Lost]ï¼›</p><p>ï¼eï¼šåˆ é™¤åŒ…</p><h2 id="6-3-yumæº">6.3 yumæº</h2><h4 id="6-1-yum-é…ç½®">6.1 yum é…ç½®</h4><p>yumï¼Œå…¨ç§°â€œYellow dog Updater, Modifiedâ€ï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºäº†è§£å†³åŒ…çš„ä¾èµ–å…³ç³»è€Œå­˜åœ¨çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚</p><p>å¯ä»¥è¿™ä¹ˆè¯´ï¼Œyum æ˜¯æ”¹è¿›å‹çš„ RPM è½¯ä»¶ç®¡ç†å™¨ï¼Œå®ƒå¾ˆå¥½çš„è§£å†³äº† RPM æ‰€é¢ä¸´çš„è½¯ä»¶åŒ…ä¾èµ–é—®é¢˜ã€‚yum åœ¨æœåŠ¡å™¨ç«¯å­˜æœ‰æ‰€æœ‰çš„ RPM åŒ…ï¼Œå¹¶å°†å„ä¸ªåŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»è®°å½•åœ¨æ–‡ä»¶ä¸­ï¼Œå½“ç®¡ç†å‘˜ä½¿ç”¨ yum å®‰è£… RPM åŒ…æ—¶ï¼Œyum ä¼šå…ˆä»æœåŠ¡å™¨ç«¯ä¸‹è½½åŒ…çš„ä¾èµ–æ€§æ–‡ä»¶ï¼Œé€šè¿‡åˆ†ææ­¤æ–‡ä»¶ä»æœåŠ¡å™¨ç«¯ä¸€æ¬¡æ€§ä¸‹è½½æ‰€æœ‰ç›¸å…³çš„ RPM åŒ…å¹¶è¿›è¡Œå®‰è£…ã€‚</p><p>yum è½¯ä»¶å¯ä»¥ç”¨ rpm å‘½ä»¤å®‰è£…ï¼Œå®‰è£…ä¹‹å‰å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤<strong>æŸ¥çœ‹ yum æ˜¯å¦å·²å®‰è£…</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -qa | grep yum</span><br><span class="line">yum-metadata-parser-1.1.2-16.el6.i686</span><br><span class="line">yum-3.2.29-30.el6.centos.noarch</span><br><span class="line">yum-utils-1.1.30-14.el6.noarch</span><br><span class="line">yum-plugin-fastestmirror-1.1.30-14.el6.noarch</span><br><span class="line">yum-plugin-security-1.1.30-14.el6.noarch</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç³»ç»Ÿä¸Šå·²ç»å®‰è£…äº† yum ã€‚å¦‚æœæœªå®‰è£… yum å¯æŸ¥çœ‹ã€Š<a href="https://jingyan.baidu.com/article/e3c78d6483a02a3c4d85f578.html">Linuxæ€ä¹ˆå®‰è£…yum</a>ã€‹ã€‚</p><ul><li><p><strong>ç½‘ç»œ yum æºæ­å»º</strong></p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªè¦ä½ çš„ä¸»æœºç½‘ç»œæ­£å¸¸ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç½‘ç»œ yum æºï¼Œä¸éœ€è¦å¯¹é…ç½®æ–‡ä»¶åšä»»ä½•ä¿®æ”¹ï¼Œè¿™é‡Œå¯¹ yum æºé…ç½®æ–‡ä»¶åšä¸€ä¸‹ç®€å•ä»‹ç»ã€‚</p><p>ç½‘ç»œ yum æºé…ç½®æ–‡ä»¶ä½äº <code>/etc/yum.repos.d/</code> ç›®å½•ä¸‹ï¼Œæ–‡ä»¶æ‰©å±•åä¸º&quot;<em>.repo&quot;ï¼ˆåªè¦æ‰©å±•åä¸º &quot;</em>.repo&quot; çš„æ–‡ä»¶éƒ½æ˜¯ yum æºçš„é…ç½®æ–‡ä»¶ï¼‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls /etc/yum.repos.d/</span><br><span class="line">CentOS-Base.repo</span><br><span class="line">CentOS-Media.repo</span><br><span class="line">CentOS-Debuginfo.repo.bak</span><br><span class="line">CentOS-Vault.repo</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ç›®å½•ä¸‹æœ‰ 4 ä¸ª yum é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸æƒ…å†µä¸‹ CentOS-Base.repo æ–‡ä»¶ç”Ÿæ•ˆã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# vim /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">[base]</span><br><span class="line">name=CentOS-$releasever - Base</span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/? release= $releasever&amp;arch=$basearch&amp;repo=os</span><br><span class="line">baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure><blockquote><p>æ­¤æ–‡ä»¶ä¸­å«æœ‰ 5 ä¸ª yum æºå®¹å™¨ï¼Œè¿™é‡Œåªåˆ—å‡ºäº† base å®¹å™¨ï¼Œå…¶ä»–å®¹å™¨å’Œ base å®¹å™¨ç±»ä¼¼ã€‚base å®¹å™¨ä¸­å„å‚æ•°çš„å«ä¹‰åˆ†åˆ«ä¸ºï¼š</p><ul><li>[base]ï¼šå®¹å™¨åç§°ï¼Œä¸€å®šè¦æ”¾åœ¨[]ä¸­ã€‚</li><li>nameï¼šå®¹å™¨è¯´æ˜ï¼Œå¯ä»¥è‡ªå·±éšä¾¿å†™ã€‚</li><li>mirrorlistï¼šé•œåƒç«™ç‚¹ï¼Œè¿™ä¸ªå¯ä»¥æ³¨é‡Šæ‰ã€‚</li><li>baseurlï¼šæˆ‘ä»¬çš„ yum æºæœåŠ¡å™¨çš„åœ°å€ã€‚é»˜è®¤æ˜¯ CentOS å®˜æ–¹çš„ yum æºæœåŠ¡å™¨ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨çš„ã€‚å¦‚æœä½ è§‰å¾—æ…¢ï¼Œåˆ™å¯ä»¥æ”¹æˆä½ å–œæ¬¢çš„ yum æºåœ°å€ã€‚</li><li>enabledï¼šæ­¤å®¹å™¨æ˜¯å¦ç”Ÿæ•ˆï¼Œå¦‚æœä¸å†™æˆ–å†™æˆ enabled åˆ™è¡¨ç¤ºæ­¤å®¹å™¨ç”Ÿæ•ˆï¼Œå†™æˆ enable=0 åˆ™è¡¨ç¤ºæ­¤å®¹å™¨ä¸ç”Ÿæ•ˆã€‚</li><li>gpgcheckï¼šå¦‚æœä¸º 1 åˆ™è¡¨ç¤º RPM çš„æ•°å­—è¯ä¹¦ç”Ÿæ•ˆï¼›å¦‚æœä¸º 0 åˆ™è¡¨ç¤º RPM çš„æ•°å­—è¯ä¹¦ä¸ç”Ÿæ•ˆã€‚</li><li>gpgkeyï¼šæ•°å­—è¯ä¹¦çš„å…¬é’¥æ–‡ä»¶ä¿å­˜ä½ç½®ã€‚ä¸ç”¨ä¿®æ”¹ã€‚</li></ul></blockquote></li><li><p><strong>æœ¬åœ° yum æº</strong></p><p>åœ¨æ— æ³•è”ç½‘çš„æƒ…å†µä¸‹ï¼Œyum å¯ä»¥è€ƒè™‘ç”¨æœ¬åœ°å…‰ç›˜ï¼ˆæˆ–å®‰è£…æ˜ åƒæ–‡ä»¶ï¼‰ä½œä¸º yum æºã€‚</p><p>Linux ç³»ç»Ÿå®‰è£…æ˜ åƒæ–‡ä»¶ä¸­å°±å«æœ‰å¸¸ç”¨çš„ RPM åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‹ç¼©æ–‡ä»¶æ‰“å¼€æ˜ åƒæ–‡ä»¶ï¼ˆisoæ–‡ä»¶ï¼‰ï¼Œè¿›å…¥å…¶ Packages å­ç›®å½•ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/2-1Z32P9423J01.gif" alt="å®‰è£…æ˜ åƒæ–‡ä»¶çš„ Packages å­ç›®å½•"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥å­ç›®å½•ä¸‹å«æœ‰å‡ ä¹æ‰€æœ‰å¸¸ç”¨çš„ RPM åŒ…ï¼Œå› æ­¤ä½¿ç”¨ç³»ç»Ÿå®‰è£…æ˜ åƒä½œä¸ºæœ¬åœ° yum æºæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p><p>åœ¨ <code>/etc/yum.repos.d/</code> ç›®å½•ä¸‹æœ‰ä¸€ä¸ª CentOS-Media.repo æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å°±æ˜¯ä»¥æœ¬åœ°å…‰ç›˜ä½œä¸º yum æºçš„æ¨¡æ¿æ–‡ä»¶ï¼Œåªéœ€è¿›è¡Œç®€å•çš„ä¿®æ”¹å³å¯ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p>æ”¾å…¥ CentOS å®‰è£…å…‰ç›˜ï¼Œå¹¶æŒ‚è½½å…‰ç›˜åˆ°æŒ‡å®šä½ç½®ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /mnt/cdrom</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºcdromç›®å½•ï¼Œä½œä¸ºå…‰ç›˜çš„æŒ‚è½½ç‚¹</span></span><br><span class="line">[root@localhost ~]# mount /dev/cdrom /mnt/cdrom/</span><br><span class="line">mount: block device/dev/srO is write-protected, mounting read-only</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‚è½½å…‰ç›˜åˆ°/mnt/cdromç›®å½•ä¸‹</span></span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹å…¶ä»–å‡ ä¸ª yum æºé…ç½®æ–‡ä»¶çš„æ‰©å±•åï¼Œè®©å®ƒä»¬å¤±æ•ˆï¼Œå› ä¸ºåªæœ‰æ‰©å±•åæ˜¯&quot;*.repo&quot;çš„æ–‡ä»¶æ‰èƒ½ä½œä¸º yum æºé…ç½®æ–‡ä»¶ã€‚å½“ä¹Ÿå¯ä»¥åˆ é™¤å…¶ä»–å‡ ä¸ª yum æºé…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯å¦‚æœåˆ é™¤äº†ï¼Œå½“åˆæƒ³ç”¨ç½‘ç»œä½œä¸º yum æºæ—¶ï¼Œå°±æ²¡æœ‰äº†å‚è€ƒæ–‡ä»¶ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä¿®æ”¹æ‰©å±•åã€‚ å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /etc/yum.repos.d/</span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS-Base, repo CentOS-Base.repo.bak</span><br><span class="line">[root@localhost yum.repos.d]#mv CentOS-Debuginfo.repo CentOS-Debuginfo.repo.bak</span><br><span class="line">[root@localhost yum.repos.d]# mv CentOS-Vault.repo CentOS-Vault.repo.bak</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹å…‰ç›˜ yum æºé…ç½®æ–‡ä»¶ CentOS-Media.repoï¼Œå‚ç…§ä»¥ä¸‹æ–¹ä¿®æ”¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost yum.repos.d]# vim CentOS-Media.repo</span><br><span class="line">[c6-media]</span><br><span class="line">name=CentOS-$releasever - Media</span><br><span class="line">baseurl=file:///mnt/cdrom</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ°å€ä¸ºä½ è‡ªå·±çš„å…‰ç›˜æŒ‚è½½åœ°å€</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">file:///media/cdrom/</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">file:///media/cdrecorder/</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ³¨é‡Šè¿™ä¸¤ä¸ªçš„ä¸å­˜åœ¨åœ°å€</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŠŠenabled=0æ”¹ä¸ºenabled=1, è®©è¿™ä¸ªyumæºé…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</span></span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br></pre></td></tr></table></figure><p>å¦‚æ­¤ï¼Œæœ¬åœ° yum æºå°±é…ç½®å®Œæˆäº†ã€‚</p></li></ol></li></ul><h4 id="6-2-æ›´æ¢å›½å†…-yum-æº">6.2 æ›´æ¢å›½å†… yum æº</h4><ul><li><p>é¦–å…ˆå¤‡ä»½/etc/yum.repos.d/CentOS-Base.repo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br></pre></td></tr></table></figure></li></ul><ol><li><p>ç½‘æ˜“ï¼ˆ163ï¼‰yum æº</p><p>ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ repo æ–‡ä»¶, æ”¾å…¥ /etc/yum.repos.d/ (æ“ä½œå‰è¯·åšå¥½ç›¸åº”å¤‡ä»½)</p><ul><li>CentOS5 ï¼š<a href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">http://mirrors.163.com/.help/CentOS5-Base-163.repo</a></li><li>CentOS6 ï¼š<a href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a></li><li>CentOS7 ï¼š<a href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">http://mirrors.163.com/.help/CentOS7-Base-163.repo</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆ–</span></span><br><span class="line">[root@localhost ~]# wget http://mirrors.163.com/.help/CentOS6-Base-163.repo</span><br><span class="line">[root@localhost ~]# mv CentOS6-Base-163.repo CentOS-Base.repo</span><br></pre></td></tr></table></figure><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆç¼“å­˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum clean all</span><br><span class="line">[root@localhost ~]# yum makecache</span><br></pre></td></tr></table></figure></li><li><p>ä¸­ç§‘å¤§çš„ yum æºï¼Œå®‰è£…æ–¹æ³•æŸ¥çœ‹ï¼š<a href="https://lug.ustc.edu.cn/wiki/mirrors/help/centos">https://lug.ustc.edu.cn/wiki/mirrors/help/centos</a></p></li><li><p>sohu çš„ yum æºå®‰è£…æ–¹æ³•æŸ¥çœ‹: <a href="http://mirrors.sohu.com/help/centos.html">http://mirrors.sohu.com/help/centos.html</a></p></li><li><p>aliyun çš„ yum æºå®‰è£…æ–¹æ³•æŸ¥çœ‹: <a href="https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.42931b11xSbXkh">https://developer.aliyun.com/mirror/centos?spm=a2c6h.13651102.0.0.42931b11xSbXkh</a></p></li></ol><h4 id="6-3-yum-å‘½ä»¤">6.3 yum å‘½ä»¤</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum [options] [command] [package ...]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤ï¼ˆcommandï¼‰</strong></p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>check-update</td><td>åˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„è½¯ä»¶æ¸…å•å‘½ä»¤</td></tr><tr><td>update</td><td>æ›´æ–°æ‰€æœ‰è½¯ä»¶å‘½ä»¤</td></tr><tr><td>install &lt;package_name&gt;</td><td>ä»…å®‰è£…æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤</td></tr><tr><td>update &lt;package_name&gt;</td><td>ä»…æ›´æ–°æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤</td></tr><tr><td>remove &lt;package_name&gt;</td><td>åˆ é™¤è½¯ä»¶åŒ…å‘½ä»¤</td></tr><tr><td>list [package_name]</td><td>æŸ¥è¯¢æ‰€æœ‰å·²å®‰è£…å’Œå¯å®‰è£…çš„è½¯ä»¶åŒ…<br />[package_name] æŸ¥è¯¢æ‰§è¡Œè½¯ä»¶åŒ…çš„å®‰è£…æƒ…å†µ</td></tr><tr><td>search <keyword></td><td>æŸ¥æ‰¾è½¯ä»¶åŒ…å‘½ä»¤</td></tr><tr><td>info &lt;package_name&gt;</td><td>æŸ¥è¯¢æ‰§è¡Œè½¯ä»¶åŒ…çš„è¯¦ç»†ä¿¡æ¯</td></tr><tr><td>clean packages</td><td>æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…</td></tr><tr><td>clean header</td><td>æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„ headers</td></tr><tr><td>clean oldheaders</td><td>æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹æ—§çš„ headers</td></tr><tr><td>clean æˆ– clean all (= yum clean packages; yum clean oldheaders)</td><td>æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…åŠæ—§çš„ headers</td></tr></tbody></table></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-y</code></td><td>å½“å®‰è£…è¿‡ç¨‹æç¤ºé€‰æ‹©å…¨éƒ¨ä¸º â€œyesâ€</td></tr><tr><td><code>-q</code></td><td>ä¸æ˜¾ç¤ºå®‰è£…çš„è¿‡ç¨‹</td></tr></tbody></table></li></ul><h2 id="7ï¼‰ç³»ç»Ÿç®¡ç†">7ï¼‰ç³»ç»Ÿç®¡ç†</h2><p><strong>è®¡ç®—æœºä¸­ï¼Œä¸€ä¸ªæ­£åœ¨æ‰§è¡Œçš„ç¨‹åºæˆ–å‘½ä»¤ï¼Œè¢«å«åšâ€œè¿›ç¨‹â€ï¼ˆprocessï¼‰ã€‚</strong></p><p><strong>å¯åŠ¨ä¹‹åä¸€ç›´å­˜åœ¨ã€å¸¸é©»å†…å­˜çš„è¿›ç¨‹ï¼Œè¢«ç§°ä½œâ€œæœåŠ¡â€ï¼ˆserviceï¼‰ã€‚</strong></p><h3 id="6-1-service-OS6">6.1 service (OS6)</h3><p>æœåŠ¡(service)æœ¬è´¨å°±æ˜¯è¿›ç¨‹ï¼Œä½†æ˜¯æ˜¯è¿è¡Œåœ¨åå°çš„ï¼Œé€šå¸¸éƒ½ä¼šç›‘å¬æŸä¸ªç«¯å£ï¼Œç­‰å¾…å…¶å®ƒç¨‹åºçš„è¯·æ±‚ï¼Œå› æ­¤æˆ‘ä»¬åˆç§°ä¸ºå®ˆæŠ¤è¿›ç¨‹ã€‚</p><p>service æŒ‡ä»¤ç®¡ç†çš„æœåŠ¡åœ¨ <code>/etc/init.d</code> æŸ¥çœ‹ã€‚</p><p><strong>åœ¨CentOS7.0åå¾ˆå¤šæœåŠ¡ä¸å†ä½¿ç”¨<code>service</code>ï¼Œè€Œæ˜¯<code>systemctl</code>ã€‚</strong></p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# service æœåŠ¡å [start | stop | restart | status]</span><br></pre></td></tr></table></figure></li><li><p>é…ç½® service æœåŠ¡ï¼ˆä»¥tomcatçš„æœåŠ¡ä¸ºä¾‹ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vim /etc/init.d/tomcat</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">description: Tomcat8 Start Stop Restart</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">processname: tomcat8</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">chkconfig: 345 99 10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CATALINA_HOME=/usr/local/tomcat8</span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">        start)</span><br><span class="line">                sh $CATALINA_HOME/bin/startup.sh</span><br><span class="line">                ;;</span><br><span class="line">        stop)</span><br><span class="line">                sh $CATALINA_HOME/bin/shutdown.sh</span><br><span class="line">                ;;</span><br><span class="line">        restart)</span><br><span class="line">                sh $CATALINA_HOME/bin/shutdown.sh</span><br><span class="line">                sh $CATALINA_HOME/bin/startup.sh</span><br><span class="line">                ;;</span><br><span class="line">        *)</span><br><span class="line">                echo &#x27;please use : tomcat &#123;start | stop | restart&#125;&#x27;</span><br><span class="line">        ;;</span><br><span class="line">esac</span><br><span class="line">exit 0</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# chmod 755 /etc/init.d/tomcat</span><br></pre></td></tr></table></figure></li></ul><h3 id="6-2-systemctl-OS7">6.2 systemctl (OS7)</h3><p>systemctlæŒ‡ä»¤ç®¡ç†çš„æœåŠ¡åœ¨ <code>/usr/lib/systemd/system</code> æŸ¥çœ‹</p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# systemctl [start|stop|restart|status] æœåŠ¡å</span><br></pre></td></tr></table></figure></li><li><p>æœåŠ¡ç®¡ç†å‘½ä»¤</p><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><span style="background:yellow;"><strong>systemctl start æœåŠ¡å</strong></span></td><td><strong>å¼€å¯æœåŠ¡</strong></td></tr><tr><td><span style="background:yellow;"><strong>systemctl stop æœåŠ¡å</strong></span></td><td><strong>å…³é—­æœåŠ¡</strong></td></tr><tr><td><span style="background:yellow;"><strong>systemctl status æœåŠ¡å</strong></span></td><td><strong>æ˜¾ç¤ºçŠ¶æ€</strong></td></tr><tr><td><span style="background:yellow;"><strong>systemctl restart æœåŠ¡å</strong></span></td><td><strong>é‡å¯æœåŠ¡</strong></td></tr><tr><td><span style="background:yellow;"><strong>systemctl enable æœåŠ¡å</strong></span></td><td><strong>å¼€æœºå¯åŠ¨æœåŠ¡</strong></td></tr><tr><td><span style="background:yellow;"><strong>systemctl disable æœåŠ¡å</strong></span></td><td><strong>ç¦æ­¢å¼€æœºå¯åŠ¨</strong></td></tr><tr><td>systemctl list-units</td><td>æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„æœåŠ¡</td></tr><tr><td>systemctl list-unit-files</td><td>æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰æœåŠ¡çš„å¼€æœºå¯åŠ¨çŠ¶æ€</td></tr><tr><td>systemctl list-dependencies æœåŠ¡å</td><td>æŸ¥çœ‹ç³»ç»Ÿä¸­æœåŠ¡çš„ä¾èµ–å…³ç³»</td></tr><tr><td>systemctl mask æœåŠ¡å</td><td>å†»ç»“æœåŠ¡</td></tr><tr><td>systemctl unmask æœåŠ¡å</td><td>è§£å†»æœåŠ¡</td></tr><tr><td>systemctl set-default multi-user.target</td><td>å¼€æœºæ—¶ä¸å¯åŠ¨å›¾å½¢ç•Œé¢</td></tr><tr><td>systemctl set-default graphical.target</td><td>å¼€æœºæ—¶å¯åŠ¨å›¾å½¢ç•Œé¢</td></tr><tr><td><span style="background:yellow;"><strong>systemctl daemon-reload</strong></span></td><td><strong>ä¿®æ”¹æœåŠ¡é…ç½®æ–‡ä»¶åï¼Œé‡æ–°è½½å…¥</strong></td></tr></tbody></table></li><li><p>é…ç½® systemctl æœåŠ¡</p><p>systemctl é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨ <code>/usr/lib/systemd/system/</code>ï¼ˆä»¥nginxçš„æœåŠ¡ä¸ºä¾‹ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# systemctl cat nginx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/usr/lib/systemd/system/nginx.service</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=nginx - high performance web server# æ³¨é‡Šã€æè¿°</span><br><span class="line">Documentation=http://nginx.org/en/docs/# å¸®åŠ©æˆ–æ–‡æ¡£</span><br><span class="line">After=network-online.target remote-fs.target nss-lookup.target# æ ¸å¿ƒ nginxåœ¨è¿™äº›æœåŠ¡åæ‰èƒ½æ‰§è¡Œï¼ˆä¾èµ–ï¼‰</span><br><span class="line">Wants=network-online.target# ä¾èµ–</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking# æœåŠ¡ç±»å‹</span><br><span class="line">PIDFile=/var/run/nginx.pid</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Environment=<span class="string">&quot;&quot;</span> <span class="comment"># ç¯å¢ƒ</span></span></span><br><span class="line">ExecStart=/usr/sbin/nginx -c /etc/nginx/nginx.conf# æœåŠ¡å¯åŠ¨</span><br><span class="line">ExecReload=/bin/sh -c &quot;/bin/kill -s HUP $(/bin/cat /var/run/nginx.pid)&quot;# æœåŠ¡é‡å¯</span><br><span class="line">ExecStop=/bin/sh -c &quot;/bin/kill -s TERM $(/bin/cat /var/run/nginx.pid)&quot;# æœåŠ¡å…³é—­</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target# æŒ‡å®šè¿è¡Œçº§åˆ«</span><br></pre></td></tr></table></figure></li></ul><h3 id="6-3-æœåŠ¡è¿è¡Œçº§åˆ«">6.3 æœåŠ¡è¿è¡Œçº§åˆ«</h3><ul><li><p>Linuxç³»ç»Ÿæœ‰7ç§è¿è¡Œçº§åˆ«ï¼ˆrunlevelï¼‰ï¼š==å¸¸ç”¨çš„æ˜¯çº§åˆ«3å’Œ5==<br>è¿è¡Œçº§åˆ«0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸å¯åŠ¨è¿è¡Œçº§åˆ«1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»å½•è¿è¡Œçº§åˆ«2ï¼šå¤šç”¨æˆ·çŠ¶æ€ï¼ˆæ²¡æœ‰NFSï¼‰ï¼Œä¸æ”¯æŒç½‘ç»œ<br>==è¿è¡Œçº§åˆ«3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€ï¼ˆæœ‰NFSï¼‰ï¼Œæ— ç•Œé¢ï¼Œç™»å½•åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼==<br>è¿è¡Œçº§åˆ«4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™<br>==è¿è¡Œçº§åˆ«5ï¼šX11æ§åˆ¶å°ï¼Œç™»å½•åè¿›å…¥å›¾å½¢GUIæ¨¡å¼==<br>è¿è¡Œçº§åˆ«6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨</p></li><li><p>ä½¿ç”¨initæ§åˆ¶</p><p>æŸ¥çœ‹é»˜è®¤çº§åˆ« <code>vim /etc/inittab</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³æœº</span></span><br><span class="line">init 0</span><br></pre></td></tr></table></figure></li><li><p>å¼€æœºæµç¨‹</p><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/Snipaste_2022-12-11_22-53-14.png" alt="Snipaste_2022-12-11_22-53-14"></p></li></ul><ul><li><p>è¿è¡Œçº§åˆ«æ“ä½œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å½“å‰é»˜è®¤è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@localhost ~]# systemctl get-default</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹é»˜è®¤è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@localhost ~]# systemctl set-default TARGET.target</span><br></pre></td></tr></table></figure><blockquote><p>CentOS7åè¿è¡Œçº§åˆ«ç®€åŒ–ï¼Œå¦‚ä¸‹ï¼š</p><p>multi-user.target # ç­‰ä»·äºåŸè¿è¡Œçº§åˆ«3ï¼ˆå¤šç”¨æˆ·æœ‰ç½‘ï¼Œæ— å›¾å½¢ç•Œé¢ï¼‰</p><p>graphical.target # ç­‰ä»·äºåŸè¿è¡Œçº§åˆ«5ï¼ˆå¤šç”¨æˆ·æœ‰ç½‘ï¼Œæœ‰å›¾å½¢ç•Œé¢ï¼‰</p></blockquote></li></ul><h3 id="6-4-chkconfig-OS6">6.4 chkconfig (OS6)</h3><p>é€šè¿‡chkconfigå‘½ä»¤å¯ä»¥ç»™æœåŠ¡çš„å„ä¸ªè¿è¡Œçº§åˆ«è®¾ç½®è‡ªå¯åŠ¨/å…³é—­ã€‚CentOS7.0åï¼Œå¾ˆå¤šæœåŠ¡ä½¿ç”¨systemctlç®¡ç†ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ‰€æœ‰æœåŠ¡è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@localhost ~]# chkconfig --list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æŸä¸ªæœåŠ¡è¿è¡Œçº§åˆ«</span></span><br><span class="line">[root@localhost ~]# chkconfig æœåŠ¡å --list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è°ƒæ•´æŸæœåŠ¡å¯¹åº”çš„è¿è¡Œçº§åˆ«è‡ªå¯åŠ¨å¼€å¯æˆ–å…³é—­</span></span><br><span class="line">[root@localhost ~]# chkconfig --level 3 æœåŠ¡å on/off</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/niiuu/images/raw/master/article_images/typora_images/image-20230109204139909.png" alt="image-20230109204139909"></p><p>chkconfig é‡æ–°è®¾ç½®æœåŠ¡åè‡ªå¯åŠ¨æˆ–å…³é—­ï¼Œéœ€è¦é‡å¯æœºå™¨rebootç”Ÿæ•ˆã€‚</p></li></ul><h3 id="6-5-å…³æœºé‡å¯å‘½ä»¤">6.5 å…³æœºé‡å¯å‘½ä»¤</h3><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>sync</td><td>å°†æ•°æ®ä»å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜</td></tr><tr><td>halt</td><td>åœæœºï¼Œå…³é—­ç³»ç»Ÿï¼Œä½†ä¸æ–­ç”µ</td></tr><tr><td>poweroff</td><td>å…³æœºï¼Œæ–­ç”µ</td></tr><tr><td>reboot</td><td>é‡å¯ï¼ŒåŒshutdown-r now</td></tr><tr><td>shutdown [é€‰é¡¹] æ—¶é—´</td><td>é€‰é¡¹ï¼š-Hï¼ˆç›¸å½“äºâ€”haltï¼Œé»˜è®¤äº1åˆ†é’Ÿåè¿›è¡Œï¼‰<br />-rï¼ˆç›¸å½“äºrebootï¼‰<br />-c å–æ¶ˆ</td></tr></tbody></table><h3 id="6-6-iptablesï¼ˆOS6ï¼‰">6.6 iptablesï¼ˆOS6ï¼‰</h3><p>é…ç½®æ–‡ä»¶åœ¨<code>/etc/sysconfig/iptables</code></p><h3 id="6-7-span-id-firewall-firewall-span-ï¼ˆ0S7ï¼‰">6.7 <span id="firewall">firewall</span>ï¼ˆ0S7ï¼‰</h3><p>åœ¨çœŸæ­£æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œå¾€å¾€éœ€è¦å°†é˜²ç«å¢™æ‰“å¼€ï¼Œä½†é—®é¢˜æ¥äº†ï¼Œå¦‚æœæˆ‘ä»¬æŠŠé˜²ç«å¢™æ‰“å¼€ï¼Œé‚£ä¹ˆå¤–éƒ¨è¯·æ±‚æ•°æ®åŒ…å°±ä¸èƒ½è·ŸæœåŠ¡å™¨ç›‘å¬ç«¯å£é€šè®¯ã€‚è¿™æ—¶ï¼Œéœ€è¦æ‰“å¼€æŒ‡å®šçš„ç«¯å£ã€‚</p><p>CentOS7é‡‡ç”¨æ–°çš„firewalldï¼ŒCentOS6åŠä»¥å‰ç‰ˆæœ¬é‡‡ç”¨iptablesï¼Œä¸è¿‡firewalldåº•å±‚ä»ç„¶è°ƒç”¨çš„æ˜¯iptables</p><p>firewalld é…ç½®æ–‡ä»¶åœ¨ <code>/etc/firewalld</code> å’Œ <code>/usr/lib/firewalld</code>ã€‚å¦‚æœåç§°ç›¸åŒçš„é…ç½®æ–‡ä»¶åŒæ—¶å­˜å‚¨ åœ¨ä¸¤ä¸ªä½ç½®ä¸­ï¼Œåˆ™å°†ä½¿ç”¨ <code>/etc/firewalld</code> ä¸­çš„ç‰ˆæœ¬ã€‚</p><ul><li><p><span style="color:orange;background:red"><strong>è­¦å‘Šï¼šæ‰“å¼€é˜²ç«å¢™åä¸€å®šè¦å…ˆæ·»åŠ sshç«¯å£åˆ°è§„åˆ™ä¸­ï¼Œå¹¶é‡æ–°è½½å…¥</strong></span></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br><span class="line">[root@localhost ~]# firewall-cmd --reload</span><br></pre></td></tr></table></figure></li><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ‰“å¼€ç«¯å£</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --permanet --add-port=ç«¯å£å·/åè®®</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³é—­ç«¯å£</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --permanent --remove-port=ç«¯å£å·/åè®®</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é‡æ–°è½½å…¥ï¼Œæ‰èƒ½ç”Ÿæ•ˆ</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --reload</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥è¯¢ç«¯å£æ˜¯å¦å¼€æ”¾ï¼š</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --query-port=ç«¯å£/åè®®</span><br></pre></td></tr></table></figure><blockquote><p>firewall-cmd å¯ä»¥æ‰§è¡Œ firewall-config èƒ½å¤Ÿæ‰§è¡Œçš„ç›¸åŒæ“ä½œã€‚åœ¨ä½¿ç”¨ firewall-cmd å‘½ä»¤æ—¶ï¼Œå¦‚æœæœªæŒ‡å®šâ€“permanent é€‰é¡¹ï¼Œåˆ™æ‰€æœ‰å‘½ä»¤éƒ½ä½œç”¨äºè¿è¡Œæ—¶é…ç½®ã€‚â€“zone=ç”¨æ¥æŒ‡å®šæ‰€ å½±å“çš„åŒºåŸŸï¼Œå¦‚æœæœªæŒ‡å®šâ€“zone=å‚æ•°ï¼Œåˆ™å°†ä½¿ç”¨é»˜è®¤åŒºåŸŸã€‚é…ç½®é˜²ç«å¢™æ—¶ï¼Œç®¡ç†å‘˜å¦‚æœä½¿ç”¨â€“permanent å‚æ•°æ›´æ”¹é…ç½®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ firewall-cmd --reload æ¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼Œå¦‚æœæ›´æ”¹å¯èƒ½è¯±å‘å±é™©ï¼Œåˆ™å¯ä»¥ä¸æŒ‡å®šâ€“permannent å‚æ•°ï¼Œä½¿æ›´æ”¹ ä»…åœ¨è¿è¡ŒçŠ¶æ€ä¸‹ç”Ÿæ•ˆã€‚å¦‚æœéœ€è¦æŒ‡å®šæŸäº›æ›´æ”¹åœ¨ä¸€å®šçš„æ—¶é—´åè‡ªåŠ¨åˆ é™¤ï¼Œä»è€Œé˜²æ­¢æ„å¤–é”å®š æŸä¸ªç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨â€“timeout=</p></blockquote></li><li><p><strong>æŸ¥è¯¢</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥è¯¢å·²å¼€æ”¾çš„ç«¯å£ï¼ˆå·²å¼€æ”¾çš„ç«¯å£å·é›†åˆï¼‰</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --zone=public --list-ports</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥è¯¢å·²å¼€æ”¾çš„ç«¯å£ (å¯ä»¥å…·ä½“æŸ¥çœ‹æŸä¸€ä¸ªç«¯å£å·)</span></span><br><span class="line">[root@localhost ~]# netstat -ntulp | grep ç«¯å£å·</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥è¯¢æŒ‡å®šç«¯å£æ˜¯å¦å·²å¼€ (æç¤º <span class="built_in">yes</span>ï¼Œè¡¨ç¤ºå¼€å¯ï¼›noè¡¨ç¤ºæœªå¼€å¯)</span></span><br><span class="line">[root@localhost ~]# firewall-cmd --query-port=ç«¯å£/åè®®</span><br></pre></td></tr></table></figure></li><li><p><strong>firewallåŒºåŸŸä»‹ç»</strong></p><blockquote><p>firewalldé˜²ç«å¢™ä¸ºäº†ç®€åŒ–ç®¡ç†ï¼Œå°†æ‰€æœ‰ç½‘ç»œæµé‡åˆ†ä¸ºå¤šä¸ªåŒºåŸŸï¼ˆzoneï¼‰ã€‚ç„¶åæ ¹æ®æ•°æ®åŒ…çš„æºIPåœ°å€æˆ–ä¼ å…¥çš„ç½‘ç»œæ¥å£ç­‰æ¡ä»¶å°†æµé‡ä¼ å…¥ç›¸åº”åŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½å®šä¹‰äº†è‡ªå·±æ‰“å¼€æˆ–è€…å…³é—­çš„ç«¯å£å’ŒæœåŠ¡åˆ—è¡¨ã€‚</p><ul><li><p>åŒºåŸŸï¼ˆzoneï¼‰æ˜¯é’ˆå¯¹ç‰¹å®šä½ç½®æˆ–åœºæ™¯ï¼ˆä¾‹å¦‚å®¶åº­ã€å…¬å…±ã€å—ä¿¡ä»»ç­‰ï¼‰å¯èƒ½å…·æœ‰çš„å„ç§ä¿¡ä»»çº§åˆ«çš„è§„åˆ™é›†ã€‚</p></li><li><p>ä¸åŒçš„åŒºåŸŸï¼ˆzoneï¼‰å¯å…è®¸ä¸åŒçš„ç½‘ç»œæœåŠ¡å’Œå…¥ç«™æµé‡çš„ç±»å‹ï¼Œè€Œæ‹’ç»å…¶ä»–ä»»ä½•æµé‡ã€‚</p></li></ul></blockquote><blockquote><p>firewalldçš„9ä¸ªåŒºåŸŸ</p><ul><li>public(å…¬å…±) â€”â€” [é»˜è®¤]å…¬ç½‘è®¿é—®ï¼Œä¸å—ä»»ä½•é™åˆ¶ã€‚</li><li>work(å·¥ä½œ) â€”â€” ç”¨äºå·¥ä½œåŒºã€‚åŸºæœ¬ä¿¡ä»»çš„ç½‘ç»œï¼Œä»…ä»…æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚</li><li>home(å®¶åº­) â€”â€” ç”¨äºå®¶åº­ç½‘ç»œã€‚åŸºæœ¬ä¿¡ä»»çš„ç½‘ç»œï¼Œä»…ä»…æ¥æ”¶ç»è¿‡é€‰æ‹©çš„è¿æ¥ã€‚</li><li>trusted(ä¿¡ä»») â€”â€” æ¥æ”¶çš„å¤–éƒ¨ç½‘ç»œè¿æ¥æ˜¯å¯ä¿¡ä»»ã€å¯æ¥å—çš„ã€‚</li><li>block(é™åˆ¶) â€”â€” ä»»ä½•æ¥æ”¶çš„ç½‘ç»œè¿æ¥éƒ½è¢«IPv4çš„icmp-host-prohibitedä¿¡æ¯å’ŒIPv6çš„icmp6-adm-prohibitedä¿¡æ¯æ‰€æ‹’ç»ã€‚</li><li>dmz(éš”ç¦»åŒº) â€”â€” è‹±æ–‡&quot;demilitarized zone&quot;çš„ç¼©å†™ï¼Œæ­¤åŒºåŸŸå†…å¯å…¬å¼€è®¿é—®ï¼Œå®ƒæ˜¯éå®‰å…¨ç³»ç»Ÿä¸å®‰å…¨ç³»ç»Ÿä¹‹é—´çš„ç¼“å†²åŒºã€‚</li><li>drop(ä¸¢å¼ƒ) â€”â€” ä»»ä½•æ¥æ”¶çš„ç½‘ç»œæ•°æ®åŒ…éƒ½è¢«ä¸¢å¼ƒï¼Œæ²¡æœ‰ä»»ä½•å›å¤ã€‚ä»…èƒ½æœ‰å‘é€å‡ºå»çš„ç½‘ç»œè¿æ¥ã€‚</li><li>external(å¤–éƒ¨) â€”â€” å…è®¸æŒ‡å®šçš„å¤–éƒ¨ç½‘ç»œè¿›å…¥è¿æ¥ï¼Œç‰¹åˆ«æ˜¯ä¸ºè·¯ç”±å™¨å¯ç”¨äº†ä¼ªè£…åŠŸèƒ½çš„å¤–éƒ¨ç½‘ã€‚</li><li>internal(å†…éƒ¨) â€”â€” å†…éƒ¨è®¿é—®ã€‚åªé™äºæœ¬åœ°è®¿é—®ï¼Œå…¶ä»–ä¸èƒ½è®¿é—®ã€‚</li></ul></blockquote></li><li><p>ä¿®æ”¹è§„åˆ™æ–‡ä»¶ï¼Œå®ç°é˜²ç«å¢™è§„åˆ™</p><p><code>vi /etc/firewalld/zones/public.xml</code></p></li><li><p><strong>firewalld æœåŠ¡</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨é˜²ç«å¢™</span></span><br><span class="line">[root@localhost ~]# systemctl start firewalld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³é—­é˜²ç«å¢™</span></span><br><span class="line">[root@localhost ~]# systemctl stop firewalld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é˜²ç«å¢™å¼€æœºå¯åŠ¨</span></span><br><span class="line">[root@localhost ~]# systemctl enable firewalld</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…³é—­é˜²ç«å¢™å¼€æœºå¯åŠ¨</span></span><br><span class="line">[root@localhost ~]# systemctl disable firewalld</span><br></pre></td></tr></table></figure></li></ul><h2 id="8ï¼‰å¿«æ·é”®">8ï¼‰å¿«æ·é”®</h2><ul><li><p><strong>linuxå¸¸ç”¨çš„å¿«æ·é”®</strong></p><table><thead><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>Tab</td><td>è¡¥å…¨å‘½ä»¤æˆ–æ˜¾ç¤ºæ‰€æœ‰å¯é€‰é¡¹</td></tr><tr><td>Ctrl + Alt + T</td><td>æ‰“å¼€å½“å‰é¡µé¢çš„ç»ˆç«¯ã€‚</td></tr><tr><td>Ctrl + Shift + [+]</td><td>æ”¾å¤§ç»ˆç«¯</td></tr><tr><td>Ctrl + [-]</td><td>ç¼©å°ç»ˆç«¯</td></tr><tr><td>Ctrl + a</td><td>ä½¿å…‰æ ‡å¿«é€Ÿåˆ°è¡Œé¦–</td></tr><tr><td>Ctrl + e</td><td>å…‰æ ‡å¿«é€Ÿç§»åˆ°è¡Œå°¾</td></tr><tr><td>Ctrl + r</td><td>åœ¨å†å²å‘½ä»¤ä¸­æœç´¢</td></tr><tr><td>Ctrl + c</td><td>å¼ºåˆ¶ç»ˆæ­¢å½“å‰å‘½ä»¤</td></tr><tr><td>Ctrl + z</td><td>æš‚åœåœ¨ç»ˆç«¯è¿è¡Œçš„ä»»åŠ¡</td></tr><tr><td>Ctrl + l æˆ–è€… clear</td><td>æ¸…å±</td></tr><tr><td>Ctrl + Shift + f</td><td>æŸ¥æ‰¾</td></tr><tr><td>Ctrl + Shift + g</td><td>æŸ¥æ‰¾ä¸Šä¸€ä¸ªï¼ŒæŒ‰å›è½¦ä¸‹ä¸€ä¸ª</td></tr><tr><td>Ctrl + Shift + c</td><td>å¤åˆ¶</td></tr><tr><td>Ctrl + Shift + v</td><td>ç²˜è´´</td></tr><tr><td>Ctrl + K</td><td>å…‰æ ‡æ‰€å¤„ä½ç½®åˆ°è¡Œæœ«çš„æ‰€æœ‰å†…å®¹ å’Œ ctrl + uå¯¹ç«‹</td></tr><tr><td>Ctrl + U</td><td>å…‰æ ‡æ‰€å¤„ä½ç½®åˆ°è¡Œé¦–çš„æ‰€æœ‰å†…å®¹ å’Œ ctrl + kå¯¹ç«‹</td></tr><tr><td>Ctrl + W</td><td>å…‰æ ‡æ‰€å¤„ä½ç½®ä¹‹å‰çš„ä¸€ä¸ªè¯ï¼Œä»¥ç©ºæ ¼ã€æ ‡ç‚¹ä¸ºç•Œ</td></tr><tr><td>Alt + F4</td><td>å…³é—­å½“å‰çª—å£</td></tr><tr><td>Shift + PgUp</td><td>å‘ä¸Šç¿»é¡µ</td></tr><tr><td>Shift + PgUp</td><td>å‘ä¸‹ç¿»é¡µ</td></tr><tr><td>Alt]+ Tab</td><td>åˆ‡æ¢ä¸åŒçš„ç¨‹åºçª—å£</td></tr><tr><td>Alt + Shift + Tab</td><td>å¾€å›åˆ‡æ¢</td></tr><tr><td>F11</td><td>ä½¿ç»ˆç«¯å…¨å±ï¼Œå†æ¬¡æŒ‰ä¸‹é€€å‡ºå…¨å±</td></tr><tr><td>[PrtSc]</td><td>è·å–æ•´ä¸ªå±å¹•çš„æˆªå›¾å¹¶ä¿å­˜åˆ°Picturesç›®å½•</td></tr></tbody></table></li><li><p>linuxä¸­ä¸å¤ªå¸¸ç”¨çš„å¿«æ·é”®</p><table><thead><tr><th>å¿«æ·é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>Ctrl + t</td><td>äº¤æ¢å…‰æ ‡ä½ç½®å‰çš„ä¸¤ä¸ªå­—ç¬¦</td></tr><tr><td>Ctrl + y</td><td>ç²˜è´´æœ€åä¸€æ¬¡è¢«åˆ é™¤çš„å•è¯</td></tr><tr><td>Ctrl + z</td><td>æŠŠå‘½ä»¤æ”¾å…¥åå°</td></tr><tr><td>Alt + b</td><td>å…‰æ ‡å¾€å›ç§»åŠ¨åˆ°å‰ä¸€ä¸ªå•è¯</td></tr><tr><td>Alt + d</td><td>åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°å½“å‰æ‰€å¤„å•è¯çš„æœ«å°¾</td></tr><tr><td>Alt + F1</td><td>è®¿é—®èœå•</td></tr><tr><td>Alt + F2</td><td>è¿è¡Œ</td></tr><tr><td>Alt + F10</td><td>æœ€å¤§åŒ–å½“å‰çª—å£ï¼Œå†æ¬¡ç¼©å°</td></tr><tr><td>Ctrl + Alt + F2</td><td>åˆ‡æ¢åˆ°æ–‡æœ¬ç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤chvt n æ¥å®ç°ã€‚å¦‚æœä½ å¸Œæœ›çŸ¥é“ç»ˆç«¯çš„åå­—ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤fgconsole</td></tr><tr><td>Ctrl + Alt + F1</td><td>ä»æ–‡æœ¬ç»ˆç«¯åˆ‡æ¢åˆ°å›¾å½¢ç”¨æˆ·ç•Œé¢</td></tr><tr><td>Ctrl + Alt + Delete</td><td>åœ¨æ–‡æœ¬ç»ˆç«¯ä¸‹ä½¿ç”¨æ—¶å¼ºåˆ¶é‡å¯</td></tr><tr><td>Shift + PrtSc</td><td>è·å–å±å¹•çš„æŸä¸ªåŒºåŸŸæˆªå›¾å¹¶ä¿å­˜åˆ°Picturesç›®å½•</td></tr><tr><td>Alt + PrtS]</td><td>è·å– å½“å‰çª—å£çš„æˆªå›¾å¹¶ä¿å­˜åˆ°Picturesç›®å½•</td></tr><tr><td>Ctrl + PrtSc</td><td>è·å–æ•´ä¸ªå±å¹•çš„æˆªå›¾å¹¶å­˜æ”¾åˆ°å‰ªè´´æ¿</td></tr><tr><td>Shift + Ctrl + PrtSc</td><td>è·å–å±å¹•çš„æŸä¸ªåŒºåŸŸæˆªå›¾å¹¶å­˜æ”¾åˆ°å‰ªè´´æ¿</td></tr><tr><td>Ctrl + Alt + PrtSc</td><td>è·å–å½“å‰çª—å£çš„æˆªå›¾å¹¶å­˜æ”¾åˆ°å‰ªè´´æ¿</td></tr><tr><td>ctrl +f</td><td>å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ª ç­‰ä»·äºå°é”®ç›˜çš„ &lt;-- é”®</td></tr><tr><td>ctrl +b</td><td>å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ª ç­‰ä»·äºå°é”®ç›˜çš„ --&gt; é”®</td></tr><tr><td>ctrl +d</td><td>é€€å‡ºå½“å‰ç™»å½•ï¼Œç­‰åŒäºexit logoutï¼›å¦‚æœåœ¨å½“å‰ä½¿ç”¨äº†sshè¿œç¨‹å…¶ä»–æœºå™¨ï¼Œæ”¹æŒ‡ä»¤ä¼šé€€å›å½“å‰å¥‡è¿¹</td></tr><tr><td>ctrl + h</td><td>å‘å‰é€€æ ¼ï¼Œç­‰ä»·äºbackspace</td></tr><tr><td>ctrl + p</td><td>æ˜¾ç¤ºä¸Šä¸€æ¡æŒ‡ä»¤ ç­‰ä»·äºå°é”®ç›˜ â†‘</td></tr><tr><td>ctrl + n</td><td>æ˜¾ç¤ºä¸‹ä¸€æ¡æŒ‡ä»¤ ç­‰ä»·äºå°é”®ç›˜ â†“</td></tr><tr><td>ctrl + s</td><td>é”å®šç»ˆç«¯ï¼Œä½¿ä»»ä½•äººä¸å…è®¸è¾“å…¥ï¼Œä½†æ˜¯è¾“å…¥æ“ä½œä¼šè®°å½•</td></tr><tr><td>ctrl + q</td><td>è§£é™¤ctrl +sçš„é”å®šï¼ŒåŒæ—¶ä¼šå±•ç¤ºæˆ–æ‰§è¡Œctrl +sé”å®šæ—¶è¾“å…¥çš„æŒ‡ä»¤</td></tr></tbody></table></li></ul><h2 id="8ï¼‰å‘½ä»¤">8ï¼‰å‘½ä»¤</h2><p><a href="https://www.runoob.com/linux/linux-command-manual.html">Linuxå‘½ä»¤å¤§å…¨ï¼ˆrunoob.comï¼‰</a></p><h3 id="8-1-å¸®åŠ©">8.1 å¸®åŠ©</h3><h4 id="8-1-1-man-è·å¾—å¸®åŠ©ä¿¡æ¯">8.1.1 man è·å¾—å¸®åŠ©ä¿¡æ¯</h4><p>manå‘½ä»¤æ˜¯Linuxä¸‹æœ€æ ¸å¿ƒçš„å‘½ä»¤ä¹‹ä¸€ã€‚è€Œmanå‘½ä»¤ä¹Ÿå¹¶ä¸æ˜¯è‹±æ–‡å•è¯â€œmanâ€çš„æ„æ€ï¼Œå®ƒæ˜¯å•è¯manualçš„ç¼©å†™ï¼Œå³ä½¿ç”¨æ‰‹å†Œçš„æ„æ€ã€‚</p><p>manå‘½ä»¤ä¼šåˆ—å‡ºä¸€ä»½å®Œæ•´çš„è¯´æ˜ã€‚ å…¶å†…å®¹åŒ…æ‹¬å‘½ä»¤è¯­æ³•ã€å„é€‰é¡¹çš„æ„ä¹‰åŠç›¸å…³å‘½ä»¤ ã€‚æ›´ä¸ºå¼ºå¤§çš„æ˜¯ï¼Œä¸ä»…å¯ä»¥æŸ¥çœ‹Linuxä¸­å‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹è½¯ä»¶æœåŠ¡é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿè°ƒç”¨ã€åº“å‡½æ•°ç­‰å¸®åŠ©ä¿¡æ¯ã€‚</p><p>manæ‰‹å†Œé¡µæ–‡ä»¶å­˜æ”¾åœ¨/usr/share/manç›®å½•ä¸‹ã€‚</p><ul><li><p><strong>åŸºæœ¬è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# man [å‘½ä»¤æˆ–é…ç½®æ–‡ä»¶]</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-a</td><td>åœ¨æ‰€æœ‰çš„manå¸®åŠ©æ‰‹å†Œä¸­æœç´¢</td></tr><tr><td>-d</td><td>ä¸»è¦ç”¨äºæ£€æŸ¥ï¼Œå¦‚æœç”¨æˆ·åŠ å…¥äº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªå‚æ•°æ£€æŸ¥æ˜¯å¦å‡ºé”™</td></tr><tr><td>-f</td><td>æ˜¾ç¤ºç»™å®šå…³é”®å­—çš„ç®€çŸ­æè¿°ä¿¡æ¯</td></tr><tr><td>-p</td><td>æŒ‡å®šå†…å®¹æ—¶ä½¿ç”¨åˆ†é¡µç¨‹åº</td></tr><tr><td>-M</td><td>æŒ‡å®šmanæ‰‹å†Œæœç´¢çš„è·¯å¾„</td></tr><tr><td>-w</td><td>æ˜¾ç¤ºæ–‡ä»¶æ‰€åœ¨ä½ç½®</td></tr></tbody></table></li><li><p><strong>å¿«æ·é”®</strong></p><table><thead><tr><th>å¿«æ·é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>q</td><td>é€€å‡º</td></tr><tr><td>Enter</td><td>æŒ‰è¡Œä¸‹ç¿»</td></tr><tr><td>Space</td><td>æŒ‰é¡µä¸‹ç¿»</td></tr><tr><td>b</td><td>ä¸Šç¿»ä¸€é¡µ</td></tr><tr><td>/å­—ç¬¦ä¸²</td><td>åœ¨æ‰‹å†Œé¡µä¸­æŸ¥æ‰¾å­—ç¬¦ä¸²</td></tr></tbody></table></li></ul><h4 id="8-1-2-help-è·å¾—shellå†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯">8.1.2 help è·å¾—shellå†…ç½®å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯</h4><p>ä¸€éƒ¨åˆ†åŸºç¡€åŠŸèƒ½çš„ç³»ç»Ÿå‘½ä»¤æ˜¯ç›´æ¥å†…åµŒåœ¨ shell ä¸­çš„ï¼Œç³»ç»ŸåŠ è½½å¯åŠ¨ä¹‹åä¼šéšç€ shell ä¸€èµ·åŠ è½½ï¼Œå¸¸é©»ç³»ç»Ÿå†…å­˜ä¸­ã€‚è¿™éƒ¨åˆ†å‘½ä»¤è¢«ç§°ä¸ºâ€œå†…ç½®ï¼ˆbuilt-inï¼‰â€å‘½ä»¤ï¼›å“åº”çš„å…¶ä»–å‘½ä»¤è¢«ç§°ä¸ºâ€œå¤–éƒ¨å‘½ä»¤â€ã€‚</p><ul><li><p><strong>åŸºæœ¬è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# help [-dms] å‘½ä»¤</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸»è¦ä½¿ç”¨</span></span><br><span class="line">[root@localhost ~]# [å¤–éƒ¨å‘½ä»¤] --help    </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ¤æ–­å‘½ä»¤æ˜¯å¦ä¸ºå†…ç½®å‘½ä»¤</span></span><br><span class="line">[root@localhost ~]# type ls    </span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-d</code></td><td>è¾“å‡ºæ¯ä¸ªå‘½ä»¤çš„ç®€çŸ­æè¿°</td></tr><tr><td><code>-m</code></td><td>ä»¥ç±»ä¼¼äº man æ‰‹å†Œçš„æ ¼å¼æè¿°å‘½ä»¤</td></tr><tr><td><code>-m</code></td><td>åªæ˜¾ç¤ºå‘½ä»¤ä½¿ç”¨æ ¼å¼</td></tr></tbody></table></li></ul><h3 id="8-2-æ–‡ä»¶å’Œç›®å½•ç®¡ç†">8.2 æ–‡ä»¶å’Œç›®å½•ç®¡ç†</h3><h4 id="âœ…8-2-1-pwd-æ˜¾ç¤ºç»å¯¹è·¯å¾„">âœ…8.2.1 pwd æ˜¾ç¤ºç»å¯¹è·¯å¾„</h4><p>Linux pwdï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šprint work directoryï¼‰ å‘½ä»¤ç”¨äºæ˜¾ç¤ºå·¥ä½œç›®å½•ã€‚æ‰§è¡Œ pwd æŒ‡ä»¤å¯ç«‹åˆ»å¾—çŸ¥æ‚¨ç›®å‰æ‰€åœ¨çš„å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„åç§°ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# pwd [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-L</code>ï¼š<code>â€“logical</code></td><td>æ˜¾ç¤ºå½“å‰çš„è·¯å¾„ï¼Œæœ‰è¿æ¥æ–‡ä»¶æ—¶ï¼Œç›´æ¥æ˜¾ç¤ºè¿æ¥æ–‡ä»¶çš„è·¯å¾„ï¼Œ(ä¸åŠ å‚æ•°æ—¶é»˜è®¤æ­¤æ–¹å¼)</td></tr><tr><td><code>-p</code>ï¼š<code>â€“physical</code></td><td>æ˜¾ç¤ºå½“å‰çš„è·¯å¾„ï¼Œæœ‰è¿æ¥æ–‡ä»¶æ—¶ï¼Œä¸ä½¿ç”¨è¿æ¥è·¯å¾„ï¼Œç›´æ¥æ˜¾ç¤ºè¿æ¥æ–‡ä»¶æ‰€æŒ‡å‘çš„æ–‡ä»¶ã€‚ <br />å½“åŒ…å«å¤šå±‚è¿æ¥æ–‡ä»¶æ—¶ï¼Œæ˜¾ç¤ºè¿æ¥æ–‡ä»¶æœ€ç»ˆæŒ‡å‘çš„æ–‡ä»¶</td></tr><tr><td><code>--help</code></td><td>åœ¨çº¿å¸®åŠ©</td></tr><tr><td><code>--version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230115161740445.png" alt="image-20230115161740445"></p></li></ul><h4 id="âœ…8-2-2-ls-åˆ—å‡ºç›®å½•çš„å†…å®¹">âœ…8.2.2 ls åˆ—å‡ºç›®å½•çš„å†…å®¹</h4><p>Linux lsï¼ˆè‹±æ–‡å…¨æ‹¼ï¼š list directory contentsï¼‰å‘½ä»¤ç”¨äºæ˜¾ç¤ºæŒ‡å®šå·¥ä½œç›®å½•ä¸‹ä¹‹å†…å®¹ï¼ˆåˆ—å‡ºç›®å‰å·¥ä½œç›®å½•æ‰€å«ä¹‹æ–‡ä»¶åŠå­ç›®å½•)ã€‚</p><p><strong>(éšè—æ–‡ä»¶å¤¹ä»¥<code>.</code>å¼€å¤´)</strong></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls [options] [name]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ll</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><span style="color:red;">-<strong>a</strong></span></td><td>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åŠç›®å½• (<strong>.</strong> å¼€å¤´çš„éšè—æ–‡ä»¶ä¹Ÿä¼šåˆ—å‡º)</td></tr><tr><td><span style="color:red;">-<strong>l</strong></span></td><td>é™¤æ–‡ä»¶åç§°å¤–ï¼Œäº¦å°†æ–‡ä»¶å‹æ€ã€æƒé™ã€æ‹¥æœ‰è€…ã€æ–‡ä»¶å¤§å°ç­‰èµ„è®¯è¯¦ç»†åˆ—å‡ºï¼ˆç­‰åŒäº<code>ll</code>ï¼‰</td></tr><tr><td>-r</td><td>å°†æ–‡ä»¶ä»¥ç›¸åæ¬¡åºæ˜¾ç¤º(åŸå®šä¾è‹±æ–‡å­—æ¯æ¬¡åº)</td></tr><tr><td>-t</td><td>å°†æ–‡ä»¶ä¾å»ºç«‹æ—¶é—´ä¹‹å…ˆåæ¬¡åºåˆ—å‡º</td></tr><tr><td>-A</td><td>åŒ -a ï¼Œä½†ä¸åˆ—å‡º â€œ.â€ (ç›®å‰ç›®å½•) åŠ â€œâ€¦â€ (çˆ¶ç›®å½•)</td></tr><tr><td>-F</td><td>åœ¨åˆ—å‡ºçš„æ–‡ä»¶åç§°ååŠ ä¸€ç¬¦å·ï¼›ä¾‹å¦‚å¯æ‰§è¡Œæ¡£åˆ™åŠ  â€œ*â€, ç›®å½•åˆ™åŠ  â€œ/â€</td></tr><tr><td>-R</td><td>è‹¥ç›®å½•ä¸‹æœ‰æ–‡ä»¶ï¼Œåˆ™ä»¥ä¸‹ä¹‹æ–‡ä»¶äº¦çš†ä¾åºåˆ—å‡º</td></tr><tr><td>-lh</td><td>åŒ-lä½†æ˜¯æ–‡ä»¶çš„å¤§å°ä¼šä»¥å•ä½kã€mã€gç­‰æ˜¾ç¤º</td></tr></tbody></table></li></ul><p>â€‹</p><ul><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230115162714813.png" alt="image-20230115162714813"></p></li></ul><h4 id="âœ…8-2-3-cd-åˆ‡æ¢ç›®å½•">âœ…8.2.3 cd åˆ‡æ¢ç›®å½•</h4><p>Linux cdï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange directoryï¼‰å‘½ä»¤ç”¨äºåˆ‡æ¢å½“å‰å·¥ä½œç›®å½•ã€‚</p><p>å…¶ä¸­ dirName è¡¨ç¤ºæ³•å¯ä¸ºç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„ã€‚è‹¥ç›®å½•åç§°çœç•¥ï¼Œåˆ™å˜æ¢è‡³ä½¿ç”¨è€…çš„ home ç›®å½• (ä¹Ÿå°±æ˜¯åˆš login æ—¶æ‰€åœ¨çš„ç›®å½•)ã€‚</p><p>å¦å¤–ï¼Œ<strong>~</strong> ä¹Ÿè¡¨ç¤ºä¸º home ç›®å½• çš„æ„æ€ï¼Œ <strong>.</strong> åˆ™æ˜¯è¡¨ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½•ï¼Œ <strong>â€¦</strong> åˆ™è¡¨ç¤ºç›®å‰ç›®å½•ä½ç½®çš„ä¸Šä¸€å±‚ç›®å½•ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd dirName</span><br></pre></td></tr></table></figure></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116100537862.png" alt="image-20230116100537862"></p></li></ul><h4 id="âœ…8-2-4-mkdir-åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•">âœ…8.2.4 mkdir åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•</h4><p>Linux mkdirï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šmake directoryï¼‰å‘½ä»¤ç”¨äºåˆ›å»ºç›®å½•ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir [options] dirName</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€’å½’åˆ›å»ºç›®å½•</span></span><br><span class="line">[root@localhost ~]# mkdir -p xxx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€’å½’åˆ›å»ºå¹¶è®¾ç½®æƒé™ä¸º drwx-rwx-r-x</span></span><br><span class="line">[root@localhost ~]# mkdir -m 775 -p xxx </span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-p</code>ï¼š<code>--parents</code></td><td>å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œæ ¹æ®éœ€è¦åˆ›å»ºçˆ¶çº§ç›®å½•</td></tr><tr><td><code>-m</code>ï¼š<code>--mode=MODE</code></td><td>è®¾ç½®æ–‡ä»¶æ¨¡å¼(chmod)</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹</td></tr><tr><td><code>-Z</code></td><td>åˆ›å»ºç›®å½•çš„SELinuxå®‰å…¨è®¾ç½®ä¸ºé»˜è®¤ç±»å‹</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116103530138.png" alt="image-20230116103530138"></p></li></ul><h4 id="âœ…8-2-5-rmdir-åˆ é™¤ä¸€ä¸ªç©ºçš„ç›®å½•">âœ…8.2.5 rmdir åˆ é™¤ä¸€ä¸ªç©ºçš„ç›®å½•</h4><p>Linux rmdirï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šremove directoryï¼‰ã€‚rmdir å‘½ä»¤çš„åŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ï¼Œä¸€ä¸ªç›®å½•è¢«åˆ é™¤ä¹‹å‰å¿…é¡»æ˜¯ç©ºçš„ã€‚ï¼ˆæ³¨æ„ï¼šrm - r dir å‘½ä»¤å¯ä»£æ›¿rmdirï¼Œä½†æ˜¯æœ‰å¾ˆå¤§å±é™©æ€§ï¼‰åˆ é™¤æŸç›®å½•æ—¶ä¹Ÿå¿…é¡»å…·æœ‰å¯¹çˆ¶ç›®å½•çš„å†™æƒé™ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rmdir [options] dirName</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rmdir -p xxx</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>-p</code>ï¼š<code>--parents</code></td><td>åˆ é™¤æŒ‡å®šç›®å½•åï¼Œè‹¥è¯¥ç›®å½•çš„ä¸Šå±‚ç›®å½•å·²å˜æˆç©ºç›®å½•ï¼Œåˆ™å°†å…¶ä¸€å¹¶åˆ é™¤</td></tr><tr><td><code>--ignore-fail-on-non-empty</code></td><td>å¿½ç•¥éç©ºç›®å½•çš„é”™è¯¯ä¿¡æ¯</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116104246194.png" alt="image-20230116104246194"></p></li></ul><h4 id="âœ…8-2-6-touch-åˆ›å»ºç©ºæ–‡ä»¶">âœ…8.2.6 touch åˆ›å»ºç©ºæ–‡ä»¶</h4><p>Linux touchå‘½ä»¤ç”¨äºä¿®æ”¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æ—¶é—´å±æ€§ï¼ŒåŒ…æ‹¬å­˜å–æ—¶é—´å’Œæ›´æ”¹æ—¶é—´ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# touch [options] fileName</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-a</code></td><td>åªæ›´æ”¹è®¿é—®æ—¶é—´</td></tr><tr><td><code>-c</code>ï¼š<code>--no-create</code></td><td>ä¸åˆ›å»ºä»»ä½•æ–‡ä»¶</td></tr><tr><td><code>-d</code>ï¼š<code>--date=å­—ç¬¦ä¸²</code></td><td>ä½¿ç”¨æŒ‡å®šå­—ç¬¦ä¸²è¡¨ç¤ºæ—¶é—´è€Œéå½“å‰æ—¶é—´</td></tr><tr><td><code>-h</code>ï¼š<code>--no-dereference</code></td><td>ä¼šå½±å“ç¬¦å·é“¾æ¥æœ¬èº«ï¼Œè€Œéç¬¦å·é“¾æ¥æ‰€æŒ‡ç¤ºçš„ç›®çš„åœ°<br/>(å½“ç³»ç»Ÿæ”¯æŒæ›´æ”¹ç¬¦å·é“¾æ¥çš„æ‰€æœ‰è€…æ—¶ï¼Œæ­¤é€‰é¡¹æ‰æœ‰ç”¨)</td></tr><tr><td><code>-m</code></td><td>åªæ›´æ”¹ä¿®æ”¹æ—¶é—´</td></tr><tr><td><code>-r</code>ï¼š<code>--reference=FILE</code></td><td>ä½¿ç”¨fileæ–‡ä»¶çš„æ—¶é—´æˆ³ï¼ˆaccessã€modifyï¼‰æ›´æ–°æ–‡ä»¶çš„æ—¶é—´æˆ³</td></tr><tr><td><code>-t</code></td><td>è®¾å®šæ¡£æ¡ˆçš„æ—¶é—´è®°å½•ï¼Œæ ¼å¼ä¸ date æŒ‡ä»¤ç›¸åŒ</td></tr><tr><td><code>--help</code></td><td>æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º</td></tr><tr><td><code>--version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116110047556.png" alt="image-20230116110047556"></p></li></ul><h4 id="âœ…8-2-7-cp-å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•">âœ…8.2.7 cp å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•</h4><p>Linux cpï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šcopy fileï¼‰å‘½ä»¤ä¸»è¦ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cp [options] source directory</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€’å½’æ‹·è´ï¼ˆå°±æ˜¯å°†ç›®å½•å’Œç›®å½•ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹éƒ½æ‹·è´è¿‡å»ï¼‰</span></span><br><span class="line">[root@localhost ~]# cp -r æ‹·è´çš„æ–‡ä»¶ æ‹·è´åˆ°çš„è·¯å¾„    </span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-a</code></td><td>ç›¸å½“äº <code>-pdr</code> ï¼Œæ­¤é€‰é¡¹é€šå¸¸åœ¨å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼Œå®ƒä¿ç•™é“¾æ¥ã€æ–‡ä»¶å±æ€§ï¼Œå¹¶å¤åˆ¶ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹</td></tr><tr><td><code>-d</code></td><td>å¤åˆ¶æ—¶ä¿ç•™é“¾æ¥ã€‚è¿™é‡Œæ‰€è¯´çš„é“¾æ¥ç›¸å½“äº Windows ç³»ç»Ÿä¸­çš„å¿«æ·æ–¹å¼</td></tr><tr><td><code>-f</code></td><td>è¦†ç›–å·²ç»å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶è€Œä¸ç»™å‡ºæç¤º</td></tr><tr><td><code>-i</code></td><td>ä¸ <strong>f</strong> é€‰é¡¹ç›¸åï¼Œåœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰ç»™å‡ºæç¤ºï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤æ˜¯å¦è¦†ç›–ï¼Œå›ç­” <strong>y</strong> æ—¶ç›®æ ‡æ–‡ä»¶å°†è¢«è¦†ç›–</td></tr><tr><td><code>-p</code></td><td>é™¤å¤åˆ¶æ–‡ä»¶çš„å†…å®¹å¤–ï¼Œè¿˜æŠŠä¿®æ”¹æ—¶é—´å’Œè®¿é—®æƒé™ä¹Ÿå¤åˆ¶åˆ°æ–°æ–‡ä»¶ä¸­</td></tr><tr><td><strong><code>-r</code></strong></td><td>è‹¥ç»™å‡ºçš„æºæ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œæ­¤æ—¶å°†å¤åˆ¶è¯¥ç›®å½•ä¸‹æ‰€æœ‰çš„å­ç›®å½•å’Œæ–‡ä»¶</td></tr><tr><td><code>-l</code></td><td>ä¸å¤åˆ¶æ–‡ä»¶ï¼Œåªæ˜¯ç”Ÿæˆé“¾æ¥æ–‡ä»¶</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116112837632.png" alt="image-20230116112837632"></p></li></ul><h4 id="âœ…8-2-8-rm-åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•">âœ…8.2.8 rm åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</h4><p>Linux rmï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šremoveï¼‰å‘½ä»¤ç”¨äºåˆ é™¤ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rm [options] name</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€’å½’åˆ é™¤ç›®å½•åŠæ–‡ä»¶æˆ–æ–‡ä»¶ä¸æç¤ºä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# rm -rf æ–‡ä»¶å[è·¯å¾„]</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-f</code></td><td>å¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶å’Œå‚æ•°ï¼Œä¸è¦æç¤º</td></tr><tr><td><code>-i</code></td><td>æ¯æ¬¡åˆ é™¤å‰éƒ½ä¼šæç¤º</td></tr><tr><td><strong><code>-r</code></strong></td><td>é€’å½’åœ°åˆ é™¤ç›®å½•åŠå…¶å†…å®¹</td></tr><tr><td><code>-d</code></td><td>åˆ é™¤ç©ºç›®å½•</td></tr><tr><td><code>-v</code></td><td>åˆ—å‡ºè¯¦ç»†ä¿¡æ¯</td></tr><tr><td><code>--help</code></td><td>å¸®åŠ©</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116113749497.png" alt="image-20230116113749497"></p></li></ul><h4 id="âœ…8-2-9-mv-ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•æˆ–é‡å‘½å">âœ…8.2.9 mv ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•æˆ–é‡å‘½å</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mv [options] source directory</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th></th></tr></thead><tbody><tr><td><code>-b</code></td><td>ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•å­˜åœ¨æ—¶ï¼Œåœ¨æ‰§è¡Œè¦†ç›–å‰ï¼Œä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¤‡ä»½</td></tr><tr><td><code>-i</code></td><td>å¦‚æœæŒ‡å®šç§»åŠ¨çš„æºç›®å½•æˆ–æ–‡ä»¶ä¸ç›®æ ‡çš„ç›®å½•æˆ–æ–‡ä»¶åŒåï¼Œåˆ™ä¼šå…ˆè¯¢é—®æ˜¯å¦è¦†ç›–æ—§æ–‡ä»¶ï¼Œè¾“å…¥ y è¡¨ç¤ºç›´æ¥è¦†ç›–ï¼Œè¾“å…¥ n è¡¨ç¤ºå–æ¶ˆè¯¥æ“ä½œ</td></tr><tr><td><code>-f</code></td><td>å¦‚æœæŒ‡å®šç§»åŠ¨çš„æºç›®å½•æˆ–æ–‡ä»¶ä¸ç›®æ ‡çš„ç›®å½•æˆ–æ–‡ä»¶åŒåï¼Œä¸ä¼šè¯¢é—®ï¼Œç›´æ¥è¦†ç›–æ—§æ–‡ä»¶</td></tr><tr><td><code>-n</code></td><td>ä¸è¦è¦†ç›–ä»»ä½•å·²å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•</td></tr><tr><td><code>-u</code></td><td>å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æˆ–è€…ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ‰§è¡Œç§»åŠ¨æ“ä½œ</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>å°†æ–‡ä»¶ aaa æ”¹åä¸º bbb :</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116114445282.png" alt="image-20230116114445282"></p></li><li><p>å°† info ç›®å½•æ”¾å…¥ logs ç›®å½•ä¸­ã€‚æ³¨æ„ï¼Œå¦‚æœ logs ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™è¯¥å‘½ä»¤å°† info æ”¹åä¸º logs:</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116114951414.png" alt="image-20230116114951414"></p></li></ol></li></ul><h4 id="âœ…8-2-13-ln-å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥">âœ…8.2.13 ln å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥</h4><p>Linux lnï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šlink filesï¼‰å‘½ä»¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦å‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ä¸ºæŸä¸€ä¸ªæ–‡ä»¶åœ¨å¦å¤–ä¸€ä¸ªä½ç½®å»ºç«‹ä¸€ä¸ªåŒæ­¥çš„é“¾æ¥ã€‚</p><p>å½“æˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„ç›®å½•ï¼Œç”¨åˆ°ç›¸åŒçš„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸€ä¸ªéœ€è¦çš„ç›®å½•ä¸‹éƒ½æ”¾ä¸€ä¸ªå¿…é¡»ç›¸åŒçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬åªè¦åœ¨æŸä¸ªå›ºå®šçš„ç›®å½•ï¼Œæ”¾ä¸Šè¯¥æ–‡ä»¶ï¼Œç„¶ååœ¨ å…¶å®ƒçš„ç›®å½•ä¸‹ç”¨lnå‘½ä»¤é“¾æ¥ï¼ˆlinkï¼‰å®ƒå°±å¯ä»¥ï¼Œä¸å¿…é‡å¤çš„å ç”¨ç£ç›˜ç©ºé—´ã€‚</p><p><strong>å‘½ä»¤åŠŸèƒ½</strong> :Linuxæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ‰€è°“çš„é“¾æ¥(link)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºæ¡£æ¡ˆçš„åˆ«åï¼Œè€Œé“¾æ¥åˆå¯åˆ†ä¸ºä¸¤ç§ : ç¡¬é“¾æ¥(hard link)ä¸è½¯é“¾æ¥(symbolic link)ï¼Œç¡¬é“¾æ¥çš„æ„æ€æ˜¯ä¸€ä¸ªæ¡£æ¡ˆå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œè€Œè½¯é“¾æ¥çš„æ–¹å¼åˆ™æ˜¯äº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„æ¡£æ¡ˆï¼Œè¯¥æ¡£æ¡ˆçš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¡£æ¡ˆçš„ä½ç½®ã€‚ç¡¬é“¾æ¥æ˜¯å­˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€Œè½¯é“¾æ¥å´å¯ä»¥è·¨è¶Šä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>ä¸è®ºæ˜¯ç¡¬é“¾æ¥æˆ–è½¯é“¾æ¥éƒ½ä¸ä¼šå°†åŸæœ¬çš„æ¡£æ¡ˆå¤åˆ¶ä¸€ä»½ï¼Œåªä¼šå ç”¨éå¸¸å°‘é‡çš„ç£ç¢Ÿç©ºé—´ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ln [optians] æºç›®å½•æˆ–ç›®å½• ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å»ºç«‹è½¯é“¾æ¥</span></span><br><span class="line">[root@localhost ~]# ln -s æºç›®å½•æˆ–ç›®å½• ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-b</code>ï¼š<code>--backup</code></td><td>åˆ é™¤ï¼Œè¦†ç›–ç›®æ ‡æ–‡ä»¶ä¹‹å‰çš„å¤‡ä»½ã€‚</td></tr><tr><td><code>-d</code>ï¼š<code>-F</code>æˆ–<code>--directory</code></td><td>å»ºç«‹ç›®å½•çš„ç¡¬è¿æ¥ã€‚</td></tr><tr><td><code>-f</code>ï¼š<code>--force</code></td><td>å¼ºè¡Œå»ºç«‹æ–‡ä»¶æˆ–ç›®å½•çš„è¿æ¥ï¼Œä¸è®ºæ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨ã€‚</td></tr><tr><td><code>-i</code>ï¼š<code>--interactive</code></td><td>è¦†ç›–æ—¢æœ‰æ–‡ä»¶ä¹‹å‰å…ˆè¯¢é—®ç”¨æˆ·ã€‚</td></tr><tr><td><code>-n</code>ï¼š<code>--no-dereference</code></td><td>æŠŠç¬¦å·è¿æ¥çš„ç›®çš„ç›®å½•è§†ä¸ºä¸€èˆ¬æ–‡ä»¶ã€‚</td></tr><tr><td><code>-s</code>ï¼š<code>--symbolic</code></td><td>å¯¹æºæ–‡ä»¶å»ºç«‹è½¯é“¾æ¥(ç¬¦å·è¿æ¥)ï¼Œè€Œéç¡¬è¿æ¥ã€‚</td></tr><tr><td><code>-S&lt;å­—å°¾å¤‡ä»½å­—ç¬¦ä¸²&gt;</code>ï¼š<code>--suffix=&lt;å­—å°¾å¤‡ä»½å­—ç¬¦ä¸²&gt;</code></td><td>ç”¨&quot;-b&quot;å‚æ•°å¤‡ä»½ç›®æ ‡æ–‡ä»¶åï¼Œ<br/>å¤‡ä»½æ–‡ä»¶çš„å­—å°¾ä¼šè¢«åŠ ä¸Šä¸€ä¸ªå¤‡ä»½å­—ç¬¦ä¸²ï¼Œ<br/>é¢„è®¾çš„å­—å°¾å¤‡ä»½å­—ç¬¦ä¸²æ˜¯ç¬¦å·&quot;~â€œï¼Œå¯é€šè¿‡â€-S&quot;å‚æ•°æ¥æ”¹å˜å®ƒã€‚</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚</td></tr><tr><td><code>-V&lt;å¤‡ä»½æ–¹å¼&gt;</code>ï¼š<code>--version-control=&lt;å¤‡ä»½æ–¹å¼&gt;</code></td><td>ç”¨&quot;-b&quot;å‚æ•°å¤‡ä»½ç›®æ ‡æ–‡ä»¶åï¼Œ<br/>å¤‡ä»½æ–‡ä»¶çš„å­—å°¾ä¼šè¢«åŠ ä¸Šä¸€ä¸ªå¤‡ä»½å­—ç¬¦ä¸²ï¼Œ<br/>è¿™ä¸ªå­—ç¬¦ä¸²ä¸ä»…å¯ç”¨&quot;-S&quot;å‚æ•°å˜æ›´ï¼Œå½“ä½¿ç”¨&quot;-V&quot;å‚æ•°&lt;å¤‡ä»½æ–¹å¼&gt;<br/>æŒ‡å®šä¸åŒå¤‡ä»½æ–¹å¼æ—¶ï¼Œä¹Ÿä¼šäº§ç”Ÿä¸åŒå­—å°¾çš„å¤‡ä»½å­—ç¬¦ä¸²ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116203320934.png" alt="image-20230116203320934"></p></li></ul><h4 id="âœ…8-2-14-scp-å®‰å…¨æ‹·è´">âœ…8.2.14 scp å®‰å…¨æ‹·è´</h4><p>secure copy (remote file copy program)ï¼Œæ„æ€å®‰å…¨æ‹·è´ï¼Œå®‰å…¨å¤åˆ¶çš„æ„æ€ï¼Œæ˜¯ä¸€ä¸ªè¿œç¨‹æ–‡ä»¶å¤åˆ¶ç¨‹åºã€‚å‡†ç¡®æ¥è¯´å°±æ˜¯ä¸åŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œæ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰è¿›è¡Œå®‰å…¨å¤åˆ¶çš„å‘½ä»¤ã€‚scpåŸºäºåŠ å·å¤§å­¦Regentsçš„BSDæºä»£ç ä¸­çš„rcpç¨‹åºã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# scp [option] /path/to/source/file user@server-ip:/path/to/destination/directory</span><br></pre></td></tr></table></figure><blockquote><p><code>/path/to/source/file</code> â€“ è¿™æ˜¯æ‰“ç®—å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„æºæ–‡ä»¶ã€‚</p><p><code>user@server-IP:</code> â€“ è¿™æ˜¯è¿œç¨‹ç³»ç»Ÿçš„ç”¨æˆ·åå’Œ IP åœ°å€ã€‚è¯·æ³¨æ„ <strong>IP åœ°å€åé¢åŠ å†’å·</strong>ã€‚</p><p><code>/path/to/destination/directory</code> â€“ è¿™æ˜¯æ–‡ä»¶å°†å¤åˆ¶åˆ°çš„è¿œç¨‹ç³»ç»Ÿä¸Šçš„ç›®æ ‡ç›®å½•ã€‚</p></blockquote></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th style="text-align:center">é€‰é¡¹</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">-C</td><td style="text-align:center">è¿™ä¼šåœ¨å¤åˆ¶è¿‡ç¨‹ä¸­å‹ç¼©æ–‡ä»¶æˆ–ç›®å½•ã€‚</td></tr><tr><td style="text-align:center">-P</td><td style="text-align:center">å¦‚æœé»˜è®¤ SSH ç«¯å£ä¸æ˜¯ 22ï¼Œåˆ™ä½¿ç”¨æ­¤é€‰é¡¹æŒ‡å®š SSH ç«¯å£ã€‚</td></tr><tr><td style="text-align:center">-r</td><td style="text-align:center">æ­¤é€‰é¡¹é€’å½’å¤åˆ¶ç›®å½•åŠå…¶å†…å®¹ã€‚</td></tr><tr><td style="text-align:center">-p</td><td style="text-align:center">ä¿ç•™æ–‡ä»¶çš„è®¿é—®å’Œä¿®æ”¹æ—¶é—´ã€‚</td></tr></tbody></table></li></ul><h3 id="8-3-æ–‡æœ¬å¤„ç†">8.3 æ–‡æœ¬å¤„ç†</h3><h4 id="âœ…8-3-1-cat-æŸ¥çœ‹æ–‡ä»¶å†…å®¹">âœ…8.3.1 cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h4><p>catï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šconcatenateï¼‰å‘½ä»¤ç”¨äºè¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Šã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat [options] fileName</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—å‡ºè¡Œå·</span></span><br><span class="line">cat -n æ–‡ä»¶å</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-A</code>ï¼š<code>--show-all</code>ï¼š<code>-vET</code></td><td>ç›¸å½“äº -vET é€‰é¡¹çš„æ•´åˆï¼Œç”¨äºåˆ—å‡ºæ‰€æœ‰éšè—ç¬¦å·ï¼›</td></tr><tr><td><code>-E</code>ï¼š<code>--show-ends</code></td><td>åˆ—å‡ºæ¯è¡Œç»“å°¾çš„å›è½¦ç¬¦ $ï¼›</td></tr><tr><td><code>-n</code>ï¼š<code>--number</code></td><td>å¯¹è¾“å‡ºçš„æ‰€æœ‰è¡Œè¿›è¡Œç¼–å·ï¼›</td></tr><tr><td><code>-b</code>ï¼š<code>--number-nonblank</code></td><td>åŒ -n ä¸åŒï¼Œæ­¤é€‰é¡¹è¡¨ç¤ºåªå¯¹éç©ºè¡Œè¿›è¡Œç¼–å·ã€‚</td></tr><tr><td><code>-T</code>ï¼š<code>--show-tabs</code></td><td>æŠŠ Tab é”® ^I æ˜¾ç¤ºå‡ºæ¥ï¼›</td></tr><tr><td><code>-V</code></td><td>åˆ—å‡ºç‰¹æ®Šå­—ç¬¦ï¼›</td></tr><tr><td><code>-s</code>ï¼š<code>--squeeze-blank</code></td><td>å½“é‡åˆ°æœ‰è¿ç»­ 2 è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œæ—¶ï¼Œå°±æ›¿æ¢ä¸º 1 è¡Œçš„ç©ºç™½è¡Œã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æŠŠ textfile1 çš„æ–‡æ¡£å†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ textfile2 è¿™ä¸ªæ–‡æ¡£é‡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat -n textfile1 &gt; textfile2</span><br></pre></td></tr></table></figure></li><li><p>æŠŠ textfile1 å’Œ textfile2 çš„æ–‡æ¡£å†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° textfile3 æ–‡æ¡£é‡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat -b textfile1 textfile2 &gt;&gt; textfile3</span><br></pre></td></tr></table></figure></li><li><p>æ¸…ç©º /etc/test.txt æ–‡æ¡£å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /dev/null &gt; /etc/test.txt</span><br></pre></td></tr></table></figure></li><li><p>cat ä¹Ÿå¯ä»¥ç”¨æ¥åˆ¶ä½œé•œåƒæ–‡ä»¶ã€‚ä¾‹å¦‚è¦åˆ¶ä½œè½¯ç›˜çš„é•œåƒæ–‡ä»¶ï¼Œå°†è½¯ç›˜æ”¾å¥½åè¾“å…¥ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat /dev/fd0 &gt; OUTFILE</span><br></pre></td></tr></table></figure><p>ç›¸åçš„ï¼Œå¦‚æœæƒ³æŠŠ image file å†™åˆ°è½¯ç›˜ï¼Œè¾“å…¥ï¼š(é€šå¸¸ç”¨åˆ¶ä½œå¼€æœºç£ç‰‡)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat IMG_FILE &gt; /dev/fd0</span><br></pre></td></tr></table></figure><ul><li><p>OUTFILE æŒ‡è¾“å‡ºçš„é•œåƒæ–‡ä»¶åã€‚</p></li><li><p>IMG_FILE æŒ‡é•œåƒæ–‡ä»¶ã€‚</p></li><li><p>è‹¥ä»é•œåƒæ–‡ä»¶å†™å› device æ—¶ï¼Œdevice å®¹é‡éœ€ä¸ç›¸å½“ã€‚</p></li></ul></li></ol></li></ul><h4 id="âœ…8-3-2-more-æ–‡ä»¶å†…å®¹åˆ†å±æŸ¥çœ‹å™¨">âœ…8.3.2 more æ–‡ä»¶å†…å®¹åˆ†å±æŸ¥çœ‹å™¨</h4><p>Linux more å‘½ä»¤ç±»ä¼¼ cat ï¼Œä¸è¿‡ä¼šä»¥ä¸€é¡µä¸€é¡µçš„å½¢å¼æ˜¾ç¤ºï¼Œæ›´æ–¹ä¾¿ä½¿ç”¨è€…é€é¡µé˜…è¯»ï¼Œè€Œæœ€åŸºæœ¬çš„æŒ‡ä»¤å°±æ˜¯æŒ‰ç©ºç™½é”®ï¼ˆspaceï¼‰å°±å¾€ä¸‹ä¸€é¡µæ˜¾ç¤ºï¼ŒæŒ‰ b é”®å°±ä¼šå¾€å›ï¼ˆbackï¼‰ä¸€é¡µæ˜¾ç¤ºï¼Œè€Œä¸”è¿˜æœ‰æœå¯»å­—ä¸²çš„åŠŸèƒ½ï¼ˆä¸ vi ç›¸ä¼¼ï¼‰ï¼Œä½¿ç”¨ä¸­çš„è¯´æ˜æ–‡ä»¶ï¼Œè¯·æŒ‰ h ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# more [options] [fileNames..]</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>+n</td><td>ä»ç¬«nè¡Œå¼€å§‹æ˜¾ç¤º</td></tr><tr><td>-n</td><td>å®šä¹‰å±å¹•æ˜¾ç¤ºnè¡Œä¸ºä¸€å±</td></tr><tr><td>+/å­—ç¬¦ä¸²</td><td>åœ¨æ¯ä¸ªæ¡£æ¡ˆæ˜¾ç¤ºå‰æœå¯»è¯¥å­—ä¸²ï¼Œç„¶åä»è¯¥å­—ä¸²å‰ä¸¤è¡Œä¹‹åå¼€å§‹æ˜¾ç¤º</td></tr><tr><td>-c</td><td>å…ˆæ¸…å±ï¼Œç„¶åæ˜¾ç¤ºè¦æŸ¥çœ‹çš„æ–‡ä»¶æˆ–æ—¥å¿—å†…å®¹</td></tr><tr><td>-d</td><td>åœ¨æ˜¾ç¤ºå†…ç©ºä¸­æ·»åŠ æç¤º â€œPress space to continueï¼Œâ€™qâ€™ to quit(æŒ‰ç©ºæ ¼é”®ç»§ç»­ï¼ŒæŒ‰qé”®é€€å‡º)â€ï¼Œç¦ç”¨å“é“ƒåŠŸèƒ½</td></tr><tr><td>-p</td><td>é€šè¿‡æ¸…é™¤çª—å£è€Œä¸æ˜¯æ»šå±æ¥å¯¹æ–‡ä»¶è¿›è¡Œæ¢é¡µï¼Œä¸-cé€‰é¡¹ç›¸ä¼¼</td></tr><tr><td>-s</td><td>æŠŠè¿ç»­çš„å¤šä¸ªç©ºè¡Œæ˜¾ç¤ºä¸ºä¸€è¡Œ</td></tr><tr><td>-u</td><td>æŠŠæ–‡ä»¶å†…å®¹ä¸­çš„ä¸‹ç”»çº¿å»æ‰</td></tr></tbody></table></li><li><p><strong>moreæŸ¥çœ‹æ–‡ä»¶æˆ–æ—¥å¿—åå¸¸ç”¨æ“ä½œå‘½ä»¤</strong></p><table><thead><tr><th>æŒ‰é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Enter</td><td>å‘ä¸‹nè¡Œã€‚é»˜è®¤ä¸º1è¡Œ</td></tr><tr><td>Fé”® [ç©ºæ ¼é”®]</td><td>å‘ä¸‹æ»šåŠ¨ä¸€å±</td></tr><tr><td>Bé”®</td><td>è¿”å›ä¸Šä¸€å±</td></tr><tr><td>=</td><td>è¾“å‡ºå½“å‰è¡Œçš„è¡Œå·</td></tr><tr><td>Vé”®</td><td>åœ¨ä½¿ç”¨moreæŸ¥çœ‹æ—¶ï¼Œä½¿ç”¨vè°ƒç”¨viç¼–è¾‘å™¨</td></tr><tr><td>!å‘½ä»¤</td><td>è°ƒç”¨Shellï¼Œå¹¶æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>q</td><td>é€€å‡ºmore</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>åœ¨ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç”±äºå†…å®¹å¤ªå¤šï¼Œå¯ä»¥ç®¡é“ | ç»“åˆèµ·æ¥è¿›è¡Œåˆ†é¡µæ˜¾ç¤º:</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116121938713.png" alt="image-20230116121938713"></p><p>1</p></li></ol></li></ul><h4 id="âœ…8-3-3-head-æ˜¾ç¤ºæ–‡ä»¶å¤´éƒ¨å†…å®¹">âœ…8.3.3 head æ˜¾ç¤ºæ–‡ä»¶å¤´éƒ¨å†…å®¹</h4><p>head å‘½ä»¤å¯ç”¨äºæŸ¥çœ‹æ–‡ä»¶çš„å¼€å¤´éƒ¨åˆ†çš„å†…å®¹ï¼Œ<strong>æœ‰ä¸€ä¸ªå¸¸ç”¨çš„å‚æ•° -n ç”¨äºæ˜¾ç¤ºè¡Œæ•°ï¼Œé»˜è®¤ä¸º 10</strong>ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# head [options] fileName</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# head -n 5 fileName</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-q</code></td><td>éšè—æ–‡ä»¶å</td></tr><tr><td><code>-v</code></td><td>æ˜¾ç¤ºæ–‡ä»¶å</td></tr><tr><td><code>-c å­—èŠ‚æ•°</code></td><td>æ˜¾ç¤ºçš„å­—èŠ‚æ•°</td></tr><tr><td><code>-n è¡Œæ•°</code></td><td>æ˜¾ç¤ºçš„è¡Œæ•°</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p>é»˜è®¤ä¸ºæ˜¾ç¤º10è¡Œæ–‡ä»¶å†…å®¹ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116191108192.png" alt="image-20230116191108192"></p></li></ul><h4 id="âœ…8-3-4-less-åˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹">âœ…8.3.4 less åˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹</h4><p>Linux ä¸­çš„ less å‘½ä»¤ä¸»è¦ç”¨æ¥æµè§ˆæ–‡ä»¶å†…å®¹ï¼Œä¸ more å‘½ä»¤çš„ç”¨æ³•ç›¸ä¼¼ï¼Œä¸åŒäº more å‘½ä»¤çš„æ˜¯ï¼Œless å‘½ä»¤å¯å¾€å›å·åŠ¨æµè§ˆä»¥çœ‹è¿‡çš„éƒ¨åˆ†ã€‚less çš„ç”¨æ³•æ¯”èµ· more æ›´åŠ çš„æœ‰å¼¹æ€§ã€‚åœ¨ more çš„æ—¶å€™,æˆ‘ä»¬å¹¶æ²¡æœ‰åŠæ³•å‘å‰é¢ç¿»,åªèƒ½å¾€åé¢çœ‹ï¼Œä½†è‹¥ä½¿ç”¨äº† less æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>ï¼»pageupï¼½</code> <code>ï¼»pagedown]</code>ç­‰æŒ‰é”®çš„åŠŸèƒ½æ¥å¾€å‰å¾€åç¿»çœ‹æ–‡ä»¶ï¼Œæ›´å®¹æ˜“ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨ less é‡Œå¤´å¯ä»¥æ‹¥æœ‰æ›´å¤šçš„æœç´¢åŠŸèƒ½ï¼Œä¸æ­¢å¯ä»¥å‘ä¸‹æœï¼Œä¹Ÿå¯ä»¥å‘ä¸Šæœã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# less [options] fileName</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°</strong></p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-N</td><td>æ˜¾ç¤ºæ¯è¡Œçš„è¡Œå·ã€‚</td></tr><tr><td>-S</td><td>è¡Œè¿‡é•¿æ—¶å°†è¶…å‡ºéƒ¨åˆ†èˆå¼ƒã€‚</td></tr><tr><td>-e</td><td>å½“æ–‡ä»¶æ˜¾ç¤ºç»“æŸåï¼Œè‡ªåŠ¨ç¦»å¼€ã€‚</td></tr><tr><td>-g</td><td>åªæ ‡å¿—æœ€åæœç´¢åˆ°çš„å…³é”®åŒã€‚</td></tr><tr><td>-Q</td><td>ä¸ä½¿ç”¨è­¦å‘ŠéŸ³ã€‚</td></tr><tr><td>-i</td><td>å¿½ç•¥æœç´¢æ—¶çš„å¤§å°å†™ã€‚</td></tr><tr><td>-m</td><td>æ˜¾ç¤ºç±»ä¼¼ more å‘½ä»¤çš„ç™¾åˆ†æ¯”ã€‚</td></tr><tr><td>-f</td><td>å¼ºè¿«æ‰“å¼€ç‰¹æ®Šæ–‡ä»¶ï¼Œæ¯”å¦‚å¤–å›´è®¾å¤‡ä»£å·ã€ç›®å½•å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</td></tr><tr><td>-s</td><td>æ˜¾ç¤ºè¿ç»­ç©ºè¡Œä¸ºä¸€è¡Œã€‚</td></tr><tr><td>-b &lt;ç¼“å†²åŒºå¤§å°&gt;</td><td>è®¾ç½®ç¼“å†²åŒºçš„å¤§å°ã€‚</td></tr><tr><td>-o &lt;æ–‡ä»¶å&gt;</td><td>å°† less è¾“å‡ºçš„å†…å®¹ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚</td></tr><tr><td>-x &lt;æ•°å­—&gt;</td><td>å°†ã€Tabã€‘é”®æ˜¾ç¤ºä¸ºè§„å®šçš„æ•°å­—ç©ºæ ¼ã€‚</td></tr></tbody></table></li><li><p><strong>æ“ä½œå‘½ä»¤</strong></p><table><thead><tr><th>äº¤äº’æŒ‡ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>/å­—ç¬¦ä¸²</td><td>å‘ä¸‹æœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½ã€‚</td></tr><tr><td>?å­—ç¬¦ä¸²</td><td>å‘ä¸Šæœç´¢â€œå­—ç¬¦ä¸²â€çš„åŠŸèƒ½ã€‚</td></tr><tr><td>n</td><td>é‡å¤*å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ / æˆ ? æœ‰å…³ï¼‰ã€‚</td></tr><tr><td>N</td><td>åå‘é‡å¤å‰ä¸€ä¸ªæœç´¢ï¼ˆä¸ / æˆ– ? æœ‰å…³ï¼‰ã€‚</td></tr><tr><td>b</td><td>å‘ä¸Šç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>d</td><td>å‘ä¸‹ç§»åŠ¨åŠé¡µã€‚</td></tr><tr><td>h æˆ– H</td><td>æ˜¾ç¤ºå¸®åŠ©ç•Œé¢ã€‚</td></tr><tr><td>q æˆ– Q</td><td>é€€å‡º less å‘½ä»¤ã€‚</td></tr><tr><td>y</td><td>å‘ä¸Šç§»åŠ¨ä¸€è¡Œã€‚</td></tr><tr><td>ç©ºæ ¼é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>å›è½¦é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚</td></tr><tr><td>ã€PgDnã€‘é”®</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>ã€PgUpã€‘é”®</td><td>å‘ä¸Šç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>Ctrl+f</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>Ctrl+b</td><td>å‘ä¸Šç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>Ctrl+d</td><td>å‘ä¸‹ç§»åŠ¨ä¸€é¡µã€‚</td></tr><tr><td>Ctrl+u</td><td>å‘ä¸Šç§»åŠ¨åŠé¡µã€‚</td></tr><tr><td>j</td><td>å‘ä¸‹ç§»åŠ¨ä¸€è¡Œã€‚</td></tr><tr><td>k</td><td>å‘ä¸Šç§»åŠ¨ä¸€è¡Œã€‚</td></tr><tr><td>G</td><td>ç§»åŠ¨è‡³æœ€åä¸€è¡Œã€‚</td></tr><tr><td>g</td><td>ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œã€‚</td></tr><tr><td>ZZ</td><td>é€€å‡º less å‘½ä»¤ã€‚</td></tr><tr><td>v</td><td>ä½¿ç”¨é…ç½®çš„ç¼–è¾‘å™¨ç¼–è¾‘å½“å‰æ–‡ä»¶ã€‚</td></tr><tr><td>[</td><td>ç§»åŠ¨åˆ°æœ¬æ–‡æ¡£çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚</td></tr><tr><td>]</td><td>ç§»åŠ¨åˆ°æœ¬æ–‡æ¡£çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</td></tr><tr><td>p</td><td>ç§»åŠ¨åˆ°åŒçº§çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚</td></tr><tr><td>u</td><td>å‘ä¸Šç§»åŠ¨åŠé¡µã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p><code>ps -ef | less</code> æ˜¾ç¤ºå·²æœ‰è¿›ç¨‹ä¿¡æ¯</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116172234561.png" alt="image-20230116172234561"></p></li><li><p><code>history | less</code>æŸ¥çœ‹å‘½ä»¤å†å²ä½¿ç”¨è®°å½•</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116172701184.png" alt="image-20230116172701184"></p></li></ol></li></ul><h4 id="âœ…8-3-5-tail-è¾“å‡ºæ–‡ä»¶å°¾éƒ¨å†…å®¹">âœ…8.3.5 tail è¾“å‡ºæ–‡ä»¶å°¾éƒ¨å†…å®¹</h4><p>tail å‘½ä»¤å¯ç”¨äºæŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tail [options] filename</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŠŠ filename æ–‡ä»¶é‡Œçš„æœ€å°¾éƒ¨çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¹¶ä¸”ä¸æ–­åˆ·æ–°ï¼Œåªè¦ filename æ›´æ–°å°±å¯ä»¥çœ‹åˆ°æœ€æ–°çš„æ–‡ä»¶å†…å®¹</span></span><br><span class="line">[root@localhost ~]# tail -f filename</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-f</code></td><td>å¾ªç¯è¯»å–</td></tr><tr><td><code>-q</code></td><td>ä¸æ˜¾ç¤ºå¤„ç†ä¿¡æ¯</td></tr><tr><td><code>-v</code></td><td>æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯</td></tr><tr><td><code>-c æ•°ç›®</code></td><td>æ˜¾ç¤ºçš„å­—èŠ‚æ•°</td></tr><tr><td><code>-n è¡Œæ•°</code></td><td>æ˜¾ç¤ºæ–‡ä»¶çš„å°¾éƒ¨ n è¡Œå†…å®¹</td></tr><tr><td><code>--pid=PID </code></td><td>ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨è¿›ç¨‹ID,PIDæ­»æ‰ä¹‹åç»“æŸ</td></tr><tr><td><code>-q</code>ï¼š<code>--quiet</code>ï¼š<code>--silent</code></td><td>ä»ä¸è¾“å‡ºç»™å‡ºæ–‡ä»¶åçš„é¦–éƒ¨</td></tr><tr><td><code>-s</code>ï¼š<code>--sleep-interval=S</code></td><td>ä¸-fåˆç”¨,è¡¨ç¤ºåœ¨æ¯æ¬¡åå¤çš„é—´éš”ä¼‘çœ Sç§’</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116193720678.png" alt="tail"></p></li></ul><h4 id="âœ…8-3-6-è¾“å‡ºé‡å®šå‘">âœ…8.3.6 &gt; &gt;&gt; è¾“å‡ºé‡å®šå‘</h4><p><code>&gt;</code> è¦†ç›–ï¼Œä¼šè¦†ç›–ç›®æ ‡çš„åŸæœ‰å†…å®¹ï¼Œå½“æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œä¼šå…ˆåˆ é™¤åŸæ–‡ä»¶ï¼Œå†é‡æ–°åˆ›å»ºæ–‡ä»¶ï¼Œç„¶åæŠŠå†…å®¹å†™å…¥è¯¥æ–‡ä»¶ï¼Œå¦åˆ™ç›´æ¥åˆ›å»ºæ–‡ä»¶ã€‚</p><p><code>&gt;&gt;</code> è¿½åŠ ï¼Œä¼šåœ¨ç›®æ ‡åŸæœ‰å†…å®¹åè¿½åŠ å†…å®¹ï¼Œå½“æ–‡ä»¶å­˜åœ¨æ—¶ç›´æ¥åœ¨æ–‡ä»¶æœ«å°¾è¿›è¡Œå†…å®¹è¿½åŠ ï¼Œä¸ä¼šåˆ é™¤åŸæ–‡ä»¶ï¼Œå¦åˆ™ç›´æ¥åˆ›å»ºæ–‡ä»¶ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—è¡¨çš„å†…å®¹å†™å…¥æ–‡ä»¶ test.txt ä¸­ ï¼ˆè¦†ç›–å†™ï¼‰</span></span><br><span class="line">[root@localhost ~]# ls -l &gt; test.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ—è¡¨çš„å†…å®¹è¿½åŠ åˆ°æ–‡æœ¬ test.txt çš„æœ«å°¾</span></span><br><span class="line">[root@localhost ~]# ls -al &gt;&gt; test.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;ï¼šå°±æ˜¯æ ‡å‡†è¾“å…¥é‡å®šå‘ï¼ˆç­‰åŒ0&lt;ï¼‰ï¼Œæ„æ€å°†æŸæŸæ–‡ä»¶ä½œä¸ºç¨‹åºè¾“å…¥ï¼Œä¹Ÿå°±æ˜¯ä»æŸæ–‡ä»¶è¯»å–è€Œä¸æ˜¯é”®ç›˜ã€‚</span></span><br><span class="line">[root@localhost ~]# command &lt; file</span><br></pre></td></tr></table></figure></li></ul><h4 id="8-3-7-cut-é€‰å–éƒ¨åˆ†å†…å®¹">8.3.7 cut é€‰å–éƒ¨åˆ†å†…å®¹</h4><p>cutçš„å·¥ä½œå°±æ˜¯â€œå‰ªâ€ï¼Œå…·ä½“çš„è¯´å°±æ˜¯åœ¨æ–‡ä»¶ä¸­è´Ÿè´£å‰ªåˆ‡æ•°æ®ç”¨çš„ã€‚cut å‘½ä»¤ä»æ–‡ä»¶çš„æ¯ä¸€è¡Œå‰ªåˆ‡å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå¹¶å°†è¿™äº›å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µè¾“å‡ºã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cut</span> [options]  filename</span><br></pre></td></tr></table></figure></li><li><p>å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-b</code></td><td>ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œåˆ†å‰²</td></tr><tr><td><code>-c</code></td><td>ä»¥å­—ç¬¦ (characters) çš„å•ä½å–å‡ºå›ºå®šå­—ç¬¦åŒºé—´</td></tr><tr><td><code>-d</code></td><td>åˆ†éš”ç¬¦ï¼ŒæŒ‰ç…§æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²åˆ—ã€‚ä¸ -f ä¸€èµ·ä½¿ç”¨</td></tr><tr><td><code>-f</code></td><td>ä¾æ® -d çš„åˆ†éš”å­—ç¬¦å°†ä¸€æ®µä¿¡æ¯åˆ†å‰²æˆä¸ºæ•°æ®µï¼Œç”¨ -f å–å‡ºç¬¬å‡ æ®µçš„æ„æ€ï¼ˆåˆ—å·ï¼Œæå–ç¬¬å‡ åˆ—ï¼‰</td></tr></tbody></table></li><li><p>eg.</p><p>å‡†å¤‡æ•°æ®:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim cut.txt</span></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br></pre></td></tr></table></figure><ol><li><p>åˆ‡å‰²cut.txtç¬¬ä¸€åˆ—</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cut -d &#x27; &#x27; -f 1 cut.txt </span></span><br><span class="line">dong</span><br><span class="line">guan</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡å‰²cut.txtç¬¬äºŒã€ä¸‰åˆ—</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cut -d &#x27; &#x27; -f 2,3 cut.txt </span></span><br><span class="line">shen</span><br><span class="line">zhen</span><br><span class="line"> wo</span><br><span class="line"> lai</span><br><span class="line"> le</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡å‰²cut.txtçš„ç¬¬5-8ä¸ªå­—ç¬¦</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cut -c 5-8 cut.txt </span></span><br><span class="line"> she</span><br><span class="line"> zhe</span><br><span class="line">wo</span><br><span class="line"> lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡å‰²cut.txtçš„ç¬¬2,4,6ä¸ªå­—èŠ‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># cut -b 2,4,6 cut.txt </span></span><br><span class="line">ogs</span><br><span class="line">unz</span><br><span class="line">o o</span><br><span class="line">a l</span><br><span class="line">e e</span><br></pre></td></tr></table></figure><p>1</p></li></ol></li></ul><h4 id="8-3-8-tr-å¯¹æ ‡å‡†è¾“å…¥å†…å®¹åšæ›¿æ¢">8.3.8 tr å¯¹æ ‡å‡†è¾“å…¥å†…å®¹åšæ›¿æ¢</h4><p>tr (translateçš„ç®€å†™),ä¸»è¦ç”¨äºå‹ç¼©é‡å¤å­—ç¬¦ï¼Œä¸»è¦ç”¨äºå°†ä»æ ‡å‡†è¾“å…¥(<code>stdin</code>)è¯»å–çš„æ•°æ®è¿›è¡Œç»“æœé›†æ˜ å°„ã€å­—ç¬¦å‹ç¼©å’Œå­—ç¬¦åˆ é™¤ã€‚å®ƒé¦–å…ˆä¼šå°†è¯»å–çš„æ ‡å‡†è¾“å…¥è¿›è¡Œæ’åºç„¶åæŒ‰ç…§æŸç§æ–¹å¼æ¢è¡Œï¼Œç„¶åå†æ ¹æ®ç»™å‡ºçš„å‘½ä»¤è¡Œå‚æ•°åšç›¸å…³å¤„ç†ã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># tr [options] [SET1] [SET2]</span></span><br></pre></td></tr></table></figure></li><li><p>å‚æ•°</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-c</code></td><td>ä½¿ç”¨SET1çš„è¡¥é›†</td></tr><tr><td><code>-d</code></td><td>åˆ é™¤å­—ç¬¦</td></tr><tr><td><code>-s</code></td><td>å‹ç¼©å­—ç¬¦</td></tr><tr><td><code>-t</code></td><td>æˆªæ–­SET1ï¼Œä½¿å¾—SET1çš„é•¿åº¦å’ŒSET2çš„é•¿åº¦ç›¸åŒ</td></tr></tbody></table></li><li><p>eg.</p><p>1.å°†è¾“å…¥çš„å­—ç¬¦ç”±å¤§å†™è½¬æ¢æˆå°å†™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;HELLO&quot; | tr &#x27;A-Z&#x27; &#x27;a-z&#x27;</span></span><br><span class="line">hello</span><br></pre></td></tr></table></figure><p>2.ROT13 åŠ è§£å¯† åŸç† å°±æ˜¯ä¸¤è¾¹éƒ½å¯¹ç§° æ‰€ä»¥åŠ è§£å¯†å¯ä»¥ç”¨ä¸€å¥—ç›¸åŒçš„é›†åˆ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;hello&quot; | tr &#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&#x27; \</span></span><br><span class="line">&gt; <span class="string">&#x27;NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm&#x27;</span></span><br><span class="line">uryyb</span><br></pre></td></tr></table></figure><p>3.åˆ é™¤æŒ‡å®šå­—ç¬¦</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;hello 123 world 234&quot; | tr -d &#x27;0-9&#x27;</span></span><br><span class="line">hello  world </span><br></pre></td></tr></table></figure><p>4.å­—ç¬¦é›†è¡¥å¿ï¼ˆåˆ é™¤è¡¥é›†ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo hello 1 char 2 next 4 | tr -d -c &#x27;0-9 \n&#x27;</span></span><br><span class="line"> 1  2  4</span><br></pre></td></tr></table></figure><p>5.å‹ç¼©å­—ç¬¦(å‹ç¼©è¾“å…¥ä¸­é‡å¤çš„å­—ç¬¦)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;tr    is    a   shell   order   &quot; | tr -s &#x27; &#x27;</span></span><br><span class="line"><span class="built_in">tr</span> is a shell order </span><br></pre></td></tr></table></figure><p>6.å­—ç¬¦ç±»</p><table><thead><tr><th>å­—ç¬¦ç±»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>[:digit:]</code></td><td>æ‰€æœ‰æ•°å­—</td></tr><tr><td><code>[:lower:]</code></td><td>æ‰€æœ‰å°å†™å­—ç¬¦</td></tr><tr><td><code>[:upper:]</code></td><td>æ‰€æœ‰å¤§å†™å­—ç¬¦</td></tr><tr><td><code>[:graph:]</code></td><td>æ‰€æœ‰å¯æ‰“å°å­—ç¬¦ï¼Œä¸åŒ…æ‹¬ç©ºæ ¼</td></tr><tr><td><code>[:print:]</code></td><td>æ‰€æœ‰å¯æ‰“å°å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼</td></tr><tr><td><code>[:punct:]</code></td><td>æ‰€æœ‰çš„æ ‡ç‚¹å­—ç¬¦</td></tr><tr><td><code>[:space:]</code></td><td>æ‰€æœ‰æ¨ªå‘æˆ–è€…çºµå‘çš„ç©ºç™½</td></tr></tbody></table><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo acniu | tr &#x27;[:lower:]&#x27; &#x27;[:upper:]&#x27;</span></span><br><span class="line">ACENIU</span><br></pre></td></tr></table></figure></li></ul><h4 id="âœ…8-3-11-ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šè¡ŒåŒºé—´ç®¡é“ç¬¦">âœ…8.3.11 | ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šè¡ŒåŒºé—´ç®¡é“ç¬¦</h4><p><a href="http://c.biancheng.net/view/3131.html">æœªæ•´ç†</a></p><p>ç®¡é“æ˜¯ä¸€ç§é€šä¿¡æœºåˆ¶ï¼Œé€šå¸¸ç”¨äºè¿›ç¨‹é—´çš„é€šä¿¡ã€‚å®ƒè¡¨ç°å‡ºæ¥çš„å½¢å¼å°†<strong>å‰é¢æ¯ä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºï¼ˆstdoutï¼‰ç›´æ¥ä½œä¸ºä¸‹ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ï¼ˆstdinï¼‰</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/ad572909f7df4a43a732b1b8ccdf5d6a.png" alt="img"></p><ul><li><p><strong>å®ä¾‹</strong></p><ol><li><p>è¿‡æ»¤åŠŸèƒ½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls / | grep â€œyâ€</span><br><span class="line">grep æŒ‡ä»¤ç”¨äºâ€œè¿‡æ»¤â€</span><br><span class="line">grep è¯­æ³•ï¼šgrep é€‰é¡¹ æ–‡ä»¶è·¯å¾„/å†…å®¹</span><br><span class="line"></span><br><span class="line">é’ˆå¯¹ä¸Šé¢è¿™ä¸ªå‘½ä»¤è¯´æ˜ï¼š</span><br><span class="line">ä»¥ç®¡é“ä½œä¸ºåˆ†ç•Œçº¿ï¼Œå‰é¢çš„å‘½ä»¤æœ‰ä¸ªè¾“å‡ºï¼Œåé¢éœ€è¦å…ˆè¾“å…¥ï¼ˆç¼ºå°‘æŸ¥æ‰¾èŒƒå›´ï¼‰ï¼Œç„¶åå†è¿‡æ»¤ï¼Œæœ€åå†è¾“å‡ºï¼Œé€šä¿—çš„è®²å°±æ˜¯ç®¡é“å‰é¢çš„è¾“å‡ºå°±æ˜¯åé¢æŒ‡ä»¤çš„è¾“å…¥ã€‚</span><br><span class="line">ä¸ºäº†ä¾¿äºç†è§£ï¼Œä¸Šè¿°çš„æŒ‡ä»¤å˜ç›¸å®ç°å¯ä»¥å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">ls</span> / &gt; xxx.txt å°†<span class="built_in">ls</span> /çš„ç»“æœä¿å­˜åˆ°xxx.txtæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">grep â€œyâ€ xxx.txt ä½¿ç”¨grepæŒ‡ä»¤æœç´¢xxx.txtä¸­çš„åŒ…å«yçš„è¡Œ</span></span><br></pre></td></tr></table></figure></li><li><p>xargså‘½ä»¤æ‰©å±•</p><p>ä¹‹æ‰€ä»¥èƒ½ç”¨åˆ°è¿™ä¸ªå‘½ä»¤ï¼Œå…³é”®æ˜¯ç”±äºå¾ˆå¤šå‘½ä»¤ä¸æ”¯æŒ|ç®¡é“æ¥ä¼ é€’å‚æ•°ï¼Œè€Œæ—¥å¸¸å·¥ä½œä¸­æœ‰æœ‰è¿™ä¸ªå¿…è¦ï¼Œæ‰€ä»¥å°±æœ‰äº† xargs å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /etc -name &quot;*.conf&quot; | ls -l (é”™è¯¯)</span><br><span class="line">find /etc -name &quot;*.conf&quot; | xargs ls -l (æ­£ç¡®)</span><br></pre></td></tr></table></figure><blockquote><p>xargs å¯ä»¥å°†ç®¡é“æˆ–æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰æ•°æ®è½¬æ¢æˆå‘½ä»¤è¡Œå‚æ•°ï¼Œä¹Ÿèƒ½å¤Ÿä»æ–‡ä»¶çš„è¾“å‡ºä¸­è¯»å–æ•°æ®ã€‚<br>xargs ä¹Ÿå¯ä»¥å°†å•è¡Œæˆ–å¤šè¡Œæ–‡æœ¬è¾“å…¥è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚å¤šè¡Œå˜å•è¡Œï¼Œå•è¡Œå˜å¤šè¡Œã€‚<br>xargs é»˜è®¤çš„å‘½ä»¤æ˜¯ echoï¼Œè¿™æ„å‘³ç€é€šè¿‡ç®¡é“ä¼ é€’ç»™ xargs çš„è¾“å…¥å°†ä¼šåŒ…å«æ¢è¡Œå’Œç©ºç™½ï¼Œä¸è¿‡é€šè¿‡ xargs çš„å¤„ç†ï¼Œæ¢è¡Œå’Œç©ºç™½å°†è¢«ç©ºæ ¼å–ä»£ã€‚<br>xargs æ˜¯ä¸€ä¸ªå¼ºæœ‰åŠ›çš„å‘½ä»¤ï¼Œå®ƒèƒ½å¤Ÿæ•è·ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºï¼Œç„¶åä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‘½ä»¤ã€‚</p></blockquote></li></ol></li></ul><h4 id="âœ…8-3-12-xargs-ç»™å‘½ä»¤ä¼ é€’å‚æ•°">âœ…8.3.12 xargs ç»™å‘½ä»¤ä¼ é€’å‚æ•°</h4><p>ç®¡é“å®ç°çš„æ˜¯å°†å‰é¢çš„è¾“å‡º<code>stdout</code>ä½œä¸ºåé¢çš„è¾“å…¥<code>stdin</code>ï¼Œä½†æ˜¯æœ‰äº›å‘½ä»¤ä¸æ¥å—ç®¡é“çš„ä¼ é€’æ–¹å¼ã€‚ä¾‹å¦‚ï¼š<code>ls</code>ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å› ä¸ºæœ‰äº›å‘½ä»¤å¸Œæœ›ç®¡é“ä¼ é€’è¿‡æ¥çš„æ˜¯å‚æ•°ï¼Œä½†æ˜¯**ç›´æ¥ä½¿ç”¨ç®¡é“æœ‰æ—¶æ— æ³•ä¼ é€’åˆ°å‘½ä»¤çš„å‚æ•°ä½ã€‚**è¿™æ—¶å€™å°±éœ€è¦<code>xargs</code>ï¼Œ<code>xargs</code>å®ç°çš„æ˜¯å°†ç®¡é“ä¼ é€’è¿‡æ¥çš„<code>stdin</code>è¿›è¡Œå¤„ç†ç„¶åä¼ é€’åˆ°å‘½ä»¤çš„å‚æ•°ä½ç½®ä¸Šã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">somecommand |xargs [options]  <span class="built_in">command</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-3-13-echo-è¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°">8.3.13 echo è¾“å‡ºå†…å®¹åˆ°æ§åˆ¶å°</h4><p>Linuxä¸­ echoå‘½ä»¤ä¸»è¦ç”¨äºæ‰“å°å­—ç¬¦æˆ–è€…å›æ˜¾ï¼Œä¸€èˆ¬èµ·åˆ°ä¸€ä¸ªæç¤ºçš„ä½œç”¨ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# echo [options] &quot;string&quot;</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-n</td><td>ä¸åœ¨æœ€åè‡ªåŠ¨æ¢è¡Œ</td></tr><tr><td>-e</td><td>ä½¿ç”¨-eæ‰©å±•å‚æ•°é€‰é¡¹æ—¶ï¼Œä¸å¦‚ä¸‹å‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œæœ‰ä¸åŒå«ä¹‰ï¼Œæ”¯æŒåæ–œçº¿æ§åˆ¶çš„å­—ç¬¦è½¬æ¢</td></tr></tbody></table><table><tr>    <td >-eçš„å‚æ•°</td>    <td>è¯´æ˜</td> </tr ><tr >    <td>\a</td>    <td>å‘å‡ºè­¦å‘Šå£°</td></tr><tr>    <td>\c</td>    <td>æœ€åä¸åŠ ä¸Šæ¢è¡Œç¬¦å·</td></tr><tr>    <td>\f</td>    <td>æ¢è¡Œä½†å…‰æ ‡ä»æ—§åœç•™åœ¨åŸæ¥çš„ä½ç½®</td></tr><tr>    <td>\n</td>    <td>æ¢è¡Œä¸”å…‰æ ‡ç§»è‡³è¡Œé¦–</td></tr><tr>      <td>\r</td>    <td>å…‰æ ‡ç§»è‡³è¡Œé¦–ï¼Œä½†ä¸æ¢è¡Œ</td></tr><tr>    <td>\t </td>    <td>åˆ¶è¡¨ç¬¦ï¼Œä¹Ÿå°±æ˜¯Tabé”®</td></tr><tr>    <td>\v</td>    <td>ä¸\fç›¸åŒ</td></tr><tr>    <td>\\</td>    <td>æ’å…¥\å­—ç¬¦</td></tr> <tr>    <td colspan="2">\033[30m é»‘è‰²å­— \033[0m</td></tr> <tr>    <td colspan="2">\033[31m çº¢è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[32m ç»¿è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[33m é»„è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[34m è“è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[35m ç´«è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[36m å¤©è“å­— \033[0m</td></tr><tr>    <td colspan="2">\033[37m ç™½è‰²å­— \033[0m</td></tr><tr>    <td colspan="2">\033[40;37m é»‘åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[41;37m çº¢åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[42;37m ç»¿åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[43;37m é»„åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[44;37m è“åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[45;37m ç´«åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[46;37m å¤©è“åº•ç™½å­— \033[0m</td></tr><tr>    <td colspan="2">\033[47;30m ç™½åº•é»‘å­— \033[0m</td></tr></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>å˜è‰²ä½¿ç”¨æ–¹æ³•</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116180009067.png" alt="image-20230116180009067"></p></li><li><p>è¦†ç›–test.txté‡Œé¢çš„å†…å®¹</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116180254831.png" alt="image-20230116180254831"></p></li><li><p>åœ¨test.txtè¿½åŠ å†…å®¹</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230116181730012.png" alt="image-20230116181730012"></p></li></ol></li></ul><h4 id="8-3-14-printf-è¾“å‡º">8.3.14 printf è¾“å‡º</h4><p>printf å‘½ä»¤æ¨¡ä»¿ C ç¨‹åºåº“ï¼ˆlibraryï¼‰é‡Œçš„ printf() ç¨‹åºã€‚</p><p>æ ‡å‡†æ‰€å®šä¹‰ï¼Œå› æ­¤ä½¿ç”¨ printf çš„è„šæœ¬æ¯”ä½¿ç”¨ echo ç§»æ¤æ€§å¥½ã€‚</p><p>printf ä½¿ç”¨å¼•ç”¨æ–‡æœ¬æˆ–ç©ºæ ¼åˆ†éš”çš„å‚æ•°ï¼Œå¤–é¢å¯ä»¥åœ¨ printf ä¸­ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥åˆ¶å®šå­—ç¬¦ä¸²çš„å®½åº¦ã€å·¦å³å¯¹é½æ–¹å¼ç­‰ã€‚<strong>é»˜è®¤ printf ä¸ä¼šåƒ echo è‡ªåŠ¨æ·»åŠ æ¢è¡Œç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ  \n</strong>ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>  format-string  [arguments...]</span><br></pre></td></tr></table></figure></li><li><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><ul><li><strong>format-string:</strong> ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²</li><li><strong>arguments:</strong> ä¸ºå‚æ•°åˆ—è¡¨ã€‚</li></ul></li><li><p><strong>eg.</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;Hello, Shell&quot;</span></span><br><span class="line">Hello, Shell</span><br><span class="line">$ <span class="built_in">printf</span> <span class="string">&quot;Hello, Shell\n&quot;</span></span><br><span class="line">Hello, Shell</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥,æˆ‘æ¥ç”¨ä¸€ä¸ªè„šæœ¬æ¥ä½“ç° printf çš„å¼ºå¤§åŠŸèƒ½ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4s\n&quot;</span> å§“å æ€§åˆ« ä½“é‡kg  </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­é– ç”· 66.1234 </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> æ¨è¿‡ ç”· 48.6543 </span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10s %-8s %-4.2f\n&quot;</span> éƒ­èŠ™ å¥³ 47.9876 </span><br><span class="line"></span><br><span class="line"><span class="comment">#ç»“æœ:</span></span><br><span class="line">å§“å     æ€§åˆ«   ä½“é‡kg</span><br><span class="line">éƒ­é–     ç”·      66.12</span><br><span class="line">æ¨è¿‡     ç”·      48.65</span><br><span class="line">éƒ­èŠ™     å¥³      47.99</span><br></pre></td></tr></table></figure><p>%s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦</p><p>%-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º 10 ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨ 10 ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>%-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­ .2 æŒ‡ä¿ç•™ 2 ä½å°æ•°ã€‚</p></li><li><p><strong>printfçš„è½¬ä¹‰åºåˆ—</strong></p><table class="reference">  <tbody>    <tr>      <th>åºåˆ—</th>      <th>è¯´æ˜</th>    </tr>    <tr>      <td>\a</td>      <td>è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸º ASCII çš„ BEL å­—ç¬¦</td>    </tr>    <tr>      <td>\b</td>      <td>åé€€</td>    </tr>    <tr>      <td>\c</td>      <td>        æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨ %b        æ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥      </td>    </tr>    <tr>      <td>\f</td>      <td>æ¢é¡µï¼ˆformfeedï¼‰</td>    </tr>    <tr>      <td>\n</td>      <td>æ¢è¡Œ</td>    </tr>    <tr>      <td>\r</td>      <td>å›è½¦ï¼ˆCarriage returnï¼‰</td>    </tr>    <tr>      <td>\t</td>      <td>æ°´å¹³åˆ¶è¡¨ç¬¦</td>    </tr>    <tr>      <td>\v</td>      <td>å‚ç›´åˆ¶è¡¨ç¬¦</td>    </tr>    <tr>      <td>\\</td>      <td>ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</td>    </tr>    <tr>      <td>\ddd</td>      <td>è¡¨ç¤º 1 åˆ° 3 ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</td>    </tr>    <tr>      <td>\0ddd</td>      <td>è¡¨ç¤º 1 åˆ° 3 ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</td>    </tr>  </tbody></table><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">printf</span> <span class="string">&quot;a string, no processing:&lt;%s&gt;\n&quot;</span> <span class="string">&quot;A\nB&quot;</span></span><br><span class="line">a string, no processing:&lt;A\nB&gt;</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">printf</span> <span class="string">&quot;a string, no processing:&lt;%b&gt;\n&quot;</span> <span class="string">&quot;A\nB&quot;</span></span><br><span class="line">a string, no processing:&lt;A</span><br><span class="line">B&gt;</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">printf</span> <span class="string">&quot;www.w3cschool.cn \a&quot;</span></span><br><span class="line">www.w3cschool.cn $                  <span class="comment">#ä¸æ¢è¡Œ</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-3-15-grep-è¿‡æ»¤æŸ¥æ‰¾">8.3.15 grep è¿‡æ»¤æŸ¥æ‰¾</h4><p>Linux grep å‘½ä»¤ç”¨äºæŸ¥æ‰¾æ–‡ä»¶é‡Œç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚</p><p>grep å‘½ä»¤çš„ç”±æ¥å¯ä»¥è¿½æº¯åˆ° UNIX è¯ç”Ÿçš„æ—©æœŸï¼Œåœ¨ UNIX ç³»ç»Ÿä¸­ï¼Œæœç´¢çš„æ¨¡å¼ï¼ˆpatternsï¼‰è¢«ç§°ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionsï¼‰ï¼Œä¸ºäº†è¦å½»åº•æœç´¢ä¸€ä¸ªæ–‡ä»¶ï¼Œæœ‰çš„ç”¨æˆ·åœ¨è¦æœç´¢çš„å­—ç¬¦ä¸²å‰åŠ ä¸Šå‰ç¼€ globalï¼ˆå…¨é¢çš„ï¼‰ï¼Œä¸€æ—¦æ‰¾åˆ°ç›¸åŒ¹é…çš„å†…å®¹ï¼Œç”¨æˆ·å°±åƒå°†å…¶è¾“å‡ºï¼ˆprintï¼‰åˆ°å±å¹•ä¸Šï¼Œè€Œå°†è¿™ä¸€ç³»åˆ—çš„æ“ä½œæ•´åˆåˆ°ä¸€èµ·å°±æ˜¯ global regular expressions printï¼Œè€Œè¿™ä¹Ÿå°±æ˜¯ grep å‘½ä»¤çš„å…¨ç§°ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep [options] [patterns] æ–‡ä»¶å</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep -n file</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-c</code>ï¼š<code>--count</code></td><td>ä»…åˆ—å‡ºæ–‡ä»¶ä¸­åŒ…å«æ¨¡å¼çš„è¡Œæ•°ã€‚</td></tr><tr><td><code>-i</code>ï¼š<code>--ignore-case</code></td><td>å¿½ç•¥æ¨¡å¼ä¸­çš„å­—æ¯å¤§å°å†™ã€‚</td></tr><tr><td><code>-l</code>ï¼š<code>--file-with-matches</code></td><td>åˆ—å‡ºå¸¦æœ‰åŒ¹é…è¡Œçš„æ–‡ä»¶åã€‚</td></tr><tr><td><code>-n</code>ï¼š<code>--line-number</code></td><td>åœ¨æ¯ä¸€è¡Œçš„æœ€å‰é¢åˆ—å‡ºè¡Œå·ã€‚</td></tr><tr><td>*<code>-v</code>ï¼š<code>--invert-match</code></td><td>åˆ—å‡ºæ²¡æœ‰åŒ¹é…æ¨¡å¼çš„è¡Œã€‚ï¼ˆåè½¬ï¼‰</td></tr><tr><td><code>-w</code>ï¼š<code>--word-regexp</code></td><td>æŠŠè¡¨è¾¾å¼å½“åšä¸€ä¸ªå®Œæ•´çš„å•å­—ç¬¦æ¥æœå¯»ï¼Œå¿½ç•¥é‚£äº›éƒ¨åˆ†åŒ¹é…çš„è¡Œã€‚</td></tr><tr><td>*<code>-r å…³é”®å­— ç›®å½•</code></td><td>åœ¨ç›®å½•ä¸‹æœç´¢å…³é”®å­—</td></tr></tbody></table></li><li><p>patterns æ­£åˆ™è¡¨è¾¾å¼çš„é€šé…ç¬¦</p><table><thead><tr><th>é€šé…ç¬¦</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>c*</td><td>å°†åŒ¹é… 0 ä¸ªï¼ˆå³ç©ºç™½ï¼‰æˆ–å¤šä¸ªå­—ç¬¦ cï¼ˆc ä¸ºä»»ä¸€å­—ç¬¦ï¼‰ã€‚</td></tr><tr><td>.</td><td>å°†åŒ¹é…ä»»ä½•ä¸€ä¸ªå­—ç¬¦ï¼Œä¸”åªèƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚</td></tr><tr><td>[xyz]</td><td>åŒ¹é…æ–¹æ‹¬å·ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚</td></tr><tr><td>[^xyz]</td><td>åŒ¹é…é™¤æ–¹æ‹¬å·ä¸­å­—ç¬¦å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚</td></tr><tr><td>^</td><td>é”å®šè¡Œçš„å¼€å¤´ã€‚</td></tr><tr><td>$</td><td>é”å®šè¡Œçš„ç»“å°¾ã€‚</td></tr></tbody></table><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œå¦‚é€šé…ç¬¦ *ã€+ã€{ã€|ã€( å’Œ )ç­‰ï¼Œå·²ç»å¤±å»äº†å®ƒä»¬åŸæœ¬çš„å«ä¹‰ï¼Œè€Œè‹¥è¦æ¢å¤å®ƒä»¬åŸæœ¬çš„å«ä¹‰ï¼Œåˆ™è¦åœ¨ä¹‹å‰æ·»åŠ åæ–œæ  \ï¼Œå¦‚ *ã€+ã€{ã€|ã€( å’Œ )ã€‚</p></li></ul><h4 id="8-3-16-sed-å­—ç¬¦æµç¼–è¾‘å™¨-Stream-EDitor">8.3.16 sed å­—ç¬¦æµç¼–è¾‘å™¨(Stream EDitor)</h4><p>æˆ‘ä»¬çŸ¥é“ï¼ŒVim é‡‡ç”¨çš„æ˜¯äº¤äº’å¼æ–‡æœ¬ç¼–è¾‘æ¨¡å¼ï¼Œä½ å¯ä»¥ç”¨é”®ç›˜å‘½ä»¤æ¥äº¤äº’æ€§åœ°æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢æ•°æ®ä¸­çš„æ–‡æœ¬ã€‚ä½†æœ¬èŠ‚è¦è®²çš„ sed å‘½ä»¤ä¸åŒï¼Œå®ƒé‡‡ç”¨çš„æ˜¯æµç¼–è¾‘æ¨¡å¼ï¼Œæœ€æ˜æ˜¾çš„ç‰¹ç‚¹æ˜¯ï¼Œåœ¨ sed å¤„ç†æ•°æ®ä¹‹å‰ï¼Œéœ€è¦é¢„å…ˆæä¾›ä¸€ç»„è§„åˆ™ï¼Œsed ä¼šæŒ‰ç…§æ­¤è§„åˆ™æ¥ç¼–è¾‘æ•°æ®ã€‚</p><p>sed ä¼šæ ¹æ®è„šæœ¬å‘½ä»¤æ¥å¤„ç†æ–‡æœ¬æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œè¿™äº›å‘½ä»¤è¦ä¹ˆä»å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼Œè¦ä¹ˆå­˜å‚¨åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œæ­¤å‘½ä»¤æ‰§è¡Œæ•°æ®çš„é¡ºåºå¦‚ä¸‹ï¼š</p><ol><li>æ¯æ¬¡ä»…è¯»å–ä¸€è¡Œå†…å®¹ï¼›</li><li>æ ¹æ®æä¾›çš„è§„åˆ™å‘½ä»¤åŒ¹é…å¹¶ä¿®æ”¹æ•°æ®ã€‚æ³¨æ„ï¼Œ<font style="background:green">sed é»˜è®¤ä¸ä¼šç›´æ¥ä¿®æ”¹æºæ–‡ä»¶æ•°æ®ï¼Œè€Œæ˜¯ä¼šå°†æ•°æ®å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­ï¼Œä¿®æ”¹ä¹Ÿä»…é™äºç¼“å†²åŒºä¸­çš„æ•°æ®;</font></li><li>å°†æ‰§è¡Œç»“æœè¾“å‡ºã€‚</li></ol><p>å½“ä¸€è¡Œæ•°æ®åŒ¹é…å®Œæˆåï¼Œå®ƒä¼šç»§ç»­è¯»å–ä¸‹ä¸€è¡Œæ•°æ®ï¼Œå¹¶é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å°†æ–‡ä»¶ä¸­æ‰€æœ‰æ•°æ®å¤„ç†å®Œæ¯•ã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed [options] [[address]sed command] file</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¸€ã€é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-e</code></td><td>è¯¥é€‰é¡¹ä¼šå°†å…¶åè·Ÿçš„è„šæœ¬å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­</td></tr><tr><td><code>-f</code></td><td>è¯¥é€‰é¡¹ä¼šå°†å…¶åæ–‡ä»¶ä¸­çš„è„šæœ¬å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­</td></tr><tr><td><code>-n</code></td><td>é»˜è®¤æƒ…å†µä¸‹ï¼Œsed ä¼šåœ¨æ‰€æœ‰çš„è„šæœ¬æ‰§è¡Œå®Œæ¯•åï¼Œä¼šè‡ªåŠ¨è¾“å‡ºå¤„ç†åçš„å†…å®¹ï¼Œè€Œè¯¥é€‰é¡¹ä¼šå±è”½è‡ªåŠ¨è¾“å‡ºï¼Œéœ€ä½¿ç”¨ print å‘½ä»¤æ¥å®Œæˆè¾“å‡º</td></tr><tr><td><code>-i</code></td><td>æ­¤é€‰é¡¹ä¼šç›´æ¥ä¿®æ”¹æºæ–‡ä»¶</td></tr></tbody></table><p>æˆåŠŸä½¿ç”¨ sed å‘½ä»¤çš„å…³é”®åœ¨äºæŒæ¡å„å¼å„æ ·çš„è„šæœ¬å‘½ä»¤åŠæ ¼å¼ï¼Œå®ƒèƒ½å¸®ä½ å®šåˆ¶ç¼–è¾‘æ–‡ä»¶çš„è§„åˆ™ã€‚</p><ul><li><strong>sed å†…ç½®å‘½ä»¤</strong> <code>[sed command]</code></li></ul><table><thead><tr><th>sedçš„å†…ç½®å‘½ä»¤å­—ç¬¦</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>a</code></td><td>appendï¼Œå¯¹æ–‡æœ¬è¿½åŠ ï¼Œåœ¨æŒ‡å®šè¡Œ==åé¢==æ·»åŠ ä¸€è¡Œ/å¤šè¡Œæ–‡æœ¬</td></tr><tr><td><code>d</code></td><td>Deleteï¼Œåˆ é™¤åŒ¹é…è¡Œ</td></tr><tr><td><code>i</code></td><td>insertï¼Œè¡¨ç¤ºæ’å…¥æ–‡æœ¬ï¼Œåœ¨æŒ‡å®šè¡Œ==å‰==æ·»åŠ ä¸€è¡Œ/å¤šè¡Œæ–‡æœ¬</td></tr><tr><td><code>p</code></td><td>Printï¼Œæ‰“å°åŒ¹é…è¡Œçš„å†…å®¹ï¼Œé€šå¸¸pä¸-nä¸€èµ·ç”¨</td></tr><tr><td><code>s/æ­£åˆ™/æ›¿æ¢çš„å†…å®¹/flagsæ ‡è®°</code></td><td>åŒ¹é…æ­£åˆ™å†…å®¹ï¼Œç„¶åæ›¿æ¢å†…å®¹ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰ã€‚</td></tr></tbody></table><p><strong>1.1 sed s æ›¿æ¢è„šæœ¬å‘½ä»¤</strong></p><p>æ­¤å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed &quot;[address]s/pattern/replacement/flags&quot;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œaddress è¡¨ç¤ºæŒ‡å®šè¦æ“ä½œçš„å…·ä½“è¡Œï¼Œpattern æŒ‡çš„æ˜¯éœ€è¦æ›¿æ¢çš„å†…å®¹ï¼Œreplacement æŒ‡çš„æ˜¯è¦æ›¿æ¢çš„æ–°å†…å®¹ã€‚å…³äºæŒ‡å®šå…·ä½“æ“ä½œè¡Œï¼ˆaddressï¼‰çš„ç”¨æ³•ï¼Œ<a href="#anchor_sed01">ç‚¹å‡»è·³è½¬è¯¦ç»†ä»‹ç»</a>ã€‚æ­¤å‘½ä»¤ä¸­å¸¸ç”¨çš„ flags æ ‡è®°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>flagsæ ‡è®°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>n</code></td><td>1~512 ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºæŒ‡å®šè¦æ›¿æ¢çš„å­—ç¬¦ä¸²å‡ºç°ç¬¬å‡ æ¬¡æ—¶æ‰è¿›è¡Œæ›¿æ¢ï¼Œä¾‹å¦‚ï¼Œä¸€è¡Œä¸­æœ‰ 3 ä¸ª Aï¼Œä½†ç”¨æˆ·åªæƒ³æ›¿æ¢ç¬¬äºŒä¸ª Aï¼Œè¿™æ—¶å°±ç”¨åˆ°è¿™ä¸ªæ ‡è®°</td></tr><tr><td><code>g</code></td><td>å¯¹æ•°æ®ä¸­æ‰€æœ‰åŒ¹é…åˆ°çš„å†…å®¹è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰ gï¼Œåˆ™åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŒ¹é…æˆåŠŸæ—¶åšæ›¿æ¢æ“ä½œã€‚ä¾‹å¦‚ï¼Œä¸€è¡Œæ•°æ®ä¸­æœ‰ 3 ä¸ª Aï¼Œåˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ª A</td></tr><tr><td><code>p</code></td><td>ä¼šæ‰“å°ä¸æ›¿æ¢å‘½ä»¤ä¸­æŒ‡å®šçš„æ¨¡å¼åŒ¹é…çš„è¡Œã€‚æ­¤æ ‡è®°é€šå¸¸ä¸ -n é€‰é¡¹ä¸€èµ·ä½¿ç”¨</td></tr><tr><td><code>w file</code></td><td>å°†ç¼“å†²åŒºä¸­çš„å†…å®¹å†™åˆ°æŒ‡å®šçš„ file æ–‡ä»¶ä¸­</td></tr><tr><td><code>&amp;</code></td><td>ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹è¿›è¡Œæ›¿æ¢</td></tr><tr><td><code>\n</code></td><td>åŒ¹é…ç¬¬ n ä¸ªå­ä¸²ï¼Œè¯¥å­ä¸²ä¹‹å‰åœ¨ pattern ä¸­ç”¨ () æŒ‡å®š</td></tr><tr><td><code>\</code></td><td>è½¬ä¹‰ï¼ˆè½¬ä¹‰æ›¿æ¢éƒ¨åˆ†åŒ…å«ï¼š&amp;ã€\ ç­‰ï¼‰</td></tr></tbody></table><p>æ¯”å¦‚ï¼Œå¯ä»¥æŒ‡å®š sed ç”¨æ–°æ–‡æœ¬æ›¿æ¢ç¬¬å‡ å¤„æ¨¡å¼åŒ¹é…çš„åœ°æ–¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;s/test/trial/2&#x27; data.txt</span><br><span class="line">This is a test of the trial script.</span><br><span class="line">This is the second test of the trial script.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>ä½¿ç”¨æ•°å­— 2 ä½œä¸ºæ ‡è®°çš„ç»“æœå°±æ˜¯ï¼Œsed ç¼–è¾‘å™¨åªæ›¿æ¢æ¯è¡Œä¸­ç¬¬ 2 æ¬¡å‡ºç°çš„åŒ¹é…æ¨¡å¼</strong>ã€‚</p><p>å¦‚æœè¦ç”¨æ–°æ–‡æœ¬æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ g æ ‡è®°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;s/test/trial/g&#x27; data.txt</span><br><span class="line">This is a trial of the trial script.</span><br><span class="line">This is the second trial of the trial script.</span><br></pre></td></tr></table></figure><p>ç”±ä¸Šæ–‡å¯çŸ¥ï¼Œ-n é€‰é¡¹ä¼šç¦æ­¢ sed è¾“å‡ºï¼Œä½† p æ ‡è®°ä¼šè¾“å‡ºä¿®æ”¹è¿‡çš„è¡Œï¼Œå°†äºŒè€…åŒ¹é…ä½¿ç”¨çš„æ•ˆæœå°±æ˜¯åªè¾“å‡ºè¢«æ›¿æ¢å‘½ä»¤ä¿®æ”¹è¿‡çš„è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data2.txt</span><br><span class="line">This is a test line.</span><br><span class="line">This is a different line.</span><br><span class="line">[root@localhost ~]# sed -n &#x27;s/test/trial/p&#x27; data2.txt</span><br><span class="line">This is a trial line.</span><br></pre></td></tr></table></figure><p>w æ ‡è®°ä¼šå°†åŒ¹é…åçš„ç»“æœä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;s/test/trial/w test.txt&#x27; data2.txt</span><br><span class="line">This is a trial line.</span><br><span class="line">This is a different line.</span><br><span class="line">[root@localhost ~]#cat test.txt</span><br><span class="line">This is a trial line.</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨ s è„šæœ¬å‘½ä»¤æ—¶ï¼Œæ›¿æ¢ç±»ä¼¼æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å°†è·¯å¾„ä¸­çš„æ­£æ–œçº¿è¿›è¡Œè½¬ä¹‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;s/\/bin\/bash/\/bin\/csh/&#x27; /etc/passwd</span><br></pre></td></tr></table></figure><p><strong>1.2 sed dåˆ é™¤è„šæœ¬å‘½ä»¤</strong></p><p>æ­¤å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]d</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦åˆ é™¤æ–‡æœ¬ä¸­çš„ç‰¹å®šè¡Œï¼Œå¯ä»¥ç”¨ d è„šæœ¬å‘½ä»¤ï¼Œå®ƒä¼šåˆ é™¤æŒ‡å®šè¡Œä¸­çš„æ‰€æœ‰å†…å®¹ã€‚ä½†ä½¿ç”¨è¯¥å‘½ä»¤æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œå¦‚æœä½ å¿˜è®°æŒ‡å®šå…·ä½“è¡Œçš„è¯ï¼Œæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«åˆ é™¤ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data1.txt</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">[root@localhost ~]# sed &#x27;d&#x27; data1.txt</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä»€ä¹ˆä¹Ÿä¸è¾“å‡ºï¼Œè¯æ˜æˆäº†ç©ºæ–‡ä»¶(åªæ˜¯åœ¨ç¼“å†²åŒºä¸­åˆ é™¤å†…å®¹ï¼Œå¹¶ä¸ä¼šåˆ é™¤æºæ–‡ä»¶ä¸­çš„å†…å®¹)</span></span><br></pre></td></tr></table></figure><p>å½“å’ŒæŒ‡å®šåœ°å€ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåˆ é™¤å‘½ä»¤æ˜¾ç„¶èƒ½å‘æŒ¥å‡ºå¤§çš„ä½œç”¨ã€‚å¯ä»¥ä»æ•°æ®æµä¸­åˆ é™¤ç‰¹å®šçš„æ–‡æœ¬è¡Œã€‚ä¾‹å¦‚ï¼š</p><ul><li><p>é€šè¿‡è¡Œå·æŒ‡å®šï¼Œæ¯”å¦‚åˆ é™¤ data6.txt æ–‡ä»¶å†…å®¹ä¸­çš„ç¬¬ 3 è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br><span class="line">[root@localhost ~]# sed &#x27;3d&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…é€šè¿‡ç‰¹å®šè¡ŒåŒºé—´æŒ‡å®šï¼Œæ¯”å¦‚åˆ é™¤ data6.txt æ–‡ä»¶å†…å®¹ä¸­çš„ç¬¬ 2ã€3 è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;2,3d&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure></li><li><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ–‡æœ¬æ¨¡å¼æ¥åˆ é™¤æŸä¸ªåŒºé—´å†…çš„è¡Œï¼Œä½†è¿™ä¹ˆåšæ—¶è¦å°å¿ƒï¼Œä½ æŒ‡å®šçš„ç¬¬ä¸€ä¸ªæ¨¡å¼ä¼šâ€œæ‰“å¼€â€è¡Œåˆ é™¤åŠŸèƒ½ï¼Œç¬¬äºŒä¸ªæ¨¡å¼ä¼šâ€œå…³é—­â€è¡Œåˆ é™¤åŠŸèƒ½ï¼Œå› æ­¤ï¼Œsed ä¼šåˆ é™¤ä¸¤ä¸ªæŒ‡å®šè¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œï¼ˆåŒ…æ‹¬æŒ‡å®šçš„è¡Œï¼‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#sed &#x27;/1/,/3/d&#x27; data6.txt</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤ç¬¬ 1~3 è¡Œçš„æ–‡æœ¬æ•°æ®</span></span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…é€šè¿‡ç‰¹æ®Šçš„æ–‡ä»¶ç»“å°¾å­—ç¬¦ï¼Œæ¯”å¦‚åˆ é™¤ data6.txt æ–‡ä»¶å†…å®¹ä¸­ç¬¬ 3 è¡Œå¼€å§‹çš„æ‰€æœ‰çš„å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;3,$d&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br></pre></td></tr></table></figure><p>åœ¨æ¬¡å¼ºè°ƒï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ sed å¹¶ä¸ä¼šä¿®æ”¹åŸå§‹æ–‡ä»¶ï¼Œè¿™é‡Œè¢«åˆ é™¤çš„è¡Œåªæ˜¯ä» sed çš„è¾“å‡ºä¸­æ¶ˆå¤±äº†ï¼ŒåŸå§‹æ–‡ä»¶æ²¡åšä»»ä½•æ”¹å˜ã€‚</p></li></ul><p><strong>1.3 sed a å’Œ i æ·»åŠ è„šæœ¬å‘½ä»¤</strong></p><p>a å‘½ä»¤è¡¨ç¤ºåœ¨æŒ‡å®šè¡Œçš„åé¢é™„åŠ ä¸€è¡Œï¼Œi å‘½ä»¤è¡¨ç¤ºåœ¨æŒ‡å®šè¡Œçš„å‰é¢æ’å…¥ä¸€è¡Œï¼Œè¿™é‡Œä¹‹æ‰€ä»¥è¦åŒæ—¶ä»‹ç»è¿™ 2 ä¸ªè„šæœ¬å‘½ä»¤ï¼Œå› ä¸ºå®ƒä»¬çš„åŸºæœ¬æ ¼å¼å®Œå…¨ç›¸åŒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]aï¼ˆæˆ– iï¼‰\æ–°æ–‡æœ¬å†…å®¹</span><br></pre></td></tr></table></figure><p>ä¸‹é¢åˆ†åˆ«å°±è¿™ 2 ä¸ªå‘½ä»¤ï¼Œç»™è¯»è€…ä¸¾å‡ ä¸ªä¾‹å­ã€‚æ¯”å¦‚è¯´ï¼Œå°†ä¸€ä¸ªæ–°è¡Œæ’å…¥åˆ°æ•°æ®æµç¬¬ä¸‰è¡Œå‰ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;3i\</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">This is an inserted line.<span class="string">&#x27; data6.txt</span></span></span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is an inserted line.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure><p>å†æ¯”å¦‚è¯´ï¼Œå°†ä¸€ä¸ªæ–°è¡Œé™„åŠ åˆ°æ•°æ®æµä¸­ç¬¬ä¸‰è¡Œåï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;3a\</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">This is an appended line.<span class="string">&#x27; data6.txt</span></span></span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is an appended line.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³å°†ä¸€ä¸ªå¤šè¡Œæ•°æ®æ·»åŠ åˆ°æ•°æ®æµä¸­ï¼Œåªéœ€å¯¹è¦æ’å…¥æˆ–é™„åŠ çš„æ–‡æœ¬ä¸­çš„æ¯ä¸€è¡Œæœ«å°¾ï¼ˆé™¤æœ€åä¸€è¡Œï¼‰æ·»åŠ åæ–œçº¿å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;1i\</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">This is one line of new text.\</span></span><br><span class="line"><span class="language-bash">&gt; This is another line of new text.<span class="string">&#x27; data6.txt</span></span></span><br><span class="line">This is one line of new text.</span><br><span class="line">This is another line of new text.</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼ŒæŒ‡å®šçš„ä¸¤è¡Œéƒ½ä¼šè¢«æ·»åŠ åˆ°æ•°æ®æµä¸­ã€‚</p><p><strong>1.4 sed c æ›¿æ¢è„šæœ¬å‘½ä»¤</strong></p><p>c å‘½ä»¤è¡¨ç¤ºå°†æŒ‡å®šè¡Œä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œæ›¿æ¢æˆè¯¥é€‰é¡¹åé¢çš„å­—ç¬¦ä¸²ã€‚è¯¥å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]c\ç”¨äºæ›¿æ¢çš„æ–°æ–‡æœ¬</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;3c\</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">This is a changed line of text.<span class="string">&#x27; data6.txt</span></span></span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is a changed line of text.</span><br><span class="line">This is line number 4.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œsed ç¼–è¾‘å™¨ä¼šä¿®æ”¹ç¬¬ä¸‰è¡Œä¸­çš„æ–‡æœ¬ï¼Œå…¶å®ï¼Œä¸‹é¢çš„å†™æ³•ä¹Ÿå¯ä»¥å®ç°æ­¤ç›®çš„ï¼š</span></span></span><br><span class="line">[root@localhost ~]# sed &#x27;/number 3/c\</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">This is a changed line of text.&#x27;</span> data6.txt</span></span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is a changed line of text.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure><p><strong>1.5 sed y è½¬æ¢è„šæœ¬å‘½ä»¤</strong></p><p>y è½¬æ¢å‘½ä»¤æ˜¯å”¯ä¸€å¯ä»¥å¤„ç†å•ä¸ªå­—ç¬¦çš„ sed è„šæœ¬å‘½ä»¤ï¼Œå…¶åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]y/inchars/outchars/</span><br></pre></td></tr></table></figure><p>è½¬æ¢å‘½ä»¤ä¼šå¯¹ inchars å’Œ outchars å€¼è¿›è¡Œä¸€å¯¹ä¸€çš„æ˜ å°„ï¼Œå³ inchars ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¼šè¢«è½¬æ¢ä¸º outchars ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¼šè¢«è½¬æ¢æˆ outchars ä¸­çš„ç¬¬äºŒä¸ªå­—ç¬¦â€¦è¿™ä¸ªæ˜ å°„è¿‡ç¨‹ä¼šä¸€ç›´æŒç»­åˆ°å¤„ç†å®ŒæŒ‡å®šå­—ç¬¦ã€‚å¦‚æœ inchars å’Œ outchars çš„é•¿åº¦ä¸åŒï¼Œåˆ™ sed ä¼šäº§ç”Ÿä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚ä¸¾ä¸ªç®€å•ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;y/123/789/&#x27; data8.txt</span><br><span class="line">This is line number 7.</span><br><span class="line">This is line number 8.</span><br><span class="line">This is line number 9.</span><br><span class="line">This is line number 4.</span><br><span class="line">This is line number 7 again.</span><br><span class="line">This is yet another line.</span><br><span class="line">This is the last line in the file.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œinchars æ¨¡å¼ä¸­æŒ‡å®šå­—ç¬¦çš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šè¢«æ›¿æ¢æˆ outchars æ¨¡å¼ä¸­ç›¸åŒä½ç½®çš„é‚£ä¸ªå­—ç¬¦ã€‚ è½¬æ¢å‘½ä»¤æ˜¯ä¸€ä¸ªå…¨å±€å‘½ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¼šå°†æ–‡æœ¬è¡Œä¸­æ‰¾åˆ°çš„æ‰€æœ‰æŒ‡å®šå­—ç¬¦è‡ªåŠ¨è¿›è¡Œè½¬æ¢ï¼Œè€Œä¸ä¼šè€ƒè™‘å®ƒä»¬å‡ºç°çš„ä½ç½®ï¼Œå†æ‰“ä¸ªæ¯”æ–¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# echo &quot;This 1 is a test of 1 try.&quot; | sed &#x27;y/123/456/&#x27;</span><br><span class="line">This 4 is a test of 4 try.</span><br></pre></td></tr></table></figure><p>sed è½¬æ¢äº†åœ¨æ–‡æœ¬è¡Œä¸­åŒ¹é…åˆ°çš„å­—ç¬¦ â€˜1â€™ çš„ä¸¤ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æ— æ³•é™å®šåªè½¬æ¢åœ¨ç‰¹å®šåœ°æ–¹å‡ºç°çš„å­—ç¬¦ã€‚</p><p><strong>1.6 sed p æ‰“å°è„šæœ¬å‘½ä»¤</strong></p><p>p å‘½ä»¤è¡¨ç¤ºæœç´¢åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„è¡Œï¼Œå¹¶è¾“å‡ºè¯¥è¡Œçš„å†…å®¹ï¼Œæ­¤å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]p</span><br></pre></td></tr></table></figure><p>p å‘½ä»¤å¸¸è§çš„ç”¨æ³•æ˜¯æ‰“å°åŒ…å«åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„è¡Œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br><span class="line">[root@localhost ~]# sed -n &#x27;/number 3/p&#x27; data6.txt</span><br><span class="line">This is line number 3.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç”¨ -n é€‰é¡¹å’Œ p å‘½ä»¤é…åˆä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¦æ­¢è¾“å‡ºå…¶ä»–è¡Œï¼Œåªæ‰“å°åŒ…å«åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„è¡Œã€‚ å¦‚æœéœ€è¦åœ¨ä¿®æ”¹ä¹‹å‰æŸ¥çœ‹è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ‰“å°å‘½ä»¤ï¼Œæ¯”å¦‚ä¸æ›¿æ¢æˆ–ä¿®æ”¹å‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªè„šæœ¬åœ¨ä¿®æ”¹è¡Œä¹‹å‰æ˜¾ç¤ºè¯¥è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed -n &#x27;/3/&#123;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">p</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/line/test/p</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;<span class="string">&#x27; data6.txt</span></span></span><br><span class="line">This is line number 3.</span><br><span class="line">This is test number 3.</span><br></pre></td></tr></table></figure><p>sed å‘½ä»¤ä¼šæŸ¥æ‰¾åŒ…å«æ•°å­— 3 çš„è¡Œï¼Œç„¶åæ‰§è¡Œä¸¤æ¡å‘½ä»¤ã€‚é¦–å…ˆï¼Œè„šæœ¬ç”¨ p å‘½ä»¤æ¥æ‰“å°å‡ºåŸå§‹è¡Œï¼›ç„¶åå®ƒç”¨ s å‘½ä»¤æ›¿æ¢æ–‡æœ¬ï¼Œå¹¶ç”¨ p æ ‡è®°æ‰“å°å‡ºæ›¿æ¢ç»“æœã€‚è¾“å‡ºåŒæ—¶æ˜¾ç¤ºäº†åŸæ¥çš„è¡Œæ–‡æœ¬å’Œæ–°çš„è¡Œæ–‡æœ¬ã€‚</p><p><strong>1.7 sed w å†™å…¥æ–‡ä»¶è„šæœ¬å‘½ä»¤</strong></p><p>w å‘½ä»¤ç”¨æ¥å°†æ–‡æœ¬ä¸­æŒ‡å®šè¡Œçš„å†…å®¹å†™å…¥æ–‡ä»¶ä¸­ï¼Œæ­¤å‘½ä»¤çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]w filename</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„ filename è¡¨ç¤ºæ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼Œä½†ä¸ç®¡æ˜¯å“ªç§ï¼Œè¿è¡Œ sed å‘½ä»¤çš„ç”¨æˆ·éƒ½å¿…é¡»æœ‰æ–‡ä»¶çš„å†™æƒé™ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯å°†æ•°æ®æµä¸­çš„å‰ä¸¤è¡Œæ‰“å°åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;1,2w test.txt&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br><span class="line">[root@localhost ~]# cat test.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œå¦‚æœä¸æƒ³è®©è¡Œç›´æ¥è¾“å‡ºï¼Œå¯ä»¥ç”¨ -n é€‰é¡¹ï¼Œå†ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data11.txt</span><br><span class="line">Blum, R       Browncoat</span><br><span class="line">McGuiness, A  Alliance</span><br><span class="line">Bresnahan, C  Browncoat</span><br><span class="line">Harken, C     Alliance</span><br><span class="line">[root@localhost ~]# sed -n &#x27;/Browncoat/w Browncoats.txt&#x27; data11.txt</span><br><span class="line">[root@localhost ~]# cat Browncoats.txt</span><br><span class="line">Blum, R       Browncoat</span><br><span class="line">Bresnahan, C  Browncoat</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä½¿ç”¨ w è„šæœ¬å‘½ä»¤ï¼Œsed å¯ä»¥å®ç°å°†åŒ…å«æ–‡æœ¬æ¨¡å¼çš„æ•°æ®è¡Œå†™å…¥ç›®æ ‡æ–‡ä»¶ã€‚</p><p><strong>1.8 sed r è¯»å–æ–‡ä»¶è„šæœ¬å‘½ä»¤</strong></p><p>r å‘½ä»¤ç”¨äºå°†ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶çš„æ•°æ®æ’å…¥åˆ°å½“å‰æ•°æ®æµçš„æŒ‡å®šä½ç½®ï¼Œè¯¥å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]r filename</span><br></pre></td></tr></table></figure><p>sed å‘½ä»¤ä¼šå°† filename æ–‡ä»¶ä¸­çš„å†…å®¹æ’å…¥åˆ° address æŒ‡å®šè¡Œçš„åé¢ï¼Œæ¯”å¦‚è¯´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data12.txt</span><br><span class="line">This is an added line.</span><br><span class="line">This is the second added line.</span><br><span class="line">[root@localhost ~]# sed &#x27;3r data12.txt&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is an added line.</span><br><span class="line">This is the second added line.</span><br><span class="line">This is line number 4.</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³å°†æŒ‡å®šæ–‡ä»¶ä¸­çš„æ•°æ®æ’å…¥åˆ°æ•°æ®æµçš„æœ«å°¾ï¼Œå¯ä»¥ä½¿ç”¨ $ åœ°å€ç¬¦ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;$r data12.txt&#x27; data6.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br><span class="line">This is line number 3.</span><br><span class="line">This is line number 4.</span><br><span class="line">This is an added line.</span><br><span class="line">This is the second added line.</span><br></pre></td></tr></table></figure><p><strong>1.9 sed q é€€å‡ºè„šæœ¬å‘½ä»¤</strong></p><p>q å‘½ä»¤çš„ä½œç”¨æ˜¯ä½¿ sed å‘½ä»¤åœ¨ç¬¬ä¸€æ¬¡åŒ¹é…ä»»åŠ¡ç»“æŸåï¼Œé€€å‡º sed ç¨‹åºï¼Œä¸å†è¿›è¡Œå¯¹åç»­æ•°æ®çš„å¤„ç†ã€‚ æ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;2q&#x27; test.txt</span><br><span class="line">This is line number 1.</span><br><span class="line">This is line number 2.</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œsed å‘½ä»¤åœ¨æ‰“å°è¾“å‡ºç¬¬ 2 è¡Œä¹‹åï¼Œå°±åœæ­¢äº†ï¼Œæ˜¯ q å‘½ä»¤é€ æˆçš„ï¼Œå†æ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;/number 1/&#123; s/number 1/number 0/;q; &#125;&#x27; test.txt</span><br><span class="line">This is line number 0.</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ q å‘½ä»¤ä¹‹åï¼Œsed å‘½ä»¤ä¼šåœ¨åŒ¹é…åˆ° number 1 æ—¶ï¼Œå°†å…¶æ›¿æ¢æˆ number 0ï¼Œç„¶åç›´æ¥é€€å‡ºã€‚</p><p><strong><a id="anchor_sed01">äºŒã€sed è„šæœ¬å‘½ä»¤çš„å¯»å€æ–¹å¼</a></strong></p><p>å‰é¢åœ¨ä»‹ç»å„ä¸ªè„šæœ¬å‘½ä»¤æ—¶ï¼Œæˆ‘ä»¬ä¸€ç›´å¿½ç•¥äº†å¯¹ address éƒ¨åˆ†çš„ä»‹ç»ã€‚å¯¹å„ä¸ªè„šæœ¬å‘½ä»¤æ¥è¯´ï¼Œaddress ç”¨æ¥è¡¨æ˜è¯¥è„šæœ¬å‘½ä»¤ä½œç”¨åˆ°æ–‡æœ¬ä¸­çš„å…·ä½“è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œsed å‘½ä»¤ä¼šä½œç”¨äºæ–‡æœ¬æ•°æ®çš„æ‰€æœ‰è¡Œã€‚å¦‚æœåªæƒ³å°†å‘½ä»¤ä½œç”¨äºç‰¹å®šè¡Œæˆ–æŸäº›è¡Œï¼Œåˆ™å¿…é¡»å†™æ˜ address éƒ¨åˆ†ï¼Œè¡¨ç¤ºçš„æ–¹æ³•æœ‰ä»¥ä¸‹ 2 ç§ï¼š</p><p>1ã€ä»¥æ•°å­—å½¢å¼æŒ‡å®šè¡ŒåŒºé—´ï¼›</p><p>2ã€ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šå…·ä½“è¡ŒåŒºé—´ã€‚</p><table><thead><tr><th>sedåŒ¹é…èŒƒå›´</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>ç©ºåœ°å€</td><td>å…¨æ–‡å¤„ç†</td></tr><tr><td>å•åœ°å€</td><td>æŒ‡å®šæ–‡ä»¶æŸä¸€è¡Œ</td></tr><tr><td>/pattern/</td><td>è¢«æ¨¡å¼åŒ¹é…åˆ°çš„æ¯ä¸€è¡Œ</td></tr><tr><td>èŒƒå›´åŒºé—´</td><td><code>10,20</code> ååˆ°äºŒåè¡Œï¼Œ  <code>10,+5</code>ç¬¬10è¡Œå‘ä¸‹5è¡Œ     <code>/pattern1/,/pattern2/</code></td></tr><tr><td>æ­¥é•¿</td><td><code>1~2</code>è¡¨ç¤º1ã€3ã€5ã€7ã€9è¡Œï¼Œ   <code>2~2</code>è¡¨ç¤º2ã€4ã€6ã€8ã€10 å¶æ•°è¡Œ</td></tr></tbody></table><p>ä»¥ä¸Šä¸¤ç§å½¢å¼éƒ½å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¿™ 2 ç§æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[address]è„šæœ¬å‘½ä»¤</span><br><span class="line"></span><br><span class="line">æˆ–è€…</span><br><span class="line"></span><br><span class="line">address &#123;</span><br><span class="line">    å¤šä¸ªè„šæœ¬å‘½ä»¤</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸¤ç§å½¢å¼åœ¨å‰é¢ä¾‹å­ä¸­éƒ½æœ‰å…·ä½“å®ä¾‹ï¼Œå› æ­¤è¿™é‡Œä¸å†åšè¿‡å¤šèµ˜è¿°ã€‚</p><p><strong>2.1 ä»¥æ•°å­—å½¢å¼æŒ‡å®šè¡ŒåŒºé—´</strong></p><p>å½“ä½¿ç”¨æ•°å­—æ–¹å¼çš„è¡Œå¯»å€æ—¶ï¼Œå¯ä»¥ç”¨è¡Œåœ¨æ–‡æœ¬æµä¸­çš„è¡Œä½ç½®æ¥å¼•ç”¨ã€‚sed ä¼šå°†æ–‡æœ¬æµä¸­çš„ç¬¬ä¸€è¡Œç¼–å·ä¸º 1ï¼Œç„¶åç»§ç»­æŒ‰é¡ºåºä¸ºæ¥ä¸‹æ¥çš„è¡Œåˆ†é…è¡Œå·ã€‚åœ¨è„šæœ¬å‘½ä»¤ä¸­ï¼ŒæŒ‡å®šçš„åœ°å€å¯ä»¥æ˜¯å•ä¸ªè¡Œå·ï¼Œæˆ–æ˜¯ç”¨èµ·å§‹è¡Œå·ã€é€—å·ä»¥åŠç»“å°¾è¡Œå·æŒ‡å®šçš„ä¸€å®šåŒºé—´èŒƒå›´å†…çš„è¡Œã€‚è¿™é‡Œä¸¾ä¸€ä¸ª sed å‘½ä»¤ä½œç”¨åˆ°æŒ‡å®šè¡Œå·çš„ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#sed &#x27;2s/dog/cat/&#x27; data1.txt</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œsed åªä¿®æ”¹åœ°å€æŒ‡å®šçš„ç¬¬äºŒè¡Œçš„æ–‡æœ¬ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ä½¿ç”¨äº†è¡Œåœ°å€åŒºé—´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;2,3s/dog/cat/&#x27; data1.txt</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¦‚æœæƒ³å°†å‘½ä»¤ä½œç”¨åˆ°æ–‡æœ¬ä¸­ä»æŸè¡Œå¼€å§‹çš„<strong>æ‰€æœ‰è¡Œ</strong>ï¼Œå¯ä»¥ç”¨ç‰¹æ®Šåœ°å€â€”â€”ç¾å…ƒç¬¦ï¼ˆ$ï¼‰ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;2,$s/dog/cat/&#x27; data1.txt</span><br><span class="line">The quick brown fox jumps over the lazy dog</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br><span class="line">The quick brown fox jumps over the lazy cat</span><br></pre></td></tr></table></figure><p><strong>2.2 ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šè¡ŒåŒºé—´</strong></p><p>sed å…è®¸æŒ‡å®šæ–‡æœ¬æ¨¡å¼æ¥è¿‡æ»¤å‡ºå‘½ä»¤è¦ä½œç”¨çš„è¡Œï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/pattern/command</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¿…é¡»ç”¨**<font style="background:green;">æ­£æ–œçº¿</font>**å°†è¦æŒ‡å®šçš„ pattern å°èµ·æ¥ï¼Œsed ä¼šå°†è¯¥å‘½ä»¤ä½œç”¨åˆ°åŒ…å«æŒ‡å®šæ–‡æœ¬æ¨¡å¼çš„è¡Œä¸Šã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æƒ³åªä¿®æ”¹ç”¨æˆ· demo çš„é»˜è®¤ shellï¼Œå¯ä»¥ä½¿ç”¨ sed å‘½ä»¤ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep demo /etc/passwd</span><br><span class="line">demo:x:502:502::/home/Samantha:/bin/bash</span><br><span class="line">[root@localhost ~]# sed &#x27;/demo/s/bash/csh/&#x27; /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">...</span><br><span class="line">demo:x:502:502::/home/demo:/bin/csh</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è™½ç„¶ä½¿ç”¨å›ºå®šæ–‡æœ¬æ¨¡å¼èƒ½å¸®ä½ è¿‡æ»¤å‡ºç‰¹å®šçš„å€¼ï¼Œå°±è·Ÿä¸Šé¢è¿™ä¸ªç”¨æˆ·åçš„ä¾‹å­ä¸€æ ·ï¼Œä½†å…¶ä½œç”¨éš¾å…æœ‰é™ï¼Œå› æ­¤ï¼Œsed å…è®¸åœ¨æ–‡æœ¬æ¨¡å¼ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‡æ˜ä½œç”¨çš„å…·ä½“è¡Œã€‚æ­£åˆ™è¡¨è¾¾å¼å…è®¸åˆ›å»ºé«˜çº§æ–‡æœ¬æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼æ¥åŒ¹é…å„ç§æ•°æ®ã€‚è¿™äº›è¡¨è¾¾å¼ç»“åˆäº†ä¸€ç³»åˆ—é€šé…ç¬¦ã€ç‰¹æ®Šå­—ç¬¦ä»¥åŠå›ºå®šæ–‡æœ¬å­—ç¬¦æ¥ç”Ÿæˆèƒ½å¤ŸåŒ¹é…å‡ ä¹ä»»ä½•å½¢å¼æ–‡æœ¬çš„ç®€ç»ƒæ¨¡å¼ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat test.txt</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;title&gt;First Wed&lt;/title&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">h1Helloh1</span><br><span class="line">h2Helloh2</span><br><span class="line">h3Helloh3</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨æ­£åˆ™è¡¨ç¤ºå¼ç»™æ‰€æœ‰ç¬¬ä¸€ä¸ªçš„h1ã€h2ã€h3æ·»åŠ &lt;&gt;ï¼Œç»™ç¬¬äºŒä¸ªh1ã€h2ã€h3æ·»åŠ &lt;/&gt;</span></span><br><span class="line">[root@localhost ~]# cat sed.sh</span><br><span class="line">/h[0-9]/&#123;</span><br><span class="line">    s//\&lt;&amp;\&gt;/1</span><br><span class="line">    s//\&lt;\/&amp;\&gt;/2</span><br><span class="line">&#125;</span><br><span class="line">[root@localhost ~]# sed -f sed.sh test.txt</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;title&gt;First Wed&lt;/title&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Hello&lt;/h1&gt;</span><br><span class="line">&lt;h2&gt;Hello&lt;/h2&gt;</span><br><span class="line">&lt;h3&gt;Hello&lt;/h3&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š åœ¨ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œâ€œh[0-9]â€ æ¥åŒ¹é… h1ã€h2ã€h3ï¼ŒåŒ¹é…åˆ°ä¹‹åï¼ŒæŠŠhå‰é¢çš„ç©ºç™½æ›¿æ¢æˆ&lt;&gt;ï¼Œç„¶å&amp;è¡¨ç¤ºå°†æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹(h1ã€h2ã€h3)æ›¿æ¢åˆ°æ­¤å¤„ï¼Œæœ€ç»ˆçš„å½¢å¼ä¸º<code>&lt;h1&gt;ã€&lt;h2&gt;ã€&lt;h3&gt;</code>ï¼Œç¬¬äºŒä¸ªæ›¿æ¢å‘½ä»¤åŸç†ä¹Ÿæ˜¯è¿™æ ·ã€‚</p><p><strong>ä¸‰ã€sedå¤šè¡Œå‘½ä»¤</strong></p><p>åœ¨å­¦ä¹  sed å‘½ä»¤çš„åŸºç¡€åŠŸèƒ½æ—¶ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°äº†ä¸€ä¸ªå±€é™ï¼Œå³æ‰€æœ‰çš„ sed å‘½ä»¤éƒ½åªæ˜¯é’ˆå¯¹å•è¡Œæ•°æ®æ‰§è¡Œæ“ä½œï¼Œåœ¨ sed å‘½ä»¤è¯»å–ç¼“å†²åŒºä¸­çš„æ–‡æœ¬æ•°æ®æ—¶ï¼Œå®ƒä¼šåŸºäºæ¢è¡Œç¬¦çš„ä½ç½®ï¼Œå°†æ•°æ®åˆ†æˆè¡Œï¼Œsed ä¼šæ ¹æ®å®šä¹‰å¥½çš„è„šæœ¬å‘½ä»¤ä¸€æ¬¡å¤„ç†ä¸€è¡Œæ•°æ®ã€‚ ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦å¯¹è·¨å¤šè¡Œçš„æ•°æ®æ‰§è¡Œç‰¹å®šæ“ä½œã€‚æ¯”å¦‚è¯´ï¼Œåœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾ä¸€ä¸²å­—ç¬¦ä¸²&quot;<a href="http://c.biancheng.net">http://c.biancheng.net</a>&quot;ï¼Œå®ƒå¾ˆæœ‰å¯èƒ½å‡ºç°åœ¨ä¸¤è¡Œä¸­ï¼Œæ¯è¡Œå„åŒ…å«å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚è¿™æ—¶ï¼Œå¦‚æœç”¨æ™®é€šçš„ sed ç¼–è¾‘å™¨å‘½ä»¤æ¥å¤„ç†æ–‡æœ¬ï¼Œå°±ä¸å¯èƒ½å‘ç°è¿™ç§è¢«åˆ†å¼€çš„æƒ…å†µã€‚ å¹¸è¿çš„æ˜¯ï¼Œsed å‘½ä»¤çš„è®¾è®¡äººå‘˜å·²ç»è€ƒè™‘åˆ°äº†è¿™ç§æƒ…å†µï¼Œå¹¶è®¾è®¡äº†å¯¹åº”çš„è§£å†³æ–¹æ¡ˆã€‚sed åŒ…å«äº†ä¸‰ä¸ªå¯ç”¨æ¥å¤„ç†å¤šè¡Œæ–‡æœ¬çš„ç‰¹æ®Šå‘½ä»¤ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p>1ã€Next å‘½ä»¤ï¼ˆNï¼‰ï¼šå°†æ•°æ®æµä¸­çš„ä¸‹ä¸€è¡ŒåŠ è¿›æ¥åˆ›å»ºä¸€ä¸ªå¤šè¡Œç»„æ¥å¤„ç†ã€‚</p><p>2ã€Deleteï¼ˆDï¼‰ï¼šåˆ é™¤å¤šè¡Œç»„ä¸­çš„ä¸€è¡Œã€‚</p><p>3ã€Printï¼ˆPï¼‰ï¼šæ‰“å°å¤šè¡Œç»„ä¸­çš„ä¸€è¡Œã€‚</p><p><strong><font style="background:green;">æ³¨æ„ï¼Œä»¥ä¸Šå‘½ä»¤çš„ç¼©å†™ï¼Œéƒ½ä¸ºå¤§å†™ã€‚</font></strong></p><p><strong>3.1 N å¤šè¡Œæ“ä½œå‘½ä»¤</strong></p><p>N å‘½ä»¤ä¼šå°†ä¸‹ä¸€è¡Œæ–‡æœ¬å†…å®¹æ·»åŠ åˆ°ç¼“å†²åŒºå·²æœ‰æ•°æ®ä¹‹åï¼ˆä¹‹é—´ç”¨æ¢è¡Œç¬¦åˆ†éš”ï¼‰ï¼Œä»è€Œä½¿å‰åä¸¤ä¸ªæ–‡æœ¬è¡ŒåŒæ—¶ä½äºç¼“å†²åŒºä¸­ï¼Œsed å‘½ä»¤ä¼šå°†è¿™ä¸¤è¡Œæ•°æ®å½“æˆä¸€è¡Œæ¥å¤„ç†ã€‚ ä¸‹é¢è¿™ä¸ªä¾‹å­æ¼”ç¤ºçš„ N å‘½ä»¤çš„åŠŸèƒ½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data2.txt</span><br><span class="line">This is the header line.</span><br><span class="line">This is the first data line.</span><br><span class="line">This is the second data line.</span><br><span class="line">This is the last line.</span><br><span class="line">[root@localhost ~]# sed &#x27;/first/&#123; N ; s/\n/ / &#125;&#x27; data2.txt</span><br><span class="line">This is the header line.</span><br><span class="line">This is the first data line. This is the second data line.</span><br><span class="line">This is the last line.</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œsed å‘½ä»¤æŸ¥æ‰¾å«æœ‰å•è¯ first çš„é‚£è¡Œæ–‡æœ¬ï¼Œæ‰¾åˆ°ä¹‹åï¼Œä¼šç”¨Nå‘½ä»¤å°†ä¸‹ä¸€è¡Œä¹Ÿæ”¾å…¥ç¼“å†²åŒºä¸­(ä¹‹é—´ç”¨æ¢è¡Œç¬¦åˆ†éš”)ï¼ŒæŠŠä¸¤è¡Œå½“æˆä¸€è¡Œæ¥å¤„ç†ï¼Œç„¶åç”¨æ›¿æ¢å‘½ä»¤så°†æ¢è¡Œç¬¦æ›¿æ¢æˆç©ºæ ¼ã€‚ç»“æœå°±æ˜¯ï¼Œæ–‡æœ¬æ–‡ä»¶ä¸­çš„ä¸¤è¡Œåœ¨sedçš„è¾“å‡ºä¸­æˆäº†1è¡Œã€‚å¦‚æœè¦åœ¨æ•°æ®æ–‡ä»¶ä¸­æŸ¥æ‰¾ä¸€ä¸ªå¯èƒ½ä¼šåˆ†æ•£åœ¨ä¸¤è¡Œä¸­çš„æ–‡æœ¬çŸ­è¯­ï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿè¿™é‡Œç»™å¤§å®¶ä¸€ä¸ªå®ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data3.txt</span><br><span class="line">On Tuesday, the Linux System</span><br><span class="line">Administrator&#x27;s group meeting will be held.</span><br><span class="line">All System Administrators should attend.</span><br><span class="line">Thank you for your attendance.</span><br><span class="line">[root@localhost ~]# sed &#x27;N ; s/System Administrator/Desktop User/&#x27; data3.txt</span><br><span class="line">On Tuesday, the Linux Desktop User&#x27;s group meeting will be held.</span><br><span class="line">All Desktop Users should attend.</span><br><span class="line">Thank you for your attendance.</span><br></pre></td></tr></table></figure><p>ç”¨Nå‘½ä»¤å°†å‘ç°ç¬¬ä¸€ä¸ªå•è¯çš„é‚£è¡Œå’Œä¸‹ä¸€è¡Œåœ¨ç¼“å†²åŒºåˆå¹¶å(ä¹‹é—´ç”¨æ¢è¡Œç¬¦åˆ†éš”)ï¼Œå³ä½¿çŸ­è¯­å†…å‡ºç°äº†æ¢è¡Œï¼Œä»ç„¶å¯ä»¥æ‰¾åˆ°å®ƒï¼Œè¿™æ˜¯å› ä¸ºï¼Œæ›¿æ¢å‘½ä»¤åœ¨ System å’Œ Administratorä¹‹é—´ç”¨äº†é€šé…ç¬¦ï¼ˆ.ï¼‰æ¥åŒ¹é…ç©ºæ ¼å’Œæ¢è¡Œç¬¦è¿™ä¸¤ç§æƒ…å†µã€‚ä½†å½“å®ƒåŒ¹é…äº†æ¢è¡Œç¬¦æ—¶ï¼Œå®ƒå°±ä»å­—ç¬¦ä¸²ä¸­åˆ æ‰äº†æ¢è¡Œç¬¦ï¼Œå¯¼è‡´ä¸¤è¡Œåˆå¹¶æˆä¸€è¡Œã€‚è¿™å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥åœ¨ sed è„šæœ¬ä¸­ç”¨ä¸¤ä¸ªæ›¿æ¢å‘½ä»¤ï¼Œä¸€ä¸ªç”¨æ¥åŒ¹é…çŸ­è¯­å‡ºç°åœ¨å¤šè¡Œä¸­çš„æƒ…å†µï¼Œä¸€ä¸ªç”¨æ¥åŒ¹é…çŸ­è¯­å‡ºç°åœ¨å•è¡Œä¸­çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;N</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/System\nAdministrator/Desktop\nUser/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/System Administrator/Desktop User/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27; data3.txt</span></span></span><br><span class="line">On Tuesday, the Linux Desktop</span><br><span class="line">User&#x27;s group meeting will be held.</span><br><span class="line">All Desktop Users should attend.</span><br><span class="line">Thank you for your attendance.</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤ä¸“é—¨æŸ¥æ‰¾ç±»ä¼¼è¿™æ ·çš„çŸ­è¯­ï¼šâ€˜System\nAdministratorâ€™ï¼Œå³â€˜Systemâ€™å’Œâ€˜Administratorâ€™ä¸åœ¨åŒä¸€è¡Œçš„æƒ…å†µï¼Œå¹¶ç”¨â€˜Desktop\nUserâ€™æ¥æ›¿æ¢ã€‚è¿™æ ·å°±å¯ä»¥åšåˆ°ï¼šæ‰¾åˆ°è·¨è¡Œçš„çŸ­è¯­å¹¶ç”¨è·¨è¡Œçš„çŸ­è¯­æ¥æ›¿æ¢ã€‚æ‰€ä»¥è¾“å‡ºçš„æ—¶å€™ï¼Œâ€˜Desktopâ€™å’Œâ€˜Userâ€™ä»åœ¨ä¸¤è¡Œä¸­ã€‚</p><p>ä½†è¿™ä¸ªè„šæœ¬ä¸­ä»æœ‰ä¸ªå°é—®é¢˜ï¼Œå³å®ƒæ€»æ˜¯åœ¨æ‰§è¡Œ sed å‘½ä»¤å‰å°†ä¸‹ä¸€è¡Œæ–‡æœ¬è¯»å…¥åˆ°ç¼“å†²åŒºä¸­ï¼Œå½“å®ƒåˆ°äº†æœ€åä¸€è¡Œæ–‡æœ¬æ—¶ï¼Œå°±æ²¡æœ‰ä¸‹ä¸€è¡Œå¯è¯»äº†ï¼Œæ­¤æ—¶ N å‘½ä»¤ä¼šå« sed ç¨‹åºåœæ­¢ï¼Œè¿™å°±å¯¼è‡´ï¼Œå¦‚æœè¦åŒ¹é…çš„æ–‡æœ¬æ­£å¥½åœ¨æœ€åä¸€è¡Œä¸­ï¼Œsed å‘½ä»¤å°†ä¸ä¼šå‘ç°è¦åŒ¹é…çš„æ•°æ®ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ï¼Œå°†å•è¡Œå‘½ä»¤æ”¾åˆ° N å‘½ä»¤å‰é¢ï¼Œå°†å¤šè¡Œå‘½ä»¤æ”¾åˆ° N å‘½ä»¤åé¢ï¼Œåƒè¿™æ ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/System\nAdministrator/Desktop\nUser/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">N</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/System Administrator/Desktop User/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27; data3.txt</span></span></span><br><span class="line">On Tuesday, the Linux Desktop</span><br><span class="line">User&#x27;s group meeting will be held.</span><br><span class="line">All Desktop Users should attend.</span><br><span class="line">Thank you for your attendance.</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼ŒæŸ¥æ‰¾å•è¡Œä¸­çŸ­è¯­çš„æ›¿æ¢å‘½ä»¤åœ¨æ•°æ®æµçš„åä¸€è¡Œä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œå¤šè¡Œæ›¿æ¢å‘½ä»¤åˆ™ä¼šè´Ÿè´£çŸ­è¯­å‡ºç°åœ¨æ•°æ®æµä¸­é—´çš„æƒ…å†µã€‚</p><p><strong>3.2 D å¤šè¡Œåˆ é™¤å‘½ä»¤</strong></p><p>sed ä¸ä»…æä¾›äº†å•è¡Œåˆ é™¤å‘½ä»¤ï¼ˆdï¼‰ï¼Œä¹Ÿæä¾›äº†å¤šè¡Œåˆ é™¤å‘½ä»¤ Dï¼Œå…¶ä½œç”¨æ˜¯åªåˆ é™¤ç¼“å†²åŒºä¸­çš„ç¬¬ä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒD å‘½ä»¤å°†ç¼“å†²åŒºä¸­ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦ï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦ï¼‰ä¹‹å‰çš„å†…å®¹åˆ é™¤æ‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data4.txt</span><br><span class="line">On Tuesday, the Linux System</span><br><span class="line">Administrator&#x27;s group meeting will be held.</span><br><span class="line">All System Administrators should attend.</span><br><span class="line">[root@localhost ~]# sed &#x27;N ; /System\nAdministrator/D&#x27; data4.txt</span><br><span class="line">Administrator&#x27;s group meeting will be held.</span><br><span class="line">All System Administrators should attend.</span><br></pre></td></tr></table></figure><p>æ–‡æœ¬çš„ç¬¬äºŒè¡Œè¢« N å‘½ä»¤åŠ åˆ°äº†ç¼“å†²åŒºï¼Œå› æ­¤ sed å‘½ä»¤ç¬¬ä¸€æ¬¡åŒ¹é…å°±æ˜¯æˆåŠŸï¼Œè€Œ D å‘½ä»¤ä¼šå°†ç¼“å†²åŒºä¸­ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦ä¹‹å‰ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€è¡Œï¼‰çš„æ•°æ®åˆ é™¤ï¼Œæ‰€ä»¥ï¼Œå¾—åˆ°äº†å¦‚ä¸Šæ‰€ç¤ºçš„ç»“æœã€‚ ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå®ƒä¼šåˆ é™¤æ•°æ®æµä¸­å‡ºç°åœ¨ç¬¬ä¸€è¡Œå‰çš„ç©ºç™½è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data5.txt</span><br><span class="line"></span><br><span class="line">This is the header line.</span><br><span class="line">This is a data line.</span><br><span class="line"></span><br><span class="line">This is the last line.</span><br><span class="line">[root@localhost ~]# sed &#x27;/^$/&#123;N ; /header/D&#125;&#x27; data5.txt</span><br><span class="line">This is the header line.</span><br><span class="line">This is a data line.</span><br><span class="line"></span><br><span class="line">This is the last line.</span><br></pre></td></tr></table></figure><p>sedä¼šæŸ¥æ‰¾ç©ºç™½è¡Œï¼Œç„¶åç”¨ N å‘½ä»¤æ¥å°†ä¸‹ä¸€æ–‡æœ¬è¡Œæ·»åŠ åˆ°ç¼“å†²åŒºã€‚æ­¤æ—¶å¦‚æœç¼“å†²åŒºçš„å†…å®¹ä¸­å«æœ‰å•è¯ headerï¼Œåˆ™ D å‘½ä»¤ä¼šåˆ é™¤ç¼“å†²åŒºä¸­çš„ç¬¬ä¸€è¡Œï¼Œå³ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦(åŒ…æ‹¬æ¢è¡Œç¬¦)ä¹‹å‰çš„å†…å®¹ã€‚</p><p><strong>3.3 P å¤šè¡Œæ‰“å°å‘½ä»¤</strong></p><p>åŒ d å’Œ D ä¹‹é—´çš„åŒºåˆ«ä¸€æ ·ï¼ŒPï¼ˆå¤§å†™ï¼‰å‘½ä»¤å’Œå•è¡Œæ‰“å°å‘½ä»¤ pï¼ˆå°å†™ï¼‰ä¸åŒï¼Œå¯¹äºå…·æœ‰å¤šè¡Œæ•°æ®çš„ç¼“å†²åŒºæ¥è¯´ï¼Œå®ƒåªä¼šæ‰“å°ç¼“å†²åŒºä¸­çš„ç¬¬ä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯é¦–ä¸ªæ¢è¡Œç¬¦ä¹‹å‰çš„æ‰€æœ‰å†…å®¹ã€‚ä¾‹å¦‚ï¼Œtest.txt æ–‡ä»¶ä¸­çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat test.txt</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line">ddd</span><br><span class="line">eee</span><br><span class="line">fff</span><br></pre></td></tr></table></figure><p>ä¸‹è¡¨æ˜¯å¯¹ test.txt æ–‡ä»¶ä¸­çš„å†…å®¹åˆ†åˆ«ç”¨ p å‘½ä»¤å’Œ P å‘½ä»¤åï¼Œäº§ç”Ÿçš„è¾“å‡ºä¿¡æ¯çš„å¯¹æ¯”ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/1701765-20210906153326927-1710229205.png" alt="img"></p><p>ç¬¬ä¸€ä¸ª sed å‘½ä»¤ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨ N å°†ä¸‹ä¸€è¡Œå†…å®¹è¿½åŠ åˆ°ç¼“å†²åŒºå†…å®¹çš„åé¢ï¼ˆç”¨æ¢è¡Œç¬¦é—´éš”ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå‘½ä»¤æ—¶ç¼“å†²åŒºä¸­çš„å†…å®¹ä¸º aaa\nbbbï¼Œä½† Pï¼ˆå¤§å†™ï¼‰ å‘½ä»¤çš„ä½œç”¨æ˜¯æ‰“å°æ¢è¡Œç¬¦ä¹‹å‰çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ aaaï¼Œä¹‹åæ‰§è¡Œçš„æ˜¯ sed çš„è‡ªåŠ¨è¾“å‡ºåŠŸèƒ½ï¼Œè¾“å‡º aaa å’Œ bbbï¼ˆsed å‘½ä»¤ä¼šè‡ªåŠ¨å°† \n è¾“å‡ºä¸ºæ¢è¡Œï¼‰ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå°±è¾“å‡ºäº†æ‰€çœ‹åˆ°çš„ç»“æœã€‚ç¬¬äºŒä¸ª sed å‘½ä»¤ï¼Œä½¿ç”¨çš„æ˜¯ p ï¼ˆå°å†™ï¼‰å•è¡Œæ‰“å°å‘½ä»¤ï¼Œå®ƒä¼šå°†ç¼“å†²åŒºä¸­çš„æ‰€æœ‰å†…å®¹å…¨éƒ¨æ‰“å°å‡ºæ¥ï¼ˆ\n ä¼šè‡ªåŠ¨è¾“å‡ºä¸ºæ¢è¡Œï¼‰ï¼Œå› æ­¤ï¼Œå°±ä¼šå‡ºç°ä¸Šè¿°ç»“æœã€‚</p><p><strong>å››ã€sedä¿æŒç©ºé—´</strong></p><p>å‰é¢æˆ‘ä»¬ä¸€ç›´è¯´ï¼Œsed å‘½ä»¤å¤„ç†çš„æ˜¯ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå…¶å®è¿™é‡Œçš„ç¼“å†²åŒºï¼Œåº”ç§°ä¸º<strong>æ¨¡å¼ç©ºé—´</strong>ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ¨¡å¼ç©ºé—´å¹¶ä¸æ˜¯ sed å‘½ä»¤ä¿å­˜æ–‡ä»¶çš„å”¯ä¸€ç©ºé—´ã€‚sed è¿˜æœ‰å¦ä¸€å—ç§°ä¸º<strong>ä¿æŒç©ºé—´</strong>çš„ç¼“å†²åŒºåŸŸï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸´æ—¶å­˜å‚¨ä¸€äº›æ•°æ®ã€‚ä¸‹è¡¨åˆ—å‡ºäº† 5 æ¡å¯ç”¨æ¥æ“ä½œä¿æŒç©ºé—´çš„å‘½ä»¤ã€‚</p><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>h</td><td>å°†æ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹å¤åˆ¶åˆ°ä¿æŒç©ºé—´</td></tr><tr><td>H</td><td>å°†æ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹é™„åŠ åˆ°ä¿æŒç©ºé—´</td></tr><tr><td>g</td><td>å°†ä¿æŒç©ºé—´ä¸­çš„å†…å®¹å¤åˆ¶åˆ°æ¨¡å¼ç©ºé—´</td></tr><tr><td>G</td><td>å°†ä¿æŒç©ºé—´ä¸­çš„å†…å®¹é™„åŠ åˆ°æ¨¡å¼ç©ºé—´</td></tr><tr><td>x</td><td>äº¤æ¢æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´ä¸­çš„å†…å®¹</td></tr></tbody></table><p>é€šå¸¸ï¼Œåœ¨ä½¿ç”¨ h æˆ– H å‘½ä»¤å°†å­—ç¬¦ä¸²ç§»åŠ¨åˆ°ä¿æŒç©ºé—´åï¼Œæœ€ç»ˆè¿˜è¦ç”¨ gã€G æˆ– x å‘½ä»¤å°†ä¿å­˜çš„å­—ç¬¦ä¸²ç§»å›æ¨¡å¼ç©ºé—´ã€‚ä¿æŒç©ºé—´æœ€ç›´æ¥çš„ä½œç”¨æ˜¯ï¼Œä¸€æ—¦æˆ‘ä»¬å°†æ¨¡å¼ç©ºé—´ä¸­æ‰€æœ‰çš„æ–‡ä»¶å¤åˆ¶åˆ°ä¿æŒç©ºé—´ä¸­ï¼Œå°±å¯ä»¥æ¸…ç©ºæ¨¡å¼ç©ºé—´æ¥åŠ è½½å…¶ä»–è¦å¤„ç†çš„æ–‡æœ¬å†…å®¹ã€‚ç”±äºæœ‰ä¸¤ä¸ªç¼“å†²åŒºåŸŸï¼Œä¸‹é¢çš„ä¾‹å­ä¸­æ¼”ç¤ºäº†å¦‚ä½•ç”¨ h å’Œ g å‘½ä»¤æ¥å°†æ•°æ®åœ¨ sed ç¼“å†²åŒºä¹‹é—´ç§»åŠ¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data2.txt</span><br><span class="line">This is the header line.</span><br><span class="line">This is the first data line.</span><br><span class="line">This is the second data line.</span><br><span class="line">This is the last line.</span><br><span class="line">[root@localhost ~]# sed -n &#x27;/first/&#123;h;p;n;p;g;p;&#125;&#x27; data2.txt</span><br><span class="line">This is the first data line.</span><br><span class="line">This is the second data line.</span><br><span class="line">This is the first data line.</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­çš„è¿è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ul><li><p>sedè„šæœ¬å‘½ä»¤ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤å‡ºå«æœ‰å•è¯firstçš„è¡Œï¼›</p></li><li><p>å½“å«æœ‰å•è¯ first çš„è¡Œå‡ºç°æ—¶ï¼Œh å‘½ä»¤å°†è¯¥è¡Œæ”¾åˆ°ä¿æŒç©ºé—´ï¼›</p></li><li><p>p å‘½ä»¤æ‰“å°æ¨¡å¼ç©ºé—´ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®è¡Œçš„å†…å®¹ï¼›</p></li><li><p>n å‘½ä»¤æå–æ•°æ®æµä¸­çš„ä¸‹ä¸€è¡Œï¼ˆThis is the second data lineï¼‰ï¼Œå¹¶å°†å®ƒæ”¾åˆ°æ¨¡å¼ç©ºé—´ï¼›</p></li><li><p>p å‘½ä»¤æ‰“å°æ¨¡å¼ç©ºé—´çš„å†…å®¹ï¼Œç°åœ¨æ˜¯ç¬¬äºŒä¸ªæ•°æ®è¡Œï¼›</p></li><li><p>g å‘½ä»¤å°†ä¿æŒç©ºé—´çš„å†…å®¹ï¼ˆThis is the first data lineï¼‰æ”¾å›æ¨¡å¼ç©ºé—´ï¼Œæ›¿æ¢å½“å‰æ–‡æœ¬ï¼›</p></li><li><p>p å‘½ä»¤æ‰“å°æ¨¡å¼ç©ºé—´çš„å½“å‰å†…å®¹ï¼Œç°åœ¨å˜å›ç¬¬ä¸€ä¸ªæ•°æ®è¡Œäº†ã€‚</p></li></ul><p><strong>äº”ã€sedæ”¹å˜æŒ‡å®šæµç¨‹</strong></p><p><strong>5.1 båˆ†æ”¯å‘½ä»¤</strong></p><p>é€šå¸¸ï¼Œsed ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¼šä»ç¬¬ä¸€ä¸ªè„šæœ¬å‘½ä»¤å¼€å§‹ï¼Œä¸€ç›´æ‰§è¡Œåˆ°æœ€åä¸€ä¸ªè„šæœ¬å‘½ä»¤ï¼ˆD å‘½ä»¤æ˜¯ä¸ªä¾‹å¤–ï¼Œå®ƒä¼šå¼ºåˆ¶ sed è¿”å›åˆ°è„šæœ¬çš„é¡¶éƒ¨ï¼Œè€Œä¸è¯»å–æ–°çš„è¡Œï¼‰ã€‚sed æä¾›äº† <strong>b åˆ†æ”¯å‘½ä»¤</strong>æ¥æ”¹å˜å‘½ä»¤è„šæœ¬çš„æ‰§è¡Œæµç¨‹ï¼Œå…¶ç»“æœä¸ç»“æ„åŒ–ç¼–ç¨‹ç±»ä¼¼ã€‚b åˆ†æ”¯å‘½ä»¤åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]b [label]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œaddress å‚æ•°å†³å®šäº†å“ªäº›è¡Œçš„æ•°æ®ä¼šè§¦å‘åˆ†æ”¯å‘½ä»¤ï¼Œlabel å‚æ•°å®šä¹‰äº†è¦è·³è½¬åˆ°çš„ä½ç½®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰åŠ  label å‚æ•°ï¼Œè·³è½¬å‘½ä»¤ä¼šè·³è½¬åˆ°<strong>è„šæœ¬çš„ç»“å°¾</strong>ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data2.txt</span><br><span class="line">This is the header line.</span><br><span class="line">This is the first data line.</span><br><span class="line">This is the second data line.</span><br><span class="line">This is the last line.</span><br><span class="line">[root@localhost ~]# sed &#x27;&#123;2,3b ; s/This is/Is this/ ; s/line./test?/&#125;&#x27; data2.txt</span><br><span class="line">Is this the header test?</span><br><span class="line">This is the first data line.</span><br><span class="line">This is the second data line.</span><br><span class="line">Is this the last test?</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸º b å‘½ä»¤æœªæŒ‡å®š label å‚æ•°ï¼Œå› æ­¤æ•°æ®æµä¸­çš„ç¬¬2è¡Œå’Œç¬¬3è¡Œå¹¶æ²¡æœ‰æ‰§è¡Œé‚£ä¸¤ä¸ªæ›¿æ¢å‘½ä»¤ã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³ç›´æ¥è·³åˆ°è„šæœ¬çš„ç»“å°¾ï¼Œå¯ä»¥ä¸º b å‘½ä»¤æŒ‡å®šä¸€ä¸ªæ ‡ç­¾ï¼ˆä¹Ÿå°±æ˜¯æ ¼å¼ä¸­çš„ labelï¼Œæœ€å¤šä¸º 7 ä¸ªå­—ç¬¦é•¿åº¦ï¼‰ã€‚åœ¨ä½¿ç”¨æ­¤è¯¥æ ‡ç­¾æ—¶ï¼Œè¦ä»¥å†’å·å¼€å§‹ï¼ˆæ¯”å¦‚ :label2ï¼‰ï¼Œå¹¶å°†å…¶æ”¾åˆ°è¦è·³è¿‡çš„è„šæœ¬å‘½ä»¤ä¹‹åã€‚è¿™æ ·ï¼Œå½“ sed å‘½ä»¤åŒ¹é…å¹¶å¤„ç†è¯¥è¡Œæ–‡æœ¬æ—¶ï¼Œä¼šè·³è¿‡æ ‡ç­¾ä¹‹å‰æ‰€æœ‰çš„è„šæœ¬å‘½ä»¤ï¼Œä½†ä¼šæ‰§è¡Œæ ‡ç­¾ä¹‹åçš„è„šæœ¬å‘½ä»¤ã€‚æ¯”å¦‚è¯´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;&#123;/first/b jump1 ; s/This is the/No jump on/</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">:jump1</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/This is the/Jump here on/&#125;<span class="string">&#x27; data2.txt</span></span></span><br><span class="line">No jump on header line</span><br><span class="line">Jump here on first data line</span><br><span class="line">No jump on second data line</span><br><span class="line">No jump on last line</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæ–‡æœ¬è¡Œä¸­å‡ºç°äº† firstï¼Œç¨‹åºçš„æ‰§è¡Œä¼šç›´æ¥è·³åˆ° jump1 æ ‡ç­¾ä¹‹åçš„è„šæœ¬è¡Œã€‚å¦‚æœåˆ†æ”¯å‘½ä»¤çš„æ¨¡å¼æ²¡æœ‰åŒ¹é…ï¼Œsed ä¼šç»§ç»­æ‰§è¡Œæ‰€æœ‰çš„è„šæœ¬å‘½ä»¤ã€‚b åˆ†æ”¯å‘½ä»¤é™¤äº†å¯ä»¥å‘åè·³è½¬ï¼Œè¿˜å¯ä»¥å‘å‰è·³è½¬ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# echo &quot;This, is, a, test, to, remove, commas.&quot; | sed -n &#x27;&#123;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">:start</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/,//1p</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">/,/b start</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;<span class="string">&#x27;</span></span></span><br><span class="line">This is, a, test, to, remove, commas.</span><br><span class="line">This is a, test, to, remove, commas.</span><br><span class="line">This is a test, to, remove, commas.</span><br><span class="line">This is a test to, remove, commas.</span><br><span class="line">This is a test to remove, commas.</span><br><span class="line">This is a test to remove commas.</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ç¼“å†²åŒºä¸­çš„è¡Œå†…å®¹ä¸­æœ‰é€—å·æ—¶ï¼Œè„šæœ¬å‘½ä»¤å°±ä¼šä¸€ç›´å¾ªç¯æ‰§è¡Œï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ é™¤æ–‡æœ¬ä¸­çš„ç¬¬ä¸€ä¸ªé€—å·ï¼Œå¹¶æ‰“å°å­—ç¬¦ä¸²ï¼Œç›´è‡³å†…å®¹ä¸­æ²¡æœ‰é€—å·ã€‚</p><p>5.2 tæµ‹è¯•å‘½ä»¤</p><p>ç±»ä¼¼äº b åˆ†æ”¯å‘½ä»¤ï¼Œt å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥æ”¹å˜ sed è„šæœ¬çš„æ‰§è¡Œæµç¨‹ã€‚t æµ‹è¯•å‘½ä»¤ä¼šæ ¹æ® s æ›¿æ¢å‘½ä»¤çš„ç»“æœï¼Œå¦‚æœåŒ¹é…å¹¶æ›¿æ¢æˆåŠŸï¼Œåˆ™è„šæœ¬çš„æ‰§è¡Œä¼šè·³è½¬åˆ°æŒ‡å®šçš„æ ‡ç­¾ï¼›åä¹‹ï¼Œt å‘½ä»¤æ— æ•ˆã€‚æµ‹è¯•å‘½ä»¤ä½¿ç”¨ä¸åˆ†æ”¯å‘½ä»¤ç›¸åŒçš„æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[address]t [label]</span><br></pre></td></tr></table></figure><p>è·Ÿåˆ†æ”¯å‘½ä»¤ä¸€æ ·ï¼Œåœ¨æ²¡æœ‰æŒ‡å®šæ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œå¦‚æœ s å‘½ä»¤æ›¿æ¢æˆåŠŸï¼Œsed ä¼šè·³è½¬åˆ°è„šæœ¬çš„ç»“å°¾ï¼ˆç›¸å½“äºä¸æ‰§è¡Œä»»ä½•è„šæœ¬å‘½ä»¤ï¼‰ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;&#123;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/first/matched/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">t</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/This is the/No match on/</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;<span class="string">&#x27; data2.txt</span></span></span><br><span class="line">No match on header line</span><br><span class="line">This is the matched data line</span><br><span class="line">No match on second data line</span><br><span class="line">No match on last line</span><br></pre></td></tr></table></figure><p>æ­¤ä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤ä¼šæŸ¥æ‰¾æ¨¡å¼æ–‡æœ¬ firstï¼Œå¦‚æœåŒ¹é…å¹¶æ›¿æ¢æˆåŠŸï¼Œå‘½ä»¤ä¼šç›´æ¥è·³è¿‡åé¢çš„æ›¿æ¢å‘½ä»¤ï¼›åä¹‹ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ›¿æ¢å‘½ä»¤æœªèƒ½åŒ¹é…æˆåŠŸï¼Œç¬¬äºŒä¸ªæ›¿æ¢å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œã€‚å†ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#  echo &quot;This, is, a, test, to, remove, commas. &quot; | sed -n &#x27;&#123;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">:start</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">s/,//1p</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">t start</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;<span class="string">&#x27;</span></span></span><br><span class="line">This is, a, test, to, remove, commas.</span><br><span class="line">This is a, test, to, remove, commas.</span><br><span class="line">This is a test, to, remove, commas.</span><br><span class="line">This is a test to, remove, commas.</span><br><span class="line">This is a test to remove, commas.</span><br><span class="line">This is a test to remove commas.</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œsedä¼šå…ˆå¯¹æ–‡æœ¬æ‰§è¡Œsæ›¿æ¢æ“ä½œï¼Œå³æŠŠæ¯è¡Œçš„ç¬¬1ä¸ªé€—å·(,)æ›¿æ¢æˆç©ºå­—ç¬¦å¹¶æ‰“å°æœ¬è¡Œã€‚å¦‚æœæ›¿æ¢æ“ä½œæˆåŠŸï¼Œåˆ™ä¼šæ‰§è¡Œtå‘½ä»¤çš„startæ ‡ç­¾ä¸­çš„å‘½ä»¤ï¼Œå³ç»§ç»­æ›¿æ¢é€—å·ï¼Œç›´åˆ°æ–‡æœ¬ä¸­æ²¡æœ‰é€—å·ä¸ºæ­¢ã€‚</p><h4 id="8-3-17-awk">8.3.17 awk</h4><p>å’Œ sed å‘½ä»¤ç±»ä¼¼ï¼Œawk å‘½ä»¤ä¹Ÿæ˜¯é€è¡Œæ‰«ææ–‡ä»¶ï¼ˆä»ç¬¬ 1 è¡Œåˆ°æœ€åä¸€è¡Œï¼‰ï¼Œå¯»æ‰¾å«æœ‰ç›®æ ‡æ–‡æœ¬çš„è¡Œï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ä¼šåœ¨è¯¥è¡Œä¸Šæ‰§è¡Œç”¨æˆ·æƒ³è¦çš„æ“ä½œï¼›åä¹‹ï¼Œåˆ™ä¸å¯¹è¡Œåšä»»ä½•å¤„ç†ã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# awk [options] &#x27;pattern&#123;action&#125;&#x27; file</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-F &quot;fs&quot;</code></td><td>æŒ‡å®šä»¥ fs ä½œä¸ºè¾“å…¥è¡Œçš„åˆ†éš”ç¬¦ï¼Œawk å‘½ä»¤é»˜è®¤åˆ†éš”ç¬¦ä¸ºç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚</td></tr><tr><td><code>-f file</code></td><td>ä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å– awk è„šæœ¬æŒ‡ä»¤ï¼Œä»¥å–ä»£ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥æŒ‡ä»¤ã€‚</td></tr><tr><td><code>-v var=val</code></td><td>åœ¨æ‰§è¡Œå¤„ç†è¿‡ç¨‹ä¹‹å‰ï¼Œè®¾ç½®ä¸€ä¸ªå˜é‡ varï¼Œå¹¶ç»™å…¶è®¾å¤‡åˆå§‹å€¼ä¸º valã€‚</td></tr></tbody></table><ul><li><p>å†…ç½®å˜é‡ <code>-v var</code></p><table><thead><tr><th>å†…ç½®å˜é‡</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>FS</td><td>è¾“å…¥å­—æ®µåˆ†éš”ç¬¦ï¼Œ é»˜è®¤ä¸ºç©ºç™½å­—ç¬¦</td></tr><tr><td>OFS</td><td>è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œ é»˜è®¤ä¸ºç©ºç™½å­—ç¬¦</td></tr><tr><td>RS</td><td>è¾“å…¥è®°å½•åˆ†éš”ç¬¦(è¾“å…¥æ¢è¡Œç¬¦)ï¼Œ æŒ‡å®šè¾“å…¥æ—¶çš„æ¢è¡Œç¬¦</td></tr><tr><td>ORS</td><td>è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼ˆè¾“å‡ºæ¢è¡Œç¬¦ï¼‰ï¼Œè¾“å‡ºæ—¶ç”¨æŒ‡å®šç¬¦å·ä»£æ›¿æ¢è¡Œç¬¦</td></tr><tr><td>NF</td><td>NFï¼šnumber of Fieldï¼Œå½“å‰è¡Œçš„å­—æ®µçš„ä¸ªæ•°(å³å½“å‰è¡Œè¢«åˆ†å‰²æˆäº†å‡ åˆ—)ï¼Œå­—æ®µæ•°é‡</td></tr><tr><td>NR</td><td>NRï¼šè¡Œå·ï¼Œå½“å‰å¤„ç†çš„æ–‡æœ¬è¡Œçš„è¡Œå·ã€‚</td></tr><tr><td>FNR</td><td>FNRï¼šå„æ–‡ä»¶åˆ†åˆ«è®¡æ•°çš„è¡Œå·</td></tr><tr><td>FILENAME</td><td>FILENAMEï¼šå½“å‰æ–‡ä»¶å</td></tr><tr><td>ARGC</td><td>ARGCï¼šå‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°</td></tr><tr><td>ARGV</td><td>ARGVï¼šæ•°ç»„ï¼Œä¿å­˜çš„æ˜¯å‘½ä»¤è¡Œæ‰€ç»™å®šçš„å„å‚æ•°</td></tr></tbody></table></li></ul></li></ul><p>awk çš„å¼ºå¤§ä¹‹å¤„åœ¨äºè„šæœ¬å‘½ä»¤ï¼Œå®ƒç”± 2 éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«ä¸ºåŒ¹é…è§„åˆ™å’Œæ‰§è¡Œå‘½ä»¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;åŒ¹é…è§„åˆ™&#123;æ‰§è¡Œå‘½ä»¤&#125;&#x27;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„åŒ¹é…è§„åˆ™ï¼Œå’Œ sed å‘½ä»¤ä¸­çš„ address éƒ¨åˆ†ä½œç”¨ç›¸åŒï¼Œç”¨æ¥æŒ‡å®šè„šæœ¬å‘½ä»¤å¯ä»¥ä½œç”¨åˆ°æ–‡æœ¬å†…å®¹ä¸­çš„å…·ä½“è¡Œï¼Œå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚ /demo/ï¼Œè¡¨ç¤ºæŸ¥çœ‹å«æœ‰ demo å­—ç¬¦ä¸²çš„è¡Œï¼‰æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼æŒ‡å®šã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•´ä¸ªè„šæœ¬å‘½ä»¤æ˜¯ç”¨å•å¼•å·ï¼ˆâ€˜â€™ï¼‰æ‹¬èµ·ï¼Œè€Œå…¶ä¸­çš„æ‰§è¡Œå‘½ä»¤éƒ¨åˆ†éœ€è¦ç”¨å¤§æ‹¬å·ï¼ˆ{}ï¼‰æ‹¬èµ·æ¥ã€‚</p><p>åœ¨ awk ç¨‹åºæ‰§è¡Œæ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ‰§è¡Œå‘½ä»¤ï¼Œåˆ™é»˜è®¤ä¼šæŠŠåŒ¹é…çš„è¡Œè¾“å‡ºï¼›å¦‚æœä¸æŒ‡å®šåŒ¹é…è§„åˆ™ï¼Œåˆ™é»˜è®¤åŒ¹é…æ–‡æœ¬ä¸­æ‰€æœ‰çš„è¡Œã€‚</p><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# awk &#x27;/^$/ &#123;print &quot;Blank line&quot;&#125;&#x27; test.txt</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤å‘½ä»¤ä¸­ï¼Œ<code>/^$/</code> æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŠŸèƒ½æ˜¯åŒ¹é…æ–‡æœ¬ä¸­çš„ç©ºç™½è¡Œï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°ï¼Œæ‰§è¡Œå‘½ä»¤ä½¿ç”¨çš„æ˜¯ print å‘½ä»¤ï¼Œæ­¤å‘½ä»¤ç»å¸¸ä¼šä½¿ç”¨ï¼Œå®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼Œå°±æ˜¯å°†æŒ‡å®šçš„æ–‡æœ¬è¿›è¡Œè¾“å‡ºã€‚å› æ­¤ï¼Œæ•´ä¸ªå‘½ä»¤çš„åŠŸèƒ½æ˜¯ï¼Œå¦‚æœ test.txt æœ‰ N ä¸ªç©ºç™½è¡Œï¼Œé‚£ä¹ˆæ‰§è¡Œæ­¤å‘½ä»¤ä¼šè¾“å‡º N ä¸ª Blank lineã€‚</p><p><strong>ä¸€ã€awk ä½¿ç”¨æ•°æ®å­—æ®µå˜é‡</strong></p><p>awk çš„ä¸»è¦ç‰¹æ€§ä¹‹ä¸€æ˜¯å…¶å¤„ç†æ–‡æœ¬æ–‡ä»¶ä¸­æ•°æ®çš„èƒ½åŠ›ï¼Œå®ƒä¼šè‡ªåŠ¨ç»™ä¸€è¡Œä¸­çš„æ¯ä¸ªæ•°æ®å…ƒç´ åˆ†é…ä¸€ä¸ªå˜é‡ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œawk ä¼šå°†å¦‚ä¸‹å˜é‡åˆ†é…ç»™å®ƒåœ¨æ–‡æœ¬è¡Œä¸­å‘ç°çš„æ•°æ®å­—æ®µï¼š</p><ul><li><p>$0 ä»£è¡¨æ•´ä¸ªæ–‡æœ¬è¡Œï¼›</p></li><li><p>$1 ä»£è¡¨æ–‡æœ¬è¡Œä¸­çš„ç¬¬ 1 ä¸ªæ•°æ®å­—æ®µ(åˆ—)ï¼›</p></li><li><p>$2 ä»£è¡¨æ–‡æœ¬è¡Œä¸­çš„ç¬¬ 2 ä¸ªæ•°æ®å­—æ®µï¼›</p></li><li><p>$n ä»£è¡¨æ–‡æœ¬è¡Œä¸­çš„ç¬¬ n ä¸ªæ•°æ®å­—æ®µã€‚</p></li><li><p>$NF å­—æ®µæ•°é‡å˜é‡</p></li><li><p>$NR æ¯è¡Œçš„è®°å½•å·ï¼Œå¤šæ–‡ä»¶è®°å½•é€’å¢</p></li><li><p>$FNR ä¸NRç±»ä¼¼ï¼Œä¸è¿‡å¤šæ–‡ä»¶è®°å½•ä¸é€’å¢ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä»1å¼€å§‹</p></li></ul><p>å‰é¢è¯´è¿‡ï¼Œåœ¨ awk ä¸­ï¼Œé»˜è®¤çš„å­—æ®µåˆ†éš”ç¬¦æ˜¯ä»»æ„çš„ç©ºç™½å­—ç¬¦ï¼ˆä¾‹å¦‚ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼‰ã€‚ åœ¨æ–‡æœ¬è¡Œä¸­ï¼Œæ¯ä¸ªæ•°æ®å­—æ®µéƒ½æ˜¯é€šè¿‡å­—æ®µåˆ†éš”ç¬¦åˆ’åˆ†çš„ã€‚awk åœ¨è¯»å–ä¸€è¡Œæ–‡æœ¬æ—¶ï¼Œä¼šç”¨é¢„å®šä¹‰çš„å­—æ®µåˆ†éš”ç¬¦åˆ’åˆ†æ¯ä¸ªæ•°æ®å­—æ®µã€‚</p><p>æ‰€ä»¥åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œawk ç¨‹åºè¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œåªæ˜¾ç¤ºç¬¬ 1 ä¸ªæ•°æ®å­—æ®µçš„å€¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data2.txt</span><br><span class="line">One line of test text.</span><br><span class="line">Two lines of test text.</span><br><span class="line">Three lines of test text.</span><br><span class="line">[root@localhost ~]# awk &#x27;&#123;print $1&#125;&#x27; data2.txt</span><br><span class="line">One</span><br><span class="line">Two</span><br><span class="line">Three</span><br></pre></td></tr></table></figure><p>è¯¥ç¨‹åºç”¨ $1 å­—æ®µå˜é‡æ¥è¡¨ç¤ºâ€œä»…æ˜¾ç¤ºæ¯è¡Œæ–‡æœ¬çš„ç¬¬ 1 ä¸ªæ•°æ®å­—æ®µâ€ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¦è¯»å–é‡‡ç”¨äº†å…¶ä»–å­—æ®µåˆ†éš”ç¬¦çš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ -F é€‰é¡¹æ‰‹åŠ¨æŒ‡å®šã€‚</p><p><strong>äºŒã€awk è„šæœ¬å‘½ä»¤ä½¿ç”¨å¤šä¸ªå‘½ä»¤</strong></p><p>awk å…è®¸å°†å¤šæ¡å‘½ä»¤ç»„åˆæˆä¸€ä¸ªæ­£å¸¸çš„ç¨‹åºã€‚è¦åœ¨å‘½ä»¤è¡Œä¸Šçš„ç¨‹åºè„šæœ¬ä¸­ä½¿ç”¨å¤šæ¡å‘½ä»¤ï¼Œåªè¦åœ¨å‘½ä»¤ä¹‹é—´æ”¾ä¸ªåˆ†å·å³å¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# echo &quot;My name is Rich&quot; | awk &#x27;&#123;$4=&quot;Christine&quot;; print $0&#125;&#x27;</span><br><span class="line">My name is Christine</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¡å‘½ä»¤ä¼šç»™å­—æ®µå˜é‡ $4 èµ‹å€¼ã€‚ç¬¬äºŒæ¡å‘½ä»¤ä¼šæ‰“å°æ•´ä¸ªæ•°æ®å­—æ®µã€‚å¯ä»¥çœ‹åˆ°ï¼Œawk ç¨‹åºåœ¨è¾“å‡ºä¸­å·²ç»å°†åŸæ–‡æœ¬ä¸­çš„ç¬¬å››ä¸ªæ•°æ®å­—æ®µæ›¿æ¢æˆäº†æ–°å€¼ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä¸€æ¬¡ä¸€è¡Œåœ°è¾“å…¥ç¨‹åºè„šæœ¬å‘½ä»¤ï¼Œæ¯”å¦‚è¯´ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# awk &#x27;&#123;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="variable">$4</span>=<span class="string">&quot;Christine&quot;</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="built_in">print</span> <span class="variable">$0</span>&#125;<span class="string">&#x27;</span></span></span><br><span class="line">My name is Rich</span><br><span class="line">My name is Christine</span><br></pre></td></tr></table></figure><p>åœ¨ä½ ç”¨äº†è¡¨ç¤ºèµ·å§‹çš„å•å¼•å·åï¼Œbash shell ä¼šä½¿ç”¨ &gt; æ¥æç¤ºè¾“å…¥æ›´å¤šæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ¯æ¬¡åœ¨æ¯è¡ŒåŠ ä¸€æ¡å‘½ä»¤ï¼Œç›´åˆ°è¾“å…¥äº†ç»“å°¾çš„å•å¼•å·ã€‚</p><p>æ³¨æ„ï¼Œæ­¤ä¾‹ä¸­å› ä¸ºæ²¡æœ‰åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šæ–‡ä»¶åï¼Œawk ç¨‹åºéœ€è¦ç”¨æˆ·è¾“å…¥è·å¾—æ•°æ®ï¼Œå› æ­¤å½“è¿è¡Œè¿™ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œå®ƒä¼šä¸€ç›´ç­‰ç€ç”¨æˆ·è¾“å…¥æ–‡æœ¬ï¼Œæ­¤æ—¶å¦‚æœè¦é€€å‡ºç¨‹åºï¼Œåªéœ€æŒ‰ä¸‹ Ctrl+D ç»„åˆé”®å³å¯ã€‚</p><p><strong>ä¸‰ã€awkä»æ–‡ä»¶ä¸­è¯»å–ç¨‹åº</strong></p><p>è·Ÿ sed ä¸€æ ·ï¼Œawk å…è®¸å°†è„šæœ¬å‘½ä»¤å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åå†åœ¨å‘½ä»¤è¡Œä¸­å¼•ç”¨ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat awk.sh</span><br><span class="line">&#123;print $1 &quot;&#x27;s home directory is &quot; $6&#125;</span><br><span class="line">[root@localhost ~]# awk -F: -f awk.sh /etc/passwd</span><br><span class="line">root&#x27;s home directory is /root</span><br><span class="line">bin&#x27;s home directory is /bin</span><br><span class="line">daemon&#x27;s home directory is /sbin</span><br><span class="line">adm&#x27;s home directory is /var/adm</span><br><span class="line">lp&#x27;s home directory is /var/spool/lpd</span><br><span class="line">...</span><br><span class="line">Christine&#x27;s home directory is /home/Christine</span><br><span class="line">Samantha&#x27;s home directory is /home/Samantha</span><br><span class="line">Timothy&#x27;s home directory is /home/Timothy</span><br></pre></td></tr></table></figure><p><a href="http://awk.sh">awk.sh</a> è„šæœ¬æ–‡ä»¶ä¼šä½¿ç”¨ print å‘½ä»¤æ‰“å° /etc/passwd æ–‡ä»¶çš„ä¸»ç›®å½•æ•°æ®å­—æ®µï¼ˆå­—æ®µå˜é‡ $6ï¼‰ï¼Œä»¥åŠ userid æ•°æ®å­—æ®µï¼ˆå­—æ®µå˜é‡ $1ï¼‰ã€‚æ³¨æ„ï¼Œåœ¨ç¨‹åºæ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå¤šæ¡å‘½ä»¤ï¼Œåªè¦ä¸€æ¡å‘½ä»¤æ”¾ä¸€è¡Œå³å¯ï¼Œä¹‹é—´ä¸éœ€è¦ç”¨åˆ†å·ã€‚</p><p><strong>å››ã€awk BEGINå…³é”®å­—</strong></p><p>é€šå¸¸ï¼Œå¯¹äºæ¯ä¸ªè¾“å…¥è¡Œï¼Œ awk éƒ½ä¼šæ‰§è¡Œè„šæœ¬ä»£ç å—ä¸€æ¬¡ã€‚ç„¶è€Œï¼Œåœ¨è®¸å¤šç¼–ç¨‹æƒ…å†µä¸­ï¼Œå¯èƒ½éœ€è¦åœ¨å¤„ç†æ•°æ®å‰è¿è¡Œä¸€äº›è„šæœ¬å‘½ä»¤ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨ BEGIN å…³é”®å­—ã€‚BEGIN ä¼šå¼ºåˆ¶ awk åœ¨è¯»å–æ•°æ®å‰æ‰§è¡Œè¯¥å…³é”®å­—åæŒ‡å®šçš„è„šæœ¬å‘½ä»¤(BEGINåé¢çš„å‘½ä»¤åªæ‰§è¡Œä¸€æ¬¡)ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat data3.txt</span><br><span class="line">Line 1</span><br><span class="line">Line 2</span><br><span class="line">Line 3</span><br><span class="line">[root@localhost ~]# awk &#x27;BEGIN &#123;print &quot;The data3 File Contents:&quot;&#125;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="built_in">print</span> <span class="variable">$0</span>&#125;<span class="string">&#x27; data3.txt</span></span></span><br><span class="line">The data3 File Contents:</span><br><span class="line">Line 1</span><br><span class="line">Line 2</span><br><span class="line">Line 3</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„è„šæœ¬å‘½ä»¤ä¸­åˆ†ä¸º 2 ä¸ªéƒ¨åˆ†ï¼ŒBEGIN éƒ¨åˆ†çš„è„šæœ¬æŒ‡ä»¤ä¼šåœ¨ awk å‘½ä»¤å¤„ç†æ•°æ®å‰è¿è¡Œï¼Œè€ŒçœŸæ­£ç”¨æ¥å¤„ç†æ•°æ®çš„æ˜¯ç¬¬äºŒæ®µè„šæœ¬å‘½ä»¤ã€‚</p><p><strong>äº”ã€awk ENDå…³é”®å­—</strong></p><p>å’Œ BEGIN å…³é”®å­—ç›¸å¯¹åº”ï¼ŒEND å…³é”®å­—å…è®¸æˆ‘ä»¬æŒ‡å®šä¸€äº›è„šæœ¬å‘½ä»¤ï¼Œawk ä¼šåœ¨è¯»å®Œæ•°æ®åæ‰§è¡Œå®ƒä»¬ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# awk &#x27;BEGIN &#123;print &quot;The data3 File Contents:&quot;&#125;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="built_in">print</span> <span class="variable">$0</span>&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">END &#123;<span class="built_in">print</span> <span class="string">&quot;End of File&quot;</span>&#125;<span class="string">&#x27; data3.txt</span></span></span><br><span class="line">The data3 File Contents:</span><br><span class="line">Line 1</span><br><span class="line">Line 2</span><br><span class="line">Line 3</span><br><span class="line">End of File</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“ awk ç¨‹åºæ‰“å°å®Œæ–‡ä»¶å†…å®¹åï¼Œæ‰ä¼šæ‰§è¡Œ END ä¸­çš„è„šæœ¬å‘½ä»¤ã€‚</p><p><strong>å…­ã€æ¡ä»¶æ“ä½œç¬¦</strong></p><p>æ¡ä»¶æ“ä½œç¬¦æœ‰ï¼š&lt;ã€&lt;=ã€==ã€!=ã€&gt;=ã€~åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ã€!~ä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</p><p>åŒ¹é…:<code>awk '&#123;if ($4~/ASIMA/) print $0&#125;' temp.txt</code> è¡¨ç¤ºå¦‚æœç¬¬å››ä¸ªæ•°æ®å­—æ®µåŒ…å«ASIMAï¼Œå°±æ‰“å°æ•´è¡Œæ•°æ®</p><p>ç²¾ç¡®åŒ¹é…:awk â€˜$3==â€œ48â€ {print $0}â€™ temp.txt è¡¨ç¤ºåªæ‰“å°ç¬¬3ä¸ªæ•°æ®å­—æ®µç­‰äº&quot;48&quot;çš„è®°å½•</p><p>ä¸åŒ¹é…: awk â€˜$0 !~ /ASIMA/â€™ temp.txt  è¡¨ç¤ºæ‰“å°æ•´æ¡ä¸åŒ…å«ASIMAçš„è®°å½•</p><p>ä¸ç­‰äº: awk â€˜$1 != â€œasimaâ€â€™ temp.txt  è¡¨ç¤ºæ‰“å°ç¬¬1ä¸ªæ•°æ®å­—æ®µä¸ç­‰äº&quot;asima&quot;çš„è®°å½•</p><p>å°äº: awk â€˜{if ($1&lt;$2) print $1 â€œis smallerâ€}â€™ temp.txt  è¡¨ç¤ºå¦‚æœç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µå°äºç¬¬äºŒä¸ªæ•°æ®å­—æ®µï¼Œåˆ™æ‰“å°ç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µ+â€œis smallerâ€</p><p>è®¾ç½®å¤§å°å†™: awk â€˜/[Gg]reen/â€™ temp.txt  è¡¨ç¤ºæ‰“å°æ•´æ¡åŒ…å«Greenï¼Œæˆ–è€…greençš„è®°å½•</p><p>ä»»æ„å­—ç¬¦: awk â€˜$1 ~/^â€¦a/â€™ temp.txt  è¡¨ç¤ºæ‰“å°ç¬¬1ä¸ªæ•°æ®å­—æ®µä¸­ç¬¬å››ä¸ªå­—ç¬¦æ˜¯açš„è®°å½•ï¼Œç¬¦å·â€™^â€™ä»£è¡¨è¡Œé¦–ï¼Œç¬¦åˆâ€™.â€™ä»£è¡¨ä»»æ„å­—ç¬¦</p><p>æˆ–å…³ç³»åŒ¹é…: awk â€˜$0~/(abc)|(efg)/â€™ temp.txt   è¡¨ç¤ºæ‰“å°æ•´è¡Œæ•°æ®åŒ¹é…â€œabcâ€æˆ–â€œefgâ€çš„è®°å½•ï¼Œä½¿ç”¨|æ—¶ï¼Œè¯­å¥éœ€è¦æ‹¬èµ·æ¥</p><p>ANDä¸å…³ç³»:<code>awk '&#123;if ( $1==&quot;a&quot; &amp;&amp; $2==&quot;b&quot; ) print $0&#125;' temp.txt</code> è¡¨ç¤ºå¦‚æœç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µç­‰äºâ€œaâ€å¹¶ä¸”ç¬¬äºŒä¸ªæ•°æ®å­—æ®µç­‰äºâ€œbâ€ï¼Œåˆ™æ‰“å°è¯¥è¡Œæ•°æ®</p><p>ORæˆ–å…³ç³»: awk â€˜{if ($1==â€œaâ€ || $1==â€œbâ€) print $0}â€™ temp.txt  è¡¨ç¤ºå¦‚æœç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µç­‰äºâ€œaâ€æˆ–è€…ç¬¬äºŒä¸ªæ•°æ®å­—æ®µç­‰äºâ€œbâ€ï¼Œåˆ™æ‰“å°è¯¥è¡Œæ•°æ®</p><p><strong>ä¸ƒã€awkå†…ç½®å˜é‡</strong></p><table><thead><tr><th>ARGC</th><th>å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°</th><th>NF</th><th>å½“å‰è¡Œçš„æ•°æ®å­—æ®µä¸ªæ•°</th></tr></thead><tbody><tr><td>AGRV</td><td>å‘½ä»¤è¡Œå‚æ•°æ’åˆ—</td><td>NR</td><td>å·²è¯»çš„è®°å½•æ•°ï¼Œå³è¡Œå·ï¼Œä»1å¼€å§‹(ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªè®°å½•ï¼Œä¸€ä¸ªè®°å½•æœ‰è‹¥å¹²ä¸ªå­—æ®µ/åŸŸ)</td></tr><tr><td>ENVIRON</td><td>æ”¯æŒé˜Ÿåˆ—ä¸­ç³»ç»Ÿç¯å¢ƒå˜é‡çš„ä½¿ç”¨</td><td>OFS</td><td>è¾“å‡ºæ•°æ®å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤ä¸ºç©ºæ ¼)</td></tr><tr><td>FILENAME</td><td>awkæµè§ˆçš„æ–‡ä»¶å</td><td>ORS</td><td>è¾“å‡ºè®°å½•åˆ†éš”ç¬¦(é»˜è®¤ä¸ºæ¢è¡Œç¬¦)</td></tr><tr><td>FNR</td><td>æµè§ˆæ–‡ä»¶çš„è®°å½•æ•°</td><td>RS</td><td>è®°å½•åˆ†éš”ç¬¦(é»˜è®¤æ˜¯æ¢è¡Œç¬¦)</td></tr><tr><td>FS</td><td>è®¾ç½®è¾“å…¥åŸŸåˆ†éš”ç¬¦ï¼ŒåŒ<code>-F</code>é€‰é¡¹</td><td></td><td></td></tr></tbody></table><p>ä¸‹å›¾è¯´æ˜äº†å‡ ä¸ªå†…ç½®å˜é‡çš„å«ä¹‰ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/1701765-20210919173809187-1016993733.png" alt="img"></p><p>ä¸¾å‡ ä¸ªå®ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹1ï¼šåœ¨æœ€åæ‰“å°æ–‡ä»¶çš„è¡Œæ•°</span></span><br><span class="line">âœ  test awk &#x27;END &#123;print NR&#125;&#x27; data2.txt</span><br><span class="line">4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹2ï¼šå…ˆè¾“å‡ºè¡Œå·ï¼Œå†è¾“å‡ºæœ¬è¡Œæœ‰å‡ ä¸ªæ•°æ®å­—æ®µï¼Œå†è¾“å‡ºæœ¬è¡Œï¼Œæœ€åè¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">âœ  test awk &#x27;&#123;print NR,NF,$0&#125; END &#123;print FILENAME&#125;&#x27; data2.txt</span><br><span class="line">1 6 line1:This is the header line 1.</span><br><span class="line">2 7 line2:This is the first data line 2.</span><br><span class="line">3 7 line3:This is the second data line 3.</span><br><span class="line">4 6 line4:This is the last line 4.</span><br><span class="line">data2.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹3ï¼šè¡Œæ•°&gt;0ï¼Œå¹¶ä¸”ç¬¬4ä¸ªæ•°æ®å­—æ®µå’Œ/last/æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œå°±è¾“å‡ºè¯¥è¡Œ</span></span><br><span class="line">âœ  test awk &#x27;&#123;if (NR&gt;0 &amp;&amp; $4~/last/) print $0&#125;&#x27; data2.txt</span><br><span class="line">line4:This is the last line 4.</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹4ï¼šæ˜¾ç¤ºå½“å‰ç›®å½•å</span></span><br><span class="line">âœ  test echo $PWD</span><br><span class="line">/home/baichunyu.bcy/test</span><br><span class="line">âœ  test echo $PWD | awk -F / &#x27;&#123;print $NF&#125;&#x27;</span><br><span class="line">test</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹5ï¼šä¿®æ”¹å­—æ®µåˆ†éš”ç¬¦ä¸º\t</span></span><br><span class="line">âœ  test cat test.txt</span><br><span class="line">ww   CC        IDD</span><br><span class="line">âœ  test awk &#x27;BEGIN &#123;FS=&quot;\t+&quot;&#125; &#123;print $1,$2,$3&#125;&#x27; test.txt   #æŠŠå­—æ®µåˆ†éš”ç¬¦ä¿®æ”¹ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåˆ¶è¡¨ç¬¦ </span><br><span class="line">ww   CC        IDD</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®ä¾‹6ï¼šä¿®æ”¹å­—æ®µåˆ†éš”ç¬¦çš„å¦ä¸€ç§æ–¹å¼</span></span><br><span class="line">âœ  test cat hello.txt</span><br><span class="line">root:x::0 0:root:/root:/bin/bash</span><br><span class="line">âœ  test awk -F &#x27;[ :/]+&#x27; &#x27;&#123;print $1,$2,$3,$4&#125; END&#123;print NF&#125;&#x27; hello.txt  #æŠŠå­—æ®µåˆ†éš”ç¬¦ä¿®æ”¹ä¸º1ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ã€å†’å·ã€æ–œæ (é‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼)</span><br><span class="line">root x 0 0</span><br><span class="line">8</span><br></pre></td></tr></table></figure><p><strong>å…«ã€awkå†…ç½®å­—ç¬¦ä¸²å‡½æ•°</strong></p><ul><li><p>gsub(rï¼Œs)ã€€ã€€å«ä¹‰ï¼šåœ¨æ•´ä¸ª$0ä¸­ç”¨sæ›¿ä»£r</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;gsub(/name/ï¼Œ&quot;xiaoming&quot;) &#123;print $0&#125;&#x27; temp.txtã€€ã€€# åœ¨temp.txtä¸­æŠŠæ¯è¡Œä¸­çš„nameæ›¿æ¢æˆxiaomingï¼Œå¹¶æ‰“å°è¯¥è¡Œ</span><br></pre></td></tr></table></figure></li><li><p>gsub(rï¼Œsï¼Œt)ã€€ã€€å«ä¹‰ï¼šåœ¨æ•´ä¸ªtä¸­ç”¨sæ›¿ä»£r</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">âœ  test cat data2.txt</span><br><span class="line">line1:This is the header line 1.</span><br><span class="line">line2:This is the first data line 2.</span><br><span class="line">line3:This is the second data line 3.</span><br><span class="line">line4:This is the last line 4.</span><br><span class="line"></span><br><span class="line">âœ  test awk &#x27;gsub(/line/,&quot;hang&quot;,$5) &#123;print $0&#125;&#x27; data2.txt    # åœ¨data2.txtæ–‡ä»¶ä¸­ï¼ŒæŠŠæ¯è¡Œçš„ç¬¬5ä¸ªåŸŸä¸­çš„lineæ›¿æ¢æˆhangï¼Œå¦‚æœæ›¿æ¢æˆåŠŸåˆ™æ‰“å°è¯¥è¡Œ</span><br><span class="line">line1:This is the header hang 1.</span><br><span class="line">line4:This is the last hang 4. </span><br></pre></td></tr></table></figure></li><li><p>index(sï¼Œt)ã€€ã€€å«ä¹‰ï¼šè¿”å›sä¸­å­—ç¬¦ä¸²tçš„ç¬¬ä¸€ä½ç½®(ä¸‹æ ‡ä»1å¼€å§‹è®¡ç®—)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;print index(&quot;Sunny&quot;,&quot;ny&quot;)&#125;&#x27; temp.txt</span><br><span class="line">4</span><br></pre></td></tr></table></figure></li><li><p>length(s)ã€€ã€€å«ä¹‰ï¼šè¿”å›sçš„é•¿åº¦</p></li><li><p>match(sï¼Œr)ã€€ã€€å«ä¹‰ï¼šæµ‹è¯•sä¸­æ˜¯å¦åŒ…å«åŒ¹é…rçš„å­—ç¬¦ä¸²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;$1=&quot;J.Lulu&quot; &#123;print match($1,&quot;u&quot;)&#125;&#x27; temp.txt   # å› ä¸ºtemp.txtä¸­æœ‰ä¸¤è¡Œï¼Œéå†æ¯ä¸€è¡Œæ—¶ï¼Œéƒ½æŠŠ$1èµ‹å€¼ä¸º&quot;J.Lulu&quot;ï¼Œéƒ½åŒ…å«&quot;u&quot;ï¼Œå› æ­¤è¾“å‡ºä¸¤ä¸ª4ï¼Œä»£è¡¨&quot;J.Lulu&quot;ä¸­åŒ…å«&quot;u&quot;</span><br><span class="line">4</span><br><span class="line">4</span><br></pre></td></tr></table></figure></li><li><p>split(sï¼Œaï¼Œfs)ã€€ã€€å«ä¹‰ï¼šç”¨fsæŠŠsåˆ†å‰²æˆåºåˆ—a</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;print split(&quot;12#345#6789&quot;,arr,&quot;#&quot;);print arr[1];print arr[2];print arr[3]&#125;&#x27; temp.txt</span><br><span class="line">3</span><br><span class="line">12</span><br><span class="line">345</span><br><span class="line">6789#ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œprint split(&quot;12#345#6789&quot;ï¼Œarrï¼Œ&quot;#&quot;)ï¼Œè¾“å‡º3ï¼Œå³arrçš„é•¿åº¦ï¼ŒåŒæ—¶arr[1]=&quot;12&quot;ï¼Œ arr[2]=&quot;345&quot;ï¼Œ arr[3]=&quot;6789&quot;   (è¯¥åºåˆ—ä¸‹æ ‡ä»1å¼€å§‹è®¡ç®—)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">âœ  test awk &#x27;BEGIN&#123;info=&quot;this is a test&quot;;split(info,tA,&quot; &quot;);print length(tA);for(k in tA)&#123;print k,tA[k];&#125;&#125;&#x27;</span><br><span class="line">4</span><br><span class="line">1 this</span><br><span class="line">2 is</span><br><span class="line">3 a</span><br><span class="line">4 test#ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œåˆ†å‰²å­—ç¬¦ä¸²åˆ°æ•°ç»„tAä¸­ï¼Œforå¾ªç¯ä¼šè‡ªåŠ¨éå†æ•°ç»„ï¼Œå…¶ä¸­kæ˜¯æ•°ç»„ä¸‹æ ‡ï¼Œä¼šè‡ªåŠ¨å¢åŠ ã€‚</span><br></pre></td></tr></table></figure></li><li><p>sprint(fmtï¼Œexp)ã€€ã€€å«ä¹‰ï¼šè¿”å›ç»fmtæ ¼å¼åŒ–åçš„exp</p></li><li><p>sub(rï¼Œs)ã€€ã€€å«ä¹‰ï¼šåœ¨$0ä¸­ç”¨sæ›¿æ¢ç¬¬ä¸€ä¸ªr</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">âœ  test cat data2.txt</span><br><span class="line">line1:This is the header line 1.</span><br><span class="line">line2:This is the first data line 2.</span><br><span class="line">line3:This is the second data line 3.</span><br><span class="line">line4:This is the last line 4.</span><br><span class="line">âœ  test awk &#x27;sub(/line/,&quot;hang&quot;) &#123;print $0&#125;&#x27; data2.txt    # æŠŠæ¯è¡Œä¸­ç¬¬ä¸€ä¸ªlineæ›¿æ¢æˆhangï¼Œå¹¶æ‰“å°è¯¥è¡Œ</span><br><span class="line">hang1:This is the header line 1.</span><br><span class="line">hang2:This is the first data line 2.</span><br><span class="line">hang3:This is the second data line 3.</span><br><span class="line">hang4:This is the last line 4.</span><br></pre></td></tr></table></figure></li><li><p>substr(str,from,[num])ã€€ã€€å«ä¹‰ï¼šä»strä¸­æˆªå–å­ä¸²ï¼Œè¯¥å­ä¸²ä»fromä¸‹æ ‡å¼€å§‹æˆªå–(<strong>strä¸‹æ ‡ä»1å¼€å§‹</strong>)ï¼Œæˆªå–çš„é•¿åº¦ä¸ºnumï¼Œè‹¥æœªæŒ‡å®šnumå‚æ•°ï¼Œåˆ™æˆªå–åˆ°strçš„æœ«å°¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN&#123;print substr(&quot;abcdef&quot;,4)&#125;&#x27; data2.txt</span><br><span class="line">def</span><br><span class="line">âœ  test awk &#x27;BEGIN&#123;print substr(&quot;abcdef&quot;,3,2)&#125;&#x27; data2.txt</span><br><span class="line">cd</span><br></pre></td></tr></table></figure></li><li><p>tolower(str)ã€toupper(str)    å«ä¹‰ï¼šæŠŠstrè½¬ä¸ºå°å†™ã€æŠŠstrè½¬ä¸ºå¤§å†™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN&#123;print tolower(&quot;abcdefAAA&quot;)&#125;&#x27; data2.txt</span><br><span class="line">abcdefaaa</span><br><span class="line">âœ  test awk &#x27;BEGIN&#123;print toupper(&quot;abcdefAAA&quot;)&#125;&#x27; data2.txt</span><br><span class="line">ABCDEFAAA</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä¹ã€printfå‡½æ•°çš„ä½¿ç”¨</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># å­—ç¬¦è½¬æ¢:</span><br><span class="line">âœ  test echo &quot;65&quot;|awk &#x27;&#123;printf &quot;%c\n&quot;,$0&#125;&#x27;</span><br><span class="line">A</span><br><span class="line"></span><br><span class="line"># æ ¼å¼åŒ–è¾“å‡º </span><br><span class="line">âœ  test awk &#x27;BEGIN &#123;printf &quot;%f\n&quot;,999&#125;&#x27; temp.txt</span><br><span class="line">999.000000  </span><br><span class="line">  </span><br><span class="line"># æ ¼å¼åŒ–è¾“å‡º</span><br><span class="line">âœ  test cat temp.txt</span><br><span class="line">my name is bcy.</span><br><span class="line">and you?</span><br><span class="line">âœ  test awk &#x27;&#123;printf &quot;%-15s %s\n&quot;,$1,$2&#125;&#x27; temp.txt</span><br><span class="line">my              name</span><br><span class="line">and             you?</span><br></pre></td></tr></table></figure><p><strong>åã€awkçš„ä¸€äº›å…¶ä»–ç”¨æ³•</strong></p><p><strong>10.1 ç»™å˜é‡èµ‹å€¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä»¥ä¸‹ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥å®ç°ç»™å˜é‡AGEèµ‹å€¼âœ  test awk &#x27;&#123;if ($6&lt;AGE) print $0&#125;&#x27; AGE=10 data2.txt</span><br><span class="line">line1:This is the header line 1.</span><br><span class="line">line4:This is the last line 4.</span><br><span class="line">âœ  test awk -v AGE=10 &#x27;&#123;if ($6&lt;AGE) print $0&#125;&#x27; data2.txt</span><br><span class="line">line1:This is the header line 1.</span><br><span class="line">line4:This is the last line 4.</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥å°†<strong>ç¯å¢ƒå˜é‡</strong>çš„å€¼èµ‹ç»™å˜é‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  test echo $LOGNAME     # è¾“å‡ºç™»å½•å</span><br><span class="line">baichunyu.bcy</span><br><span class="line">âœ  test who | awk &#x27;&#123;if ($1==user) print $1 &quot; are in &quot; $0&#125;&#x27; user=$LOGNAME       # æŠŠç™»å½•åèµ‹å€¼ç»™å˜é‡user</span><br><span class="line">baichunyu.bcy are in baichunyu.bcy pts/1        Sep 17 09:38 (10.78.232.152)</span><br></pre></td></tr></table></figure><p><strong>10.2 åªåˆ—å‡ºæ–‡ä»¶å</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -l | awk &#x27;&#123;print $9&#125;&#x27;      # å¸¸è§„æƒ…å†µæ–‡ä»¶åæ˜¯ç¬¬9åŸŸ</span><br></pre></td></tr></table></figure><p><strong>10.3 awkæ•°ç»„</strong></p><p>awkçš„å¾ªç¯ç»“æ„ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">For (element in array) print array[element]  </span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;record=&quot;123#456#789&quot;;split(record,arr,&quot;#&quot;)&#125; END &#123;for (i in arr) &#123;print arr[i]&quot; i=&quot;i&#125;&#125;&#x27; temp.txt</span><br><span class="line">123 i=1</span><br><span class="line">456 i=2</span><br><span class="line">789 i=3</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°å‘½ä»¤ä¸­ï¼Œåœ¨BEGINä¸­æŠŠrecordåˆ†å‰²æˆæ•°ç»„ï¼Œä¿å­˜åœ¨arrä¸­ï¼Œåœ¨ENDä¸­éå†å¹¶è¾“å‡ºæ•°ç»„arrä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚<strong>iä»1å¼€å§‹è‡ªåŠ¨é€’å¢ï¼Œæ•°ç»„çš„ä¸‹æ ‡ä¹Ÿæ˜¯ä»1å¼€å§‹</strong>ã€‚</p><p><strong>10.4 awkæ­£åˆ™</strong></p><table><thead><tr><th>å…ƒå­—ç¬¦</th><th>åŠŸèƒ½</th><th>ç¤ºä¾‹</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>^</td><td>è¡Œé¦–å®šä½ç¬¦</td><td>/^root/</td><td>åŒ¹é…æ‰€æœ‰ä»¥rootå¼€å¤´çš„è¡Œ</td></tr><tr><td>$</td><td>è¡Œå°¾å®šä½ç¬¦</td><td>/root$/</td><td>åŒ¹é…æ‰€æœ‰ä»¥rootç»“å°¾çš„è¡Œ</td></tr><tr><td>.</td><td>åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦</td><td>/râ€¦t/</td><td>åŒ¹é…å­—æ¯rï¼Œç„¶åä¸¤ä¸ªä»»æ„å­—ç¬¦ï¼Œå†ä»¥tç»“å°¾çš„å•è¯ï¼Œæ¯”å¦‚ï¼šrootã€raatã€rabt</td></tr><tr><td>*</td><td>åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå‰å¯¼å­—ç¬¦</td><td>/a*ool/</td><td>åŒ¹é…0ä¸ªæˆ–å¤šä¸ªaä¹‹åç´§è·Ÿç€oolçš„å•è¯ï¼Œæ¯”å¦‚ï¼šoolã€aoolã€aaaool</td></tr><tr><td>+</td><td>åŒ¹é…1ä¸ªæˆ–å¤šä¸ªå‰å¯¼å­—ç¬¦</td><td>/a+b/</td><td>åŒ¹é…1ä¸ªæˆ–å¤šä¸ªaåŠ bçš„å•è¯ï¼Œæ¯”å¦‚ï¼šabã€aabã€aaaab</td></tr><tr><td>ï¼Ÿ</td><td>åŒ¹é…0ä¸ªæˆ–1ä¸ªå‰å¯¼å­—ç¬¦</td><td>/a?b/</td><td>åŒ¹é…b æˆ– ab</td></tr><tr><td>[]</td><td>åŒ¹é…æŒ‡å®šå­—ç¬¦ç»„å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td><td>/<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>/</td><td>åŒ¹é…ä»¥å­—æ¯aæˆ–bæˆ–cå¼€å¤´çš„å•è¯</td></tr><tr><td>[^]</td><td>åŒ¹é…ä¸åœ¨æŒ‡å®šå­—ç¬¦ç»„å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td><td>/<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>/</td><td>åŒ¹é…ä¸ä»¥å­—æ¯aæˆ–bæˆ–cå¼€å¤´çš„å•è¯</td></tr><tr><td>()</td><td>å­è¡¨è¾¾å¼ç»„åˆ</td><td>/(root)+/</td><td>åŒ¹é…1ä¸ªæˆ–å¤šä¸ªroot</td></tr><tr><td>|</td><td>æˆ–è€…çš„æ„æ€</td><td>/(root)|B/</td><td>åŒ¹é…rootæˆ–è€…B</td></tr><tr><td>\</td><td>è½¬ä¹‰å­—ç¬¦</td><td>/a///</td><td>åŒ¹é…a//</td></tr><tr><td>~å’Œ!~</td><td>åŒ¹é…å’Œä¸åŒ¹é…çš„æ¡ä»¶è¯­å¥</td><td>$1~/root/</td><td>åŒ¹é…ç¬¬ä¸€ä¸ªæ•°æ®å­—æ®µåŒ…å«rootçš„è¡Œ</td></tr><tr><td>x{m}x{m,}x{m,n}</td><td>xé‡å¤mæ¬¡xé‡å¤è‡³å°‘mæ¬¡xé‡å¤è‡³å°‘mæ¬¡ï¼Œä½†ä¸è¶…è¿‡næ¬¡</td><td>/(root){3}//(root){3,}//(root){5,6}/</td><td>åŒ¹é…rootæ­£å¥½å‡ºç°3æ¬¡çš„æƒ…å†µåŒ¹é…rootå‡ºç°è‡³å°‘3æ¬¡çš„æƒ…å†µåŒ¹é…rootå‡ºç°5åˆ°6æ¬¡çš„æƒ…å†µ</td></tr></tbody></table><p>ä¸¾ä¾‹è¯´æ˜ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@Gin scripts]# awk &#x27;/root/&#123;print $0&#125;&#x27; passwd #åŒ¹é…æ‰€æœ‰åŒ…å«rootçš„è¡Œ</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line"> </span><br><span class="line">[root@Gin scripts]# awk -F: &#x27;$5~/root/&#123;print $0&#125;&#x27; passwd  #ä»¥åˆ†å·ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒåŒ¹é…ç¬¬5ä¸ªå­—æ®µæ˜¯rootçš„è¡Œ</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br></pre></td></tr></table></figure><p><strong>åä¸€ã€ifæ¡ä»¶è¯­å¥</strong></p><p>awkä¸­ifæ¡ä»¶è¯­å¥çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if(è¡¨è¾¾å¼)  </span><br><span class="line">   &#123;è¯­å¥1&#125;  </span><br><span class="line">else if(è¡¨è¾¾å¼)  </span><br><span class="line">   &#123;è¯­å¥2&#125;  </span><br><span class="line">else  </span><br><span class="line">   &#123;è¯­å¥3&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¡è¯­å¥åé¢è¦ç”¨â€œ;â€ç»“å°¾ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;</span><br><span class="line">quote&gt; test=70;</span><br><span class="line">quote&gt; if(test&gt;90)</span><br><span class="line">quote&gt; &#123;</span><br><span class="line">quote&gt; print &quot;very good!&quot;;</span><br><span class="line">quote&gt; &#125;</span><br><span class="line">quote&gt; else if(test&gt;60)</span><br><span class="line">quote&gt; &#123;</span><br><span class="line">quote&gt; print &quot;good~&quot;;</span><br><span class="line">quote&gt; &#125;</span><br><span class="line">quote&gt; else</span><br><span class="line">quote&gt; &#123;</span><br><span class="line">quote&gt; print &quot;no pass!!&quot;;</span><br><span class="line">quote&gt; &#125;</span><br><span class="line">quote&gt; &#125;&#x27;</span><br><span class="line">good~</span><br></pre></td></tr></table></figure><p><strong>åäºŒã€å¾ªç¯è¯­å¥</strong></p><p><strong>12.1 whileå¾ªç¯è¯­å¥</strong></p><p>awkä¸­whileå¾ªç¯è¯­å¥çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while(è¡¨è¾¾å¼)</span><br><span class="line"></span><br><span class="line">&#123;è¯­å¥&#125;</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;</span><br><span class="line">border=10;</span><br><span class="line">sum=0;</span><br><span class="line">i=0;</span><br><span class="line">while(i&lt;=border)&#123;</span><br><span class="line">   sum+=i;</span><br><span class="line">   i++;</span><br><span class="line">&#125;</span><br><span class="line">print sum;</span><br><span class="line">&#125;&#x27;</span><br><span class="line">55</span><br></pre></td></tr></table></figure><p><strong>12.2 forå¾ªç¯è¯­å¥</strong></p><p>awkä¸­forå¾ªç¯è¯­å¥æœ‰ä¸¤ç§æ ¼å¼ï¼Œå…ˆçœ‹æ ¼å¼1ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(å˜é‡ in æ•°ç»„)</span><br><span class="line"></span><br><span class="line">&#123;è¯­å¥&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;</span><br><span class="line">for (k in ENVIRON)&#123;       # ENVIRON æ˜¯awkå¸¸é‡ï¼Œæ˜¯ä¸ªæ•°ç»„</span><br><span class="line">print k&quot;=&quot;ENVIRON[k];</span><br><span class="line">&#125;</span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br><span class="line">AWKPATH=.:/usr/share/awk  </span><br><span class="line">OLDPWD=/home/web97  </span><br><span class="line">SSH_ASKPASS=/usr/libexec/openssh/gnome-ssh-askpass  </span><br><span class="line">SELINUX_LEVEL_REQUESTED=  </span><br><span class="line">SELINUX_ROLE_REQUESTED=  </span><br><span class="line">LANG=zh_CN.GB2312</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>forå¾ªç¯çš„æ ¼å¼2ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(å˜é‡;æ¡ä»¶;è¡¨è¾¾å¼)</span><br><span class="line"></span><br><span class="line">&#123;è¯­å¥&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;</span><br><span class="line">sum=0;</span><br><span class="line">for(i=0;i&lt;=100;i++)&#123;</span><br><span class="line">    sum+=i;</span><br><span class="line">&#125;</span><br><span class="line">print sum;</span><br><span class="line">&#125;&#x27;</span><br><span class="line">5050</span><br></pre></td></tr></table></figure><p><strong>12.3 doâ€¦whileå¾ªç¯è¯­å¥</strong></p><p>awkä¸­doâ€¦whileå¾ªç¯è¯­å¥çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">do&#123;</span><br><span class="line">   è¯­å¥</span><br><span class="line">&#125;</span><br><span class="line">while(æ¡ä»¶)</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;BEGIN &#123;</span><br><span class="line">sum=0;</span><br><span class="line">i=0;</span><br><span class="line">do&#123;</span><br><span class="line">sum+=i;</span><br><span class="line">i++;</span><br><span class="line">&#125;while(i&lt;=100)</span><br><span class="line">print sum;</span><br><span class="line">&#125;&#x27;</span><br><span class="line">5050</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…³é”®å­—ï¼Œä¾‹å¦‚ï¼š</p><table><thead><tr><th>break</th><th>å½“ break è¯­å¥ç”¨äº while æˆ– for è¯­å¥æ—¶ï¼Œå¯¼è‡´é€€å‡ºç¨‹åºå¾ªç¯</th></tr></thead><tbody><tr><td>continue</td><td>å½“ continue è¯­å¥ç”¨äº while æˆ– for è¯­å¥æ—¶ï¼Œä½¿ç¨‹åºå¾ªç¯ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªè¿­ä»£</td></tr><tr><td>next</td><td>ä½¿ç¨‹åºè¯»å…¥ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œå¹¶è¿”å›åˆ°è„šæœ¬çš„é¡¶éƒ¨ï¼Œè¿™å¯ä»¥é¿å…å¯¹å½“å‰è¾“å…¥è¡Œæ‰§è¡Œå…¶ä»–çš„æ“ä½œ</td></tr><tr><td>exit</td><td>exitå…³é”®å­—ä½¿ä¸»è¾“å…¥å¾ªç¯é€€å‡ºå¹¶ç§»åŠ¨åˆ°ENDï¼Œå¦‚æœENDå­˜åœ¨çš„è¯ã€‚å¦‚æœæ²¡æœ‰å®šä¹‰ENDè§„åˆ™ï¼Œæˆ–åœ¨ENDä¸­åº”ç”¨exitè¯­å¥ï¼Œåˆ™ç»ˆæ­¢è„šæœ¬çš„æ‰§è¡Œ</td></tr></tbody></table><p>åä¸‰ã€awkä½¿ç”¨å®ä¾‹</p><p><strong>å®ä¾‹1ï¼šåªæŸ¥çœ‹test.txtæ–‡ä»¶ï¼ˆ100è¡Œï¼‰å†…ç¬¬20åˆ°ç¬¬30è¡Œçš„å†…å®¹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">â†’  test awk &#x27;&#123;if(NR&gt;=20 &amp;&amp; NR&lt;=30) print $0&#125;&#x27; test.txt   </span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š NRä»£è¡¨å·²è¯»çš„è®°å½•æ•°(è¡Œæ•°)ï¼ŒNR&gt;=20&amp;&amp;NR&lt;=30 ä»£è¡¨æ–‡ä»¶ä¸­çš„ç¬¬20è¡Œåˆ°ç¬¬30è¡Œã€‚</p><p><strong>å®ä¾‹2ï¼šå·²çŸ¥test.txtæ–‡ä»¶å†…å®¹ä¸ºï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  test cat test.txt </span><br><span class="line">I am Poe,my qq is 33794712</span><br></pre></td></tr></table></figure><p>è¯·ä»è¯¥æ–‡ä»¶ä¸­è¿‡æ»¤å‡º&quot;Poe&quot;å­—ç¬¦ä¸²ä¸33794712ï¼Œæœ€åè¾“å‡ºçš„ç»“æœä¸ºï¼šPoe 33794712</p><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk &#x27;&#123;split($3,arr,&quot;,&quot;);print arr[1]&quot; &quot;$6&#125;&#x27; test.txt</span><br><span class="line">Poe 33794712</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼šPoe,my æ˜¯$3ï¼Œç”¨split()å†…ç½®å‡½æ•°æŠŠ$3åˆ†å‰²æˆarrï¼Œå…¶ä¸­arr[1]=Poeï¼Œ33794712æ˜¯$6ï¼Œprint åé¢æ‹¼æ¥å­—ç¬¦ä¸²è¿›è¡Œè¾“å‡ºã€‚</p><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">âœ  test awk -F &#x27;[ ,]+&#x27; &#x27;&#123;print $3&quot; &quot;$7&#125;&#x27; test.txt</span><br><span class="line">Poe 33794712</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼šç”¨-Fæ¥æŒ‡å®šåˆ†éš”ç¬¦ä¸º1ä¸ªæˆ–å¤šä¸ªç©ºæ ¼æˆ–é€—å·(,) ï¼Œç„¶åPoeå’Œ33794712åˆ†åˆ«æ˜¯$3å’Œ$7ï¼Œprint åé¢æ‹¼æ¥å­—ç¬¦ä¸²è¿›è¡Œè¾“å‡ºã€‚</p><h4 id="8-3-18-history-æŸ¥çœ‹å·²ç»æ‰§è¡Œè¿‡çš„å†å²å‘½ä»¤">8.3.18 history æŸ¥çœ‹å·²ç»æ‰§è¡Œè¿‡çš„å†å²å‘½ä»¤</h4><p>å®é™…ä¸Šhistoryçš„å†å²å‘½ä»¤æ˜¯å†™å…¥.bash_history ä¸­çš„ã€‚ ~/.bash_history è®°å½•çš„æ˜¯å‰ä¸€æ¬¡ç™»é™†æ‰€è¿è¡Œè¿‡çš„å‘½ä»¤ï¼Œè€Œæœ¬æ¬¡ç™»é™†æ‰€è¿è¡Œçš„å‘½ä»¤éƒ½è¢«ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå½“é€€å‡ºç³»ç»Ÿåï¼Œæœ¬æ¬¡çš„å‘½ä»¤è®°å¿†æ‰ä¼šè®°å½•åˆ° .bash_history ä¸­ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# histroy [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><p>é€šå¸¸éƒ½æ˜¯ç›´æ¥ <code>history</code> ç„¶åé€šè¿‡ç®¡é“é…åˆ <code>more</code>ï¼Œ<code>less</code>ï¼Œ<code>tail</code>ï¼Œ<code>head</code> æ¥ä½¿ç”¨ï¼Œå…¶ä»–å¤æ‚ç”¨æ³•è¿™é‡Œä¸ä½œä»‹ç»ã€‚</p></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-c</td><td>å°†ç›®å‰çš„shellä¸­çš„æ‰€æœ‰ history å†…å®¹å…¨éƒ¨æ¸…é™¤</td></tr><tr><td>-a</td><td>å°†ç›®å‰æ–°å¢çš„historyæŒ‡ä»¤æ–°å¢å…¥ histfilesä¸­ï¼Œè‹¥æ²¡æœ‰ histfilesï¼Œåˆ™é¢„è®¾å†™å…¥ ~/.bash_history</td></tr><tr><td>-r</td><td>å°†histfilesçš„å†…å®¹è¯»åˆ°ç›®å‰è¿™ä¸ªshellçš„historyè®°å¿†ä¸­</td></tr><tr><td>-w</td><td>å°†ç›®å‰çš„historyè®°å¿†å†…å®¹å†™å…¥histfiles</td></tr></tbody></table></li><li><p><strong>ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–</strong></p><p>åœ¨é¡¹ç›®ä¸­ï¼Œåœ¨ä¸åŒç»ˆç«¯ä¸‹æ‰§è¡Œäº†ä¸€ç³»åˆ—çš„å‘½ä»¤åï¼Œç¿»ä¸åˆ°å†å²è®°å½•ï¼Œä¹Ÿæ²¡æœ‰æ±‡æ€»ï¼Œä¹Ÿä¸çŸ¥é“æ¯æ¡å‘½ä»¤çš„æ‰§è¡Œæ—¶é—´ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¯¥å‘½ä»¤è¿›è¡Œä¼˜åŒ–ã€‚</p><p>é…ç½®æ–‡ä»¶:centosä¸Š<code>/root/.bashrc</code>ï¼›ubuntuä¸Šä¿®æ”¹çš„æ–‡ä»¶æ˜¯ <code>/etc/bash.bashrc</code>ï¼›macä¸Šä¿®æ”¹çš„æ–‡ä»¶æ˜¯ <code>/etc/bashrc</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¿®æ”¹histroyçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# vim /root/.bashrc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ·»åŠ æ—¥æœŸ</span></span><br><span class="line">HISTTIMEFORMAT=&quot;%F %T &quot;</span><br><span class="line">export HISTTIMEFORMAT</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸åŒç»ˆç«¯å‘½ä»¤æ±‡æ€»</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Avoid duplicates</span></span><br><span class="line">export HISTCONTROL=ignoredups:erasedups</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">When the shell exits, append to the <span class="built_in">history</span> file instead of overwriting it</span></span><br><span class="line">shopt -s histappend</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">After each <span class="built_in">command</span>, append to the <span class="built_in">history</span> file and reread it</span></span><br><span class="line">export PROMPT_COMMAND=&quot;$&#123;PROMPT_COMMAND:+$PROMPT_COMMAND$&#x27;\n&#x27;&#125;history -a; history -c; history -r&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è°ƒæ•´è®°å½•å‘½ä»¤é•¿åº¦</span></span><br><span class="line">export HISTSIZE=3000</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‰”é™¤è¿ç»­é‡å¤çš„æ¡ç›®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Avoid duplicates</span></span><br><span class="line">export HISTCONTROL=ignoredups:erasedups</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æœ€åæ‰§è¡Œ</span></span><br><span class="line">[root@localhost ~]# source /root/.bashrc</span><br></pre></td></tr></table></figure></li></ul><h3 id="8-4-æ—¥æœŸã€æ—¶é—´">8.4 æ—¥æœŸã€æ—¶é—´</h3><h4 id="8-4-1-date-æ—¥æœŸä¸æ—¶é—´">8.4.1 date æ—¥æœŸä¸æ—¶é—´</h4><p>Linux date å‘½ä»¤å¯ä»¥ç”¨æ¥æ˜¾ç¤ºæˆ–è®¾å®šç³»ç»Ÿçš„æ—¥æœŸä¸æ—¶é—´ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date [OPTION] [+&quot;FORMAT&quot;]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# date +&quot;%F %T &quot;</span><br><span class="line">2023-01-16 22:05:22 </span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-d</code>ï¼š<code>--date=STRING</code></td><td>æ˜¾ç¤º datestr ä¸­æ‰€è®¾å®šçš„æ—¶é—´ (éç³»ç»Ÿæ—¶é—´)</td></tr><tr><td><code>-s</code>,ï¼š<code>--set=STRING</code></td><td>å°†ç³»ç»Ÿæ—¶é—´è®¾ä¸º datestr ä¸­æ‰€è®¾å®šçš„æ—¶é—´</td></tr><tr><td><code>-u</code>ï¼š <code>--utc</code>ï¼š<code>--universal</code></td><td>æ‰“å°æˆ–è®¾ç½®åè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰</td></tr><tr><td><code>--version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ç¼–å·</td></tr><tr><td><code>-help</code></td><td>æ˜¾ç¤ºè¾…åŠ©è®¯æ¯</td></tr></tbody></table></li><li><p><strong>æ ¼å¼</strong></p><ul><li><p>æ—¶é—´æ ¼å¼</p><table>  <thead>    <tr>      <th align="left">ç¬¦å·</th>      <th align="left">ç¬¦å·è¯´æ˜</th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">%</td>      <td align="left">å°å‡º %</td>    </tr>    <tr>      <td align="left">%n</td>      <td align="left">ä¸‹ä¸€è¡Œ</td>    </tr>    <tr>      <td align="left">%t</td>      <td align="left">è·³æ ¼</td>    </tr>    <tr>      <td align="left">%H</td>      <td align="left">å°æ—¶(00â€¦23)</td>    </tr>    <tr>      <td align="left">%I</td>      <td align="left">å°æ—¶(01â€¦12)</td>    </tr>    <tr>      <td align="left">%k</td>      <td align="left">å°æ—¶(0â€¦23)</td>    </tr>    <tr>      <td align="left">%l</td>      <td align="left">å°æ—¶(1â€¦12)</td>    </tr>    <tr>      <td align="left">%M</td>      <td align="left">åˆ†é’Ÿ(00â€¦59)</td>    </tr>    <tr>      <td align="left">%p</td>      <td align="left">æ˜¾ç¤ºæœ¬åœ° AM æˆ– PM</td>    </tr>    <tr>      <td align="left">%r</td>      <td align="left">ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (12 å°æ—¶åˆ¶ï¼Œæ ¼å¼ä¸º hh:mm:ss [AP]M)</td>    </tr>    <tr>      <td align="left">%R</td>      <td align="left">24å°æ—¶åˆ¶æ–¹å¼æ˜¾ç¤ºæ—¶é—´ï¼Œç›¸å½“äº%H:%M</td>    </tr>    <tr>      <td align="left">%s</td>      <td align="left">ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC åˆ°ç›®å‰ä¸ºæ­¢çš„ç§’æ•°</td>    </tr>    <tr>      <td align="left">%S</td>      <td align="left">ç§’(00â€¦60)</td>    </tr>    <tr>      <td align="left">%T</td>      <td align="left">ç›´æ¥æ˜¾ç¤ºæ—¶é—´ (24 å°æ—¶åˆ¶)</td>    </tr>    <tr>      <td align="left">%X</td>      <td align="left">ç›¸å½“äº %H:%M:%S</td>    </tr>    <tr>      <td align="left">%z</td>      <td align="left">æ•°å­—æ–¹å¼æ˜¾ç¤ºæ—¶åŒº</td>    </tr>    <tr>      <td align="left">%Z</td>      <td align="left">å­—æ¯ç¼©å†™æ–¹å¼æ˜¾ç¤ºæ—¶åŒº</td>    </tr>  </tbody></table></li><li><p>æ—¥æœŸæ ¼å¼</p><table>  <thead>    <tr>      <th align="left">ç¬¦å·</th>      <th align="left">ç¬¦å·è¯´æ˜</th>    </tr>  </thead>  <tbody>    <tr>      <td align="left">%a</td>      <td align="left">æ˜ŸæœŸå‡  ï¼Œç¼©å†™(Sunâ€¦Sat)</td>    </tr>    <tr>      <td align="left">%A</td>      <td align="left">æ˜ŸæœŸå‡  ï¼Œå®Œæ•´è‹±æ–‡æ˜ŸæœŸ(Sundayâ€¦Saturday)</td>    </tr>    <tr>      <td align="left">%b</td>      <td align="left">æœˆä»½ (Janâ€¦Dec)</td>    </tr>    <tr>      <td align="left">%B</td>      <td align="left">æœˆä»½ (Januaryâ€¦December)</td>    </tr>    <tr>      <td align="left">%c</td>      <td align="left">ç›´æ¥æ˜¾ç¤ºæ—¥æœŸä¸æ—¶é—´</td>    </tr>    <tr>      <td align="left">%d</td>      <td align="left">æ—¥ (01â€¦31)</td>    </tr>    <tr>      <td align="left">%D</td>      <td align="left">ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yy)</td>    </tr>    <tr>      <td align="left">%e</td>      <td align="left">ä¸€ä¸ªæœˆä¸­çš„ç¬¬å‡ å¤©ï¼Œç±»ä¼¼%_d</td>    </tr>    <tr>      <td align="left">%F</td>      <td align="left">å®Œæ•´çš„æ—¥æœŸï¼Œç›¸å½“äº%Y-%m-%d</td>    </tr>    <tr>      <td align="left">%h</td>      <td align="left">åŒ %b</td>    </tr>    <tr>      <td align="left">%j</td>      <td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© (001â€¦366)</td>    </tr>    <tr>      <td align="left">%m</td>      <td align="left">æœˆä»½ (01â€¦12)</td>    </tr>    <tr>      <td align="left">%u</td>      <td align="left">ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© (1â€¦7) (1æ˜¯æ˜ŸæœŸä¸€)</td>    </tr>    <tr>      <td align="left">%U</td>      <td align="left">        ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00â€¦53) (ä»¥ Sunday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢)      </td>    </tr>    <tr>      <td align="left">%w</td>      <td align="left">ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© (0â€¦6)(0æ˜¯æ˜ŸæœŸå¤©)</td>    </tr>    <tr>      <td align="left">%W</td>      <td align="left">        ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨ (00â€¦53) (ä»¥ Monday ä¸ºä¸€å‘¨çš„ç¬¬ä¸€å¤©çš„æƒ…å½¢)      </td>    </tr>    <tr>      <td align="left">%x</td>      <td align="left">ç›´æ¥æ˜¾ç¤ºæ—¥æœŸ (mm/dd/yy)</td>    </tr>    <tr>      <td align="left">%y</td>      <td align="left">å¹´ä»½çš„æœ€åä¸¤ä½æ•°å­— (00.99)</td>    </tr>    <tr>      <td align="left">%Y</td>      <td align="left">å®Œæ•´å¹´ä»½ (0000â€¦9999)</td>    </tr>  </tbody></table></li></ul></li></ul><h4 id="8-4-2-cal-æŸ¥çœ‹æ—¥å†">8.4.2 cal æŸ¥çœ‹æ—¥å†</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# cal [option] [[[æ—¥] æœˆ] å¹´]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-1</code>ï¼š <code>-one</code></td><td>åªæ˜¾ç¤ºå½“å‰æœˆä»½(é»˜è®¤)</td></tr><tr><td><code>-3</code>ï¼š<code>--three</code></td><td>æ˜¾ç¤ºä¸Šä¸ªæœˆã€å½“æœˆå’Œä¸‹ä¸ªæœˆ</td></tr><tr><td><code>-s</code>ï¼š <code>--sunday</code></td><td>å‘¨æ—¥ä½œä¸ºä¸€å‘¨ç¬¬ä¸€å¤©</td></tr><tr><td><code>-m</code>ï¼š<code>--monday</code></td><td>å‘¨ä¸€ä½œä¸ºä¸€å‘¨ç¬¬ä¸€å¤©</td></tr><tr><td><code>-j</code>ï¼š <code>--julian</code></td><td>è¾“å‡ºå„’ç•¥æ—¥ï¼ˆæ˜¾ç¤ºæ¯ä¸€å¤©æ˜¯æœ¬å¹´çš„ç¬¬å‡ å¤©ï¼‰</td></tr><tr><td><code>-y</code>ï¼š<code>--year</code></td><td>è¾“å‡ºæ•´å¹´</td></tr><tr><td><code>-V</code>ï¼š <code>--version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</td></tr><tr><td><code>-h</code>ï¼š<code>--help</code></td><td>æ˜¾ç¤ºæ­¤å¸®åŠ©å¹¶é€€å‡º</td></tr></tbody></table></li></ul><h3 id="8-5-ç”¨æˆ·ã€ç”¨æˆ·ç»„ç®¡ç†">8.5 ç”¨æˆ·ã€ç”¨æˆ·ç»„ç®¡ç†</h3><h4 id="8-5-3-etc-passwd-ç³»ç»Ÿ-ç”¨æˆ·é…ç½®æ–‡ä»¶">8.5.3 /etc/passwd ç³»ç»Ÿ-ç”¨æˆ·é…ç½®æ–‡ä»¶</h4><p>Linux ç³»ç»Ÿä¸­çš„ <code>/etc/passwd</code> æ–‡ä»¶ï¼Œæ˜¯ç³»ç»Ÿç”¨æˆ·é…ç½®æ–‡ä»¶ï¼Œå­˜å‚¨äº†ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¹¶ä¸”æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥å¯¹æ­¤æ–‡ä»¶æ‰§è¡Œè¯»æ“ä½œã€‚</p><ul><li><p><strong>æ–‡ä»¶å†…å®¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/passwd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶å†…å®¹</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">...çœç•¥éƒ¨åˆ†è¾“å‡º...</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”¨æˆ·åï¼šå¯†ç ï¼šUIDï¼ˆç”¨æˆ·IDï¼‰ï¼šGIDï¼ˆç»„IDï¼‰ï¼šæè¿°æ€§ä¿¡æ¯ï¼šä¸»ç›®å½•ï¼šé»˜è®¤Shell</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>/etc/passwd</code> æ–‡ä»¶ä¸­çš„å†…å®¹éå¸¸è§„å¾‹ï¼Œæ¯è¡Œè®°å½•å¯¹åº”ä¸€ä¸ªç”¨æˆ·ã€‚</p><p>è¿™äº›ç”¨æˆ·ä¸­çš„ç»å¤§å¤šæ•°æ˜¯ç³»ç»Ÿæˆ–æœåŠ¡æ­£å¸¸è¿è¡Œæ‰€å¿…éœ€çš„ç”¨æˆ·ï¼Œè¿™ç§ç”¨æˆ·é€šå¸¸ç§°ä¸ºç³»ç»Ÿç”¨æˆ·æˆ–ä¼ªç”¨æˆ·ã€‚ç³»ç»Ÿç”¨æˆ·æ— æ³•ç”¨æ¥ç™»å½•ç³»ç»Ÿï¼Œä½†ä¹Ÿä¸èƒ½åˆ é™¤ï¼Œå› ä¸ºä¸€æ—¦åˆ é™¤ï¼Œä¾èµ–è¿™äº›ç”¨æˆ·è¿è¡Œçš„æœåŠ¡æˆ–ç¨‹åºå°±ä¸èƒ½æ­£å¸¸æ‰§è¡Œï¼Œä¼šå¯¼è‡´ç³»ç»Ÿé—®é¢˜ã€‚</p></li><li><p><strong>å­—æ®µ</strong></p><ul><li><p><strong>ç”¨æˆ·å</strong></p><p>ç”¨æˆ·åä»…æ˜¯ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·è®°å¿†ï¼ŒLinux ç³»ç»Ÿæ˜¯é€šè¿‡ UID æ¥è¯†åˆ«ç”¨æˆ·èº«ä»½ï¼Œåˆ†é…ç”¨æˆ·æƒé™çš„ã€‚<code>/etc/passwd</code> æ–‡ä»¶ä¸­å°±å®šä¹‰äº†ç”¨æˆ·åå’Œ UID ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚</p></li><li><p><strong>å¯†ç </strong></p><p>â€œxâ€ è¡¨ç¤ºæ­¤ç”¨æˆ·è®¾æœ‰å¯†ç ï¼Œä½†ä¸æ˜¯çœŸæ­£çš„å¯†ç ï¼ŒçœŸæ­£çš„å¯†ç ä¿å­˜åœ¨ <code>/etc/shadow</code> æ–‡ä»¶ä¸­ã€‚åœ¨æ—©æœŸçš„ UNIX ä¸­ï¼Œè¿™é‡Œä¿å­˜çš„å°±æ˜¯çœŸæ­£çš„åŠ å¯†å¯†ç ä¸²ï¼Œä½†ç”±äºæ‰€æœ‰ç¨‹åºéƒ½èƒ½è¯»å–æ­¤æ–‡ä»¶ï¼Œéå¸¸å®¹æ˜“é€ æˆç”¨æˆ·æ•°æ®è¢«çªƒå–ï¼ˆè™½ç„¶å¯†ç æ˜¯åŠ å¯†çš„ï¼Œä½†æ˜¯é‡‡ç”¨æš´åŠ›ç ´è§£çš„æ–¹å¼ä¹Ÿæ˜¯èƒ½å¤Ÿè¿›è¡Œç ´è§£çš„ï¼‰ã€‚å› æ­¤ï¼Œç°åœ¨ Linux ç³»ç»ŸæŠŠçœŸæ­£çš„åŠ å¯†å¯†ç ä¸²æ”¾ç½®åœ¨ <code>/etc/shadow</code> æ–‡ä»¶ä¸­ï¼Œæ­¤æ–‡ä»¶åªæœ‰ root ç”¨æˆ·å¯ä»¥æµè§ˆå’Œæ“ä½œï¼Œè¿™æ ·å°±æœ€å¤§é™åº¦åœ°ä¿è¯äº†å¯†ç çš„å®‰å…¨ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ â€œxâ€ å¹¶ä¸è¡¨ç¤ºçœŸæ­£çš„å¯†ç ï¼Œä½†ä¹Ÿä¸èƒ½åˆ é™¤ï¼Œå¦‚æœåˆ é™¤äº† â€œxâ€ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šè®¤ä¸ºè¿™ä¸ªç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œä»è€Œå¯¼è‡´åªè¾“å…¥ç”¨æˆ·åè€Œä¸ç”¨è¾“å…¥å¯†ç å°±å¯ä»¥ç™»é™†ã€‚ï¼ˆåªèƒ½åœ¨æœ¬åœ°ä½¿ç”¨æ— å¯†ç ç™»å½•ï¼Œè¿œç¨‹æ˜¯ä¸å¯ä»¥çš„ï¼‰</p></li><li><p><strong>UID</strong></p><p>UIDï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ· IDã€‚æ¯ä¸ªç”¨æˆ·éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ª UIDï¼ŒLinux ç³»ç»Ÿé€šè¿‡ UID æ¥è¯†åˆ«ä¸åŒçš„ç”¨æˆ·ã€‚å®é™…ä¸Šï¼ŒUID å°±æ˜¯ä¸€ä¸ª 0~65535 ä¹‹é—´çš„æ•°ï¼Œä¸åŒèŒƒå›´çš„æ•°å­—è¡¨ç¤ºä¸åŒçš„ç”¨æˆ·èº«ä»½ã€‚</p><table><thead><tr><th>UID èŒƒå›´</th><th>ç”¨æˆ·èº«ä»½</th></tr></thead><tbody><tr><td>0</td><td>è¶…çº§ç”¨æˆ·ã€‚UID ä¸º 0 å°±ä»£è¡¨è¿™ä¸ªè´¦å·æ˜¯ç®¡ç†å‘˜è´¦å·ã€‚åœ¨ Linux ä¸­ï¼Œå¦‚ä½•æŠŠæ™®é€šç”¨æˆ·å‡çº§æˆç®¡ç†å‘˜å‘¢ï¼Ÿåªéœ€æŠŠå…¶ä»–ç”¨æˆ·çš„ UID ä¿®æ”¹ä¸º 0 å°±å¯ä»¥äº†ï¼Œè¿™ä¸€ç‚¹å’Œ Windows æ˜¯ä¸åŒçš„ã€‚ä¸è¿‡ä¸å»ºè®®å»ºç«‹å¤šä¸ªç®¡ç†å‘˜è´¦å·ã€‚</td></tr><tr><td>1~499</td><td>ç³»ç»Ÿç”¨æˆ·ï¼ˆä¼ªç”¨æˆ·ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤èŒƒå›´çš„ UID ä¿ç•™ç»™ç³»ç»Ÿä½¿ç”¨ã€‚å…¶ä¸­ï¼Œ1~99 ç”¨äºç³»ç»Ÿè‡ªè¡Œåˆ›å»ºçš„è´¦å·ï¼›100~499 åˆ†é…ç»™æœ‰ç³»ç»Ÿè´¦å·éœ€æ±‚çš„ç”¨æˆ·ã€‚  å…¶å®ï¼Œé™¤äº† 0 ä¹‹å¤–ï¼Œå…¶ä»–çš„ UID å¹¶æ— ä¸åŒï¼Œè¿™é‡Œåªæ˜¯é»˜è®¤ 500 ä»¥ä¸‹çš„æ•°å­—ç»™ç³»ç»Ÿä½œä¸ºä¿ç•™è´¦æˆ·ï¼Œåªæ˜¯ä¸€ä¸ªå…¬è®¤çš„ä¹ æƒ¯è€Œå·²ã€‚</td></tr><tr><td>500~65535</td><td>æ™®é€šç”¨æˆ·ã€‚é€šå¸¸è¿™äº› UID å·²ç»è¶³å¤Ÿç”¨æˆ·ä½¿ç”¨äº†ã€‚ä½†ä¸å¤Ÿç”¨ä¹Ÿæ²¡å…³ç³»ï¼Œ2.6.x å†…æ ¸ä¹‹åçš„ Linux ç³»ç»Ÿå·²ç»å¯ä»¥æ”¯æŒ 232 ä¸ª UID äº†ã€‚</td></tr></tbody></table></li><li><p><strong>GID</strong></p><p>å…¨ç§°â€œGroup IDâ€ï¼Œç®€ç§°â€œç»„IDâ€ï¼Œè¡¨ç¤ºç”¨æˆ·åˆå§‹ç»„çš„ç»„ ID å·ã€‚è¿™é‡Œéœ€è¦è§£é‡Šä¸€ä¸‹åˆå§‹ç»„å’Œé™„åŠ ç»„çš„æ¦‚å¿µã€‚</p><p><strong>åˆå§‹ç»„</strong>ï¼šæŒ‡ç”¨æˆ·ç™»é™†æ—¶å°±æ‹¥æœ‰è¿™ä¸ªç”¨æˆ·ç»„çš„ç›¸å…³æƒé™ã€‚æ¯ä¸ªç”¨æˆ·çš„åˆå§‹ç»„åªèƒ½æœ‰ä¸€ä¸ªï¼Œé€šå¸¸å°±æ˜¯å°†å’Œæ­¤ç”¨æˆ·çš„ç”¨æˆ·åç›¸åŒçš„ç»„åä½œä¸ºè¯¥ç”¨æˆ·çš„åˆå§‹ç»„ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æ‰‹å·¥æ·»åŠ ç”¨æˆ· lampï¼Œåœ¨å»ºç«‹ç”¨æˆ· lamp çš„åŒæ—¶ï¼Œå°±ä¼šå»ºç«‹ lamp ç»„ä½œä¸º lamp ç”¨æˆ·çš„åˆå§‹ç»„ã€‚</p><p><strong>é™„åŠ ç»„</strong>ï¼šæŒ‡ç”¨æˆ·å¯ä»¥åŠ å…¥å¤šä¸ªå…¶ä»–çš„ç”¨æˆ·ç»„ï¼Œå¹¶æ‹¥æœ‰è¿™äº›ç»„çš„æƒé™ã€‚æ¯ä¸ªç”¨æˆ·åªèƒ½æœ‰ä¸€ä¸ªåˆå§‹ç»„ï¼Œé™¤åˆå§‹ç»„å¤–ï¼Œç”¨æˆ·å†åŠ å…¥å…¶ä»–çš„ç”¨æˆ·ç»„ï¼Œè¿™äº›ç”¨æˆ·ç»„å°±æ˜¯è¿™ä¸ªç”¨æˆ·çš„é™„åŠ ç»„ã€‚é™„åŠ ç»„å¯ä»¥æœ‰å¤šä¸ªï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æœ‰è¿™äº›é™„åŠ ç»„çš„æƒé™ã€‚</p><p>å½“ç„¶ï¼Œåˆå§‹ç»„å’Œé™„åŠ ç»„çš„èº«ä»½æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨<strong>å·¥ä½œä¸­ä¸ä¿®æ”¹åˆå§‹ç»„ï¼Œåªä¿®æ”¹é™„åŠ ç»„ï¼Œå› ä¸ºä¿®æ”¹äº†åˆå§‹ç»„æœ‰æ—¶ä¼šè®©ç®¡ç†å‘˜é€»è¾‘æ··ä¹±</strong>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <code>/etc/passwd</code> æ–‡ä»¶çš„ç¬¬å››ä¸ªå­—æ®µä¸­çœ‹åˆ°çš„ ID æ˜¯è¿™ä¸ªç”¨æˆ·çš„åˆå§‹ç»„ã€‚</p></li><li><p><strong>æè¿°æ€§ä¿¡æ¯</strong></p><p>è¿™ä¸ªå­—æ®µå¹¶æ²¡æœ‰ä»€ä¹ˆé‡è¦çš„ç”¨é€”ï¼Œåªæ˜¯ç”¨æ¥è§£é‡Šè¿™ä¸ªç”¨æˆ·çš„æ„ä¹‰è€Œå·²ã€‚</p></li><li><p><strong>ä¸»ç›®å½•</strong></p><p>ä¹Ÿå°±æ˜¯ç”¨æˆ·ç™»å½•åæœ‰æ“ä½œæƒé™çš„è®¿é—®ç›®å½•ï¼Œé€šå¸¸ç§°ä¸ºç”¨æˆ·çš„ä¸»ç›®å½•ã€‚</p><p>root è¶…çº§ç®¡ç†å‘˜è´¦æˆ·çš„ä¸»ç›®å½•ä¸º <code>/root</code>ï¼Œæ™®é€šç”¨æˆ·çš„ä¸»ç›®å½•ä¸º <code>/home/yourIDname</code>ã€‚</p></li><li><p><strong>é»˜è®¤çš„Shell</strong></p><p>Shell å°±æ˜¯ Linux çš„å‘½ä»¤è§£é‡Šå™¨ï¼Œæ˜¯ç”¨æˆ·å’Œ Linux å†…æ ¸ä¹‹é—´æ²Ÿé€šçš„æ¡¥æ¢ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒLinux ç³»ç»Ÿé»˜è®¤ä½¿ç”¨çš„å‘½ä»¤è§£é‡Šå™¨æ˜¯ <code>bash</code>ï¼ˆ<code>/bin/bash</code>ï¼‰ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–å‘½ä»¤è§£é‡Šå™¨ï¼Œä¾‹å¦‚ shã€csh ç­‰ã€‚</p><p>è¿™é‡Œä¸èƒ½éšä¾¿å†™å…¥å’Œç™»é™†æ²¡æœ‰å…³ç³»çš„å‘½ä»¤ï¼ˆå¦‚ lsï¼‰ï¼Œç³»ç»Ÿä¸ä¼šè¯†åˆ«è¿™äº›å‘½ä»¤ï¼ŒåŒæ—¶ä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªç”¨æˆ·ä¸èƒ½ç™»å½•ã€‚</p><p>æŠŠ lamp ç”¨æˆ·çš„ Shell å‘½ä»¤è§£é‡Šå™¨ä¿®æ”¹ä¸º <code>/sbin/nologin</code>ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªç”¨æˆ·å°±ä¸èƒ½ç™»å½•äº†ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#vi /etc/passwd</span><br><span class="line">lamp:x:502:502::/home/lamp:/usr/bin/passwd</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="8-5-5-etc-group-ç³»ç»Ÿ-ç”¨æˆ·ç»„é…ç½®æ–‡ä»¶">8.5.5 /etc/group ç³»ç»Ÿ-ç”¨æˆ·ç»„é…ç½®æ–‡ä»¶</h4><p>æ­¤æ–‡ä»¶æ˜¯è®°å½•ç»„ IDï¼ˆGIDï¼‰å’Œç»„åç›¸å¯¹åº”çš„æ–‡ä»¶ã€‚</p><ul><li><p><strong>æ–‡ä»¶å†…å®¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#vim /etc/group</span><br><span class="line">root:x:0:</span><br><span class="line">bin:x:1:bin,daemon</span><br><span class="line">daemon:x:2:bin,daemon</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br><span class="line">lamp:x:502:</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç»„åï¼šå¯†ç ï¼šGIDï¼šè¯¥ç”¨æˆ·ç»„ä¸­çš„ç”¨æˆ·åˆ—è¡¨</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>/etc/group</code> ä¸­æ¯ä¸€è¡Œå„ä»£è¡¨ä¸€ä¸ªç”¨æˆ·ç»„ã€‚åœ¨å‰é¢ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ›¾åˆ›å»º lamp ç”¨æˆ·ï¼Œç³»ç»Ÿé»˜è®¤ç”Ÿæˆä¸€ä¸ª lamp ç”¨æˆ·ç»„ï¼Œåœ¨æ­¤å¯ä»¥çœ‹åˆ°ï¼Œæ­¤ç”¨æˆ·ç»„çš„ GID ä¸º 502ï¼Œç›®å‰å®ƒä»…ä½œä¸º lamp ç”¨æˆ·çš„åˆå§‹ç»„ã€‚</p></li><li><p>å­—æ®µ</p><ul><li><p><strong>ç»„å</strong></p><p>ä¹Ÿå°±æ˜¯æ˜¯ç”¨æˆ·ç»„çš„åç§°ï¼Œæœ‰å­—æ¯æˆ–æ•°å­—æ„æˆã€‚åŒ <code>/etc/passwd</code> ä¸­çš„ç”¨æˆ·åä¸€æ ·ï¼Œç»„åä¹Ÿä¸èƒ½é‡å¤ã€‚</p></li><li><p><strong>ç»„å¯†ç </strong></p><p>å’Œ <code>/etc/passwd</code> æ–‡ä»¶ä¸€æ ·ï¼Œè¿™é‡Œçš„ â€œxâ€ ä»…ä»…æ˜¯å¯†ç æ ‡è¯†ï¼ŒçœŸæ­£åŠ å¯†åçš„ç»„å¯†ç é»˜è®¤ä¿å­˜åœ¨ <code>/etc/gshadow</code> æ–‡ä»¶ä¸­ã€‚</p><p>ä¸è¿‡ï¼Œç”¨æˆ·è®¾ç½®å¯†ç æ˜¯ä¸ºäº†éªŒè¯ç”¨æˆ·çš„èº«ä»½ï¼Œé‚£ç”¨æˆ·ç»„è®¾ç½®å¯†ç æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿç”¨æˆ·ç»„å¯†ç ä¸»è¦æ˜¯ç”¨æ¥æŒ‡å®šç»„ç®¡ç†å‘˜çš„ï¼Œç”±äºç³»ç»Ÿä¸­çš„è´¦å·å¯èƒ½ä¼šéå¸¸å¤šï¼Œroot ç”¨æˆ·å¯èƒ½æ²¡æœ‰æ—¶é—´è¿›è¡Œç”¨æˆ·çš„ç»„è°ƒæ•´ï¼Œè¿™æ—¶å¯ä»¥ç»™ç”¨æˆ·ç»„æŒ‡å®šç»„ç®¡ç†å‘˜ï¼Œå¦‚æœæœ‰ç”¨æˆ·éœ€è¦åŠ å…¥æˆ–é€€å‡ºæŸç”¨æˆ·ç»„ï¼Œå¯ä»¥ç”±è¯¥ç»„çš„ç»„ç®¡ç†å‘˜æ›¿ä»£ root è¿›è¡Œç®¡ç†ã€‚ä½†æ˜¯è¿™é¡¹åŠŸèƒ½ç›®å‰å¾ˆå°‘ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆå°‘è®¾ç½®ç»„å¯†ç ã€‚å¦‚æœéœ€è¦èµ‹äºˆæŸç”¨æˆ·è°ƒæ•´æŸä¸ªç”¨æˆ·ç»„çš„æƒé™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ sudo å‘½ä»¤ä»£æ›¿ã€‚</p></li><li><p><strong>ç»„ID (GID)</strong></p><p>å°±æ˜¯ç¾¤ç»„çš„ ID å·ï¼ŒLinux ç³»ç»Ÿå°±æ˜¯é€šè¿‡ GID æ¥åŒºåˆ†ç”¨æˆ·ç»„çš„ï¼ŒåŒç”¨æˆ·åä¸€æ ·ï¼Œç»„åä¹Ÿåªæ˜¯ä¸ºäº†ä¾¿äºç®¡ç†å‘˜è®°å¿†ã€‚</p><p>è¿™é‡Œçš„ç»„ GID ä¸ <code>/etc/passwd</code> æ–‡ä»¶ä¸­ç¬¬ 4 ä¸ªå­—æ®µçš„ GID ç›¸å¯¹åº”ï¼Œå®é™…ä¸Šï¼Œ<code>/etc/passwd</code> æ–‡ä»¶ä¸­ä½¿ç”¨ GID å¯¹åº”çš„ç¾¤ç»„åï¼Œå°±æ˜¯é€šè¿‡æ­¤æ–‡ä»¶å¯¹åº”å¾—åˆ°çš„ã€‚</p></li><li><p>ç»„ä¸­çš„ç”¨æˆ·</p><p>æ­¤å­—æ®µåˆ—å‡ºæ¯ä¸ªç¾¤ç»„åŒ…å«çš„æ‰€æœ‰ç”¨æˆ·ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥ç”¨æˆ·ç»„æ˜¯è¿™ä¸ªç”¨æˆ·çš„åˆå§‹ç»„ï¼Œåˆ™è¯¥ç”¨æˆ·ä¸ä¼šå†™å…¥è¿™ä¸ªå­—æ®µï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œè¯¥å­—æ®µæ˜¾ç¤ºçš„ç”¨æˆ·éƒ½æ˜¯è¿™ä¸ªç”¨æˆ·ç»„çš„é™„åŠ ç”¨æˆ·ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œlamp ç»„çš„ç»„ä¿¡æ¯ä¸º â€œ<code>lamp:x:502:</code>â€ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç¬¬å››ä¸ªå­—æ®µæ²¡æœ‰å†™å…¥ lamp ç”¨æˆ·ï¼Œå› ä¸º lamp ç»„æ˜¯ lamp ç”¨æˆ·çš„åˆå§‹ç»„ã€‚å¦‚æœè¦æŸ¥è¯¢è¿™äº›ç”¨æˆ·çš„åˆå§‹ç»„ï¼Œåˆ™éœ€è¦å…ˆåˆ° <code>/etc/passwd</code> æ–‡ä»¶ä¸­æŸ¥çœ‹ GIDï¼ˆç¬¬å››ä¸ªå­—æ®µï¼‰ï¼Œç„¶ååˆ° /etc/group æ–‡ä»¶ä¸­æ¯”å¯¹ç»„åã€‚æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥åŠ å…¥å¤šä¸ªé™„åŠ ç»„ï¼Œä½†æ˜¯åªèƒ½å±äºä¸€ä¸ªåˆå§‹ç»„ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å®é™…å·¥ä½œä¸­ï¼Œå¦‚æœéœ€è¦æŠŠç”¨æˆ·åŠ å…¥å…¶ä»–ç»„ï¼Œåˆ™éœ€è¦ä»¥é™„åŠ ç»„çš„å½¢å¼æ·»åŠ ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è®© lamp ä¹ŸåŠ å…¥ root è¿™ä¸ªç¾¤ç»„ï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨ç¬¬ä¸€è¡Œçš„æœ€åä¸€ä¸ªå­—æ®µåŠ å…¥ lampï¼Œå³ <code>root:x:0:lamp</code> å°±å¯ä»¥äº†ã€‚</p></li></ul></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p></li></ul><h4 id="8-5-9-useradd-æ·»åŠ æ–°ç”¨æˆ·">8.5.9 useradd æ·»åŠ æ–°ç”¨æˆ·</h4><p>Linux useradd å‘½ä»¤ç”¨äºå»ºç«‹ç”¨æˆ·å¸å·ã€‚</p><p><code>useradd</code> å¯ç”¨æ¥å»ºç«‹ç”¨æˆ·å¸å·ã€‚å¸å·å»ºå¥½ä¹‹åï¼Œå†ç”¨ <code>passwd</code> è®¾å®šå¸å·çš„å¯†ç ã€‚å¯ç”¨ <code>userdel</code> åˆ é™¤å¸å·ã€‚ä½¿ç”¨ <code>useradd</code> æŒ‡ä»¤æ‰€å»ºç«‹çš„å¸å·ï¼Œå®é™…ä¸Šæ˜¯ä¿å­˜åœ¨ <code>/etc/passwd</code> æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# useradd [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-u UID</td><td>æ‰‹å·¥æŒ‡å®šç”¨æˆ·çš„ UIDï¼Œæ³¨æ„ UID çš„èŒƒå›´ï¼ˆä¸è¦å°äº 500ï¼‰ã€‚</td></tr><tr><td>-d ä¸»ç›®å½•</td><td>æ‰‹å·¥æŒ‡å®šç”¨æˆ·çš„ä¸»ç›®å½•ã€‚ä¸»ç›®å½•å¿…é¡»å†™ç»å¯¹è·¯å¾„ï¼Œè€Œä¸”å¦‚æœéœ€è¦æ‰‹å·¥æŒ‡å®šä¸»ç›®å½•ï¼Œåˆ™ä¸€å®šè¦æ³¨æ„æƒé™ï¼›</td></tr><tr><td>-c ç”¨æˆ·è¯´æ˜</td><td>æ‰‹å·¥æŒ‡å®š/etc/passwdæ–‡ä»¶ä¸­å„ç”¨æˆ·ä¿¡æ¯ä¸­ç¬¬ 5 ä¸ªå­—æ®µçš„æè¿°æ€§å†…å®¹ï¼Œå¯éšæ„é…ç½®ï¼›</td></tr><tr><td>-g ç»„å</td><td>æ‰‹å·¥æŒ‡å®šç”¨æˆ·çš„åˆå§‹ç»„ã€‚ä¸€èˆ¬ä»¥å’Œç”¨æˆ·åç›¸åŒçš„ç»„ä½œä¸ºç”¨æˆ·çš„åˆå§‹ç»„ï¼Œåœ¨åˆ›å»ºç”¨æˆ·æ—¶<br/>ä¼šé»˜è®¤å»ºç«‹åˆå§‹ç»„ã€‚ä¸€æ—¦æ‰‹åŠ¨æŒ‡å®šï¼Œåˆ™ç³»ç»Ÿå°†ä¸ä¼šåœ¨åˆ›å»ºæ­¤é»˜è®¤çš„åˆå§‹ç»„ç›®å½•ã€‚</td></tr><tr><td>-G ç»„å</td><td>æŒ‡å®šç”¨æˆ·çš„é™„åŠ ç»„ã€‚æˆ‘ä»¬æŠŠç”¨æˆ·åŠ å…¥å…¶ä»–ç»„ï¼Œä¸€èˆ¬éƒ½ä½¿ç”¨é™„åŠ ç»„ï¼›</td></tr><tr><td>-s shell</td><td>æ‰‹å·¥æŒ‡å®šç”¨æˆ·çš„ç™»å½• Shellï¼Œé»˜è®¤æ˜¯ /bin/bashï¼›</td></tr><tr><td>-e æ›°æœŸ</td><td>æŒ‡å®šç”¨æˆ·çš„å¤±æ•ˆæ›°æœŸï¼Œæ ¼å¼ä¸º â€œYYYY-MM-DDâ€ã€‚ä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶çš„ç¬¬å…«ä¸ªå­—æ®µï¼›</td></tr><tr><td>-o</td><td>å…è®¸åˆ›å»ºçš„ç”¨æˆ·çš„ UID ç›¸åŒã€‚ä¾‹å¦‚ï¼Œæ‰§è¡Œ â€œuseradd -u 0 -o usertestâ€ å‘½ä»¤<br>å»ºç«‹ç”¨æˆ· usertestï¼Œå®ƒçš„ UID å’Œ root ç”¨æˆ·çš„ UID ç›¸åŒï¼Œéƒ½æ˜¯ 0ï¼›</td></tr><tr><td>-m</td><td>å»ºç«‹ç”¨æˆ·æ—¶å¼ºåˆ¶å»ºç«‹ç”¨æˆ·çš„å®¶ç›®å½•ã€‚åœ¨å»ºç«‹ç³»ç»Ÿç”¨æˆ·æ—¶ï¼Œè¯¥é€‰é¡¹æ˜¯é»˜è®¤çš„ï¼›</td></tr><tr><td>-r</td><td>åˆ›å»ºç³»ç»Ÿç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯ UID åœ¨ 1~499 ä¹‹é—´ï¼Œä¾›ç³»ç»Ÿç¨‹åºä½¿ç”¨çš„ç”¨æˆ·ã€‚<br/>ç”±äºç³»ç»Ÿç”¨æˆ·ä¸»è¦ç”¨äºè¿è¡Œç³»ç»Ÿæ‰€éœ€æœåŠ¡çš„æƒé™é…ç½®ï¼Œå› æ­¤ç³»ç»Ÿç”¨æˆ·çš„åˆ›å»ºé»˜è®¤ä¸ä¼šåˆ›å»ºä¸»ç›®å½•ã€‚</td></tr></tbody></table><p>å…¶å®ï¼Œç³»ç»Ÿå·²ç»å¸®æˆ‘ä»¬è§„å®šäº†éå¸¸å¤šçš„é»˜è®¤å€¼ï¼Œåœ¨æ²¡æœ‰ç‰¹æ®Šè¦æ±‚ä¸‹ï¼Œæ— éœ€ä½¿ç”¨ä»»ä½•é€‰é¡¹å³å¯æˆåŠŸåˆ›å»ºç”¨æˆ·ã€‚</p></li><li><p>æµç¨‹</p><ol><li><p>åˆ›å»º lamp æ™®é€šç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd lamp</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç”¨æˆ·çš„ UID æ˜¯ä» 500 å¼€å§‹è®¡ç®—çš„ã€‚åŒæ—¶é»˜è®¤æŒ‡å®šäº†ç”¨æˆ·çš„å®¶ç›®å½•ä¸º /home/lamp/ï¼Œç”¨æˆ·çš„ç™»å½• Shell ä¸º /bin/bashã€‚</p></li><li><p>åœ¨ /etc/passwd æ–‡ä»¶ä¸­åˆ›å»ºä¸€è¡Œä¸ lamp ç”¨æˆ·ç›¸å…³çš„æ•°æ®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep &quot;lamp&quot; /etc/passwd</span><br><span class="line">lamp:x:500:500::/home/lamp:/bin/bash</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¿™ä¸ªç”¨æˆ·è¿˜æ²¡æœ‰è®¾ç½®å¯†ç ï¼Œæ‰€ä»¥å¯†ç å­—æ®µæ˜¯ â€œ!!â€ï¼Œä»£è¡¨è¿™ä¸ªç”¨æˆ·æ²¡æœ‰åˆç†å¯†ç ï¼Œä¸èƒ½æ­£å¸¸ç™»å½•ã€‚åŒæ—¶ä¼šæŒ‰ç…§é»˜è®¤å€¼è®¾å®šæ—¶é—´å­—æ®µï¼Œä¾‹å¦‚å¯†ç æœ‰æ•ˆæœŸæœ‰ 99999 å¤©ï¼Œè·ç¦»å¯†ç è¿‡æœŸ 7 å¤©ç³»ç»Ÿä¼šæç¤ºç”¨æˆ·â€œå¯†ç å³å°†è¿‡æœŸâ€ç­‰ã€‚</p></li><li><p>åœ¨ /etc/group æ–‡ä»¶ä¸­åˆ›å»ºä¸€è¡Œä¸ç”¨æˆ·åä¸€æ¨¡ä¸€æ ·çš„ç¾¤ç»„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep &quot;lamp&quot; /etc/group</span><br><span class="line">lamp:x:500:</span><br></pre></td></tr></table></figure><p>è¯¥ç¾¤ç»„ä¼šä½œä¸ºæ–°å»ºç”¨æˆ·çš„åˆå§‹ç»„ã€‚</p></li><li><p>åœ¨ /etc/gshadow æ–‡ä»¶ä¸­æ–°å¢ä¸€è¡Œä¸æ–°å¢ç¾¤ç»„ç›¸å…³çš„å¯†ç ä¿¡æ¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# grep &quot;lamp&quot; /etc/gshadow</span><br><span class="line">lamp:!::</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæˆ‘ä»¬æ²¡æœ‰è®¾å®šç»„å¯†ç ï¼Œæ‰€ä»¥è¿™é‡Œæ²¡æœ‰å¯†ç ï¼Œä¹Ÿæ²¡æœ‰ç»„ç®¡ç†å‘˜ã€‚</p></li><li><p>é»˜è®¤åˆ›å»ºç”¨æˆ·çš„ä¸»ç›®å½•å’Œé‚®ç®±ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#ll -d /home/lamp/</span><br><span class="line">drwx------ 3 lamp lamp 4096 1æœˆ6 00:19 /home/lamp/</span><br><span class="line">[root@localhost ~]#ll /var/spod/mail/lamp</span><br><span class="line">-rw-rw---- 1 lamp mail 0 1æœˆ6 00:19 /var/spool/mail/lamp</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™ä¸¤ä¸ªæ–‡ä»¶çš„æƒé™ï¼Œéƒ½è¦è®© lamp ç”¨æˆ·æ‹¥æœ‰ç›¸åº”çš„æƒé™ã€‚</p></li><li><p>å°† /etc/skel ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­</p></li></ol></li><li><p>æ–°å¢ç”¨æˆ·ç»„æ—¶åˆå§‹åŒ–æ•°æ®</p><p>æ–‡ä»¶<code>/etc/default/useradd</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#vim /etc/default/useradd</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">useradd defaults file</span></span><br><span class="line">GR0UP=100</span><br><span class="line">HOME=/home</span><br><span class="line">INACTIVE=-1</span><br><span class="line">EXPIRE=</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">SKEL=/etc/skel</span><br><span class="line">CREATE_MAIL_SPOOL=yes</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€‰é¡¹æŸ¥çœ‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd -D</span><br></pre></td></tr></table></figure><ul><li><p>æ–‡ä»¶å†…å®¹</p><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>GR0UP=100</td><td>è¿™ä¸ªé€‰é¡¹ç”¨äºå»ºç«‹ç”¨æˆ·çš„é»˜è®¤ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ·»åŠ æ¯ä¸ªç”¨æˆ·æ—¶ï¼Œç”¨æˆ·çš„åˆå§‹ç»„å°±æ˜¯ GID ä¸º 100 çš„è¿™ä¸ªç”¨æˆ·ç»„ã€‚ä½† CentOS å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œè€Œæ˜¯åœ¨æ·»åŠ ç”¨æˆ·æ—¶ä¼šè‡ªåŠ¨å»ºç«‹å’Œç”¨æˆ·åç›¸åŒçš„ç»„ä½œä¸ºæ­¤ç”¨æˆ·çš„åˆå§‹ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé€‰é¡¹å¹¶ä¸ä¼šç”Ÿæ•ˆã€‚  Linux ä¸­é»˜è®¤ç”¨æˆ·ç»„æœ‰ä¸¤ç§æœºåˆ¶ï¼šä¸€ç§æ˜¯ç§æœ‰ç”¨æˆ·ç»„æœºåˆ¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªå’Œç”¨æˆ·åç›¸åŒçš„ç”¨æˆ·ç»„ä½œä¸ºç”¨æˆ·çš„åˆå§‹ç»„ï¼›å¦ä¸€ç§æ˜¯å…¬å…±ç”¨æˆ·ç»„æœºåˆ¶ï¼Œç³»ç»Ÿç”¨ GID æ˜¯ 100 çš„ç”¨æˆ·ç»„ä½œä¸ºæ‰€æœ‰æ–°å»ºç”¨æˆ·çš„åˆå§‹ç»„ã€‚ç›®å‰æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ç§æœ‰ç”¨æˆ·ç»„æœºåˆ¶ã€‚</td></tr><tr><td>HOME=/home</td><td>æŒ‡çš„æ˜¯ç”¨æˆ·ä¸»ç›®å½•çš„é»˜è®¤ä½ç½®ï¼Œæ‰€æœ‰æ–°å»ºç”¨æˆ·çš„ä¸»ç›®å½•é»˜è®¤éƒ½åœ¨ /home/ä¸‹ï¼Œåˆšåˆšæ–°å»ºçš„ lamp1 ç”¨æˆ·çš„ä¸»ç›®å½•å°±ä¸º /home/lamp1/ã€‚</td></tr><tr><td>INACTIVE=-1</td><td>æŒ‡çš„æ˜¯å¯†ç è¿‡æœŸåçš„å®½é™å¤©æ•°ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶çš„ç¬¬ä¸ƒä¸ªå­—æ®µã€‚è¿™é‡Œé»˜è®¤å€¼æ˜¯ -1ï¼Œä»£è¡¨æ‰€æœ‰æ–°å»ºç«‹çš„ç”¨æˆ·å¯†ç æ°¸è¿œä¸ä¼šå¤±æ•ˆã€‚</td></tr><tr><td>EXPIRE=</td><td>è¡¨ç¤ºå¯†ç å¤±æ•ˆæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶çš„ç¬¬å…«ä¸ªå­—æ®µã€‚é»˜è®¤å€¼æ˜¯ç©ºï¼Œä»£è¡¨æ‰€æœ‰æ–°å»ºç”¨æˆ·æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Œæ°¸ä¹…æœ‰æ•ˆã€‚</td></tr><tr><td>SHELL=/bin/bash</td><td>è¡¨ç¤ºæ‰€æœ‰æ–°å»ºç«‹çš„ç”¨æˆ·é»˜è®¤ Shell éƒ½æ˜¯ /bin/bashã€‚</td></tr><tr><td>SKEL=/etc/skel</td><td>åœ¨åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·åï¼Œä½ ä¼šå‘ç°ï¼Œè¯¥ç”¨æˆ·ä¸»ç›®å½•å¹¶ä¸æ˜¯ç©ºç›®å½•ï¼Œè€Œæ˜¯æœ‰ .bash_profileã€.bashrc ç­‰æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶éƒ½æ˜¯ä» /etc/skel ç›®å½•ä¸­è‡ªåŠ¨å¤åˆ¶è¿‡æ¥çš„ã€‚å› æ­¤ï¼Œæ›´æ”¹ /etc/skel ç›®å½•ä¸‹çš„å†…å®¹å°±å¯ä»¥æ”¹å˜æ–°å»ºç”¨æˆ·é»˜è®¤ä¸»ç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ã€‚</td></tr><tr><td>CREATE_MAIL_SPOOL=yes</td><td>æŒ‡çš„æ˜¯ç»™æ–°å»ºç”¨æˆ·å»ºç«‹é‚®ç®±ï¼Œé»˜è®¤æ˜¯åˆ›å»ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ‰€æœ‰çš„æ–°å»ºç”¨æˆ·ï¼Œç³»ç»Ÿéƒ½ä¼šæ–°å»ºä¸€ä¸ªé‚®ç®±ï¼Œæ”¾åœ¨ /var/spool/mail/ ç›®å½•ä¸‹ï¼Œå’Œç”¨æˆ·åç›¸åŒã€‚ä¾‹å¦‚ï¼Œ</td></tr></tbody></table></li></ul></li><li><p><strong>å®ä¾‹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd lamp1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…ˆæ‰‹å·¥æ·»åŠ lamp1ç”¨æˆ·ç»„ï¼Œå› ä¸ºæˆ‘ä¸€ä¼šå„¿è¦æŠŠlamp1ç”¨æˆ·çš„åˆå§‹è¿æŒ‡å®šè¿‡æ¥ï¼Œå¦‚æœä¸äº‹å…ˆå»ºç«‹ï¼Œåˆ™ä¼šæŠ¥å‘Šç”¨æˆ·ç»„ä¸å­˜åœ¨</span></span><br><span class="line">[root@localhost ~]# useradd -u 550 -g lamp1 -G root -d /home/lamp1 -c &quot;test user&quot; -s /bin/bash lamp1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨å»ºç«‹ç”¨æˆ·lamp1çš„åŒæ—¶ï¼ŒæŒ‡å®šäº†UIDï¼ˆ550ï¼‰ã€åˆå§‹ç»„ï¼ˆlamp1ï¼‰ã€é™„åŠ ç»„ï¼ˆrootï¼‰ã€å®¶ç›®å½•ï¼ˆ/home/lamp1/ï¼‰ã€ç”¨æˆ·è¯´æ˜ï¼ˆ<span class="built_in">test</span> userï¼‰å’Œç”¨æˆ·ç™»å½•Shellï¼ˆ/bin/bashï¼‰</span></span><br><span class="line">[root@localhost ~]# grep &quot;lamp1&quot; /etc/passwd /etc/shadow /etc/group</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åŒæ—¶æŸ¥çœ‹ä¸‰ä¸ªæ–‡ä»¶</span></span><br><span class="line">/etc/passwd:lamp1:x:550:502:test user:/home/lamp1:/bin/bash</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨æˆ·çš„UIDã€åˆå§‹ç»„ã€ç”¨æˆ·è¯´æ˜ã€å®¶ç›®å½•å’Œç™»å½•Shelléƒ½å’Œå‘½ä»¤æ‰‹å·¥æŒ‡å®šçš„ä¸€è‡´</span></span><br><span class="line">/etc/shadow:lamp1:!!:15710:0:99999:7:::</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">lamp1ç”¨æˆ·è¿˜æ²¡æœ‰è®¾å®šå¯†ç </span></span><br><span class="line">/etc/group:root:x:0:lamp1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">lamp1ç”¨æˆ·åŠ å…¥äº†rootç»„ï¼Œrootç»„æ˜¯lamp1ç”¨æˆ·çš„é™„åŠ ç»„</span></span><br><span class="line">/etc/group:lampl:x:502:</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">GIDä¸º502çš„ç»„æ˜¯lamp1ç»„</span></span><br><span class="line">[root@localhost ~]#ll -d /home/lamp1/</span><br><span class="line">drwx------ 3 lamp1 lamp1 4096 1æœˆ6 01:13 /home/lamp1/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®¶ç›®å½•ä¹Ÿå»ºç«‹äº†ï¼Œä¸éœ€è¦æ‰‹å·¥å»ºç«‹</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-5-10-passwd-è®¾ç½®ç”¨æˆ·å¯†ç ">8.5.10 passwd è®¾ç½®ç”¨æˆ·å¯†ç </h4><p>å¾ˆå¤šLinux å‘è¡Œç‰ˆä¸ºäº†ç³»ç»Ÿå®‰è£…ï¼Œéƒ½ä½¿ç”¨äº† PAM æ¨¡å—è¿›è¡Œå¯†ç çš„æ£€éªŒï¼Œè®¾ç½®å¯†ç å¤ªçŸ­ã€ä¸ç”¨æˆ·åç›¸åŒã€æ˜¯å¸¸è§å­—ç¬¦ä¸²ç­‰ï¼Œéƒ½ä¼šè¢« PAM æ¨¡å—æ£€æŸ¥å‡ºæ¥ï¼Œä»è€Œç¦æ­¢ç”¨æˆ·ä½¿ç”¨æ­¤ç±»å¯†ç ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# passwd [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-S</code></td><td>æŸ¥è¯¢ç”¨æˆ·å¯†ç çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ /etc/shadow æ–‡ä»¶ä¸­æ­¤ç”¨æˆ·å¯†ç çš„å†…å®¹ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-l</code></td><td>æš‚æ—¶é”å®šç”¨æˆ·ï¼Œè¯¥é€‰é¡¹ä¼šåœ¨ /etc/shadow æ–‡ä»¶ä¸­æŒ‡å®šç”¨æˆ·çš„åŠ å¯†å¯†ç ä¸²å‰æ·»åŠ  â€œ!â€ï¼Œä½¿å¯†ç å¤±æ•ˆ<br/>ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-u</code></td><td>è§£é”ç”¨æˆ·ï¼Œå’Œ -l é€‰é¡¹ç›¸å¯¹åº”ï¼ˆ ä»… root ç”¨æˆ·ä½¿ç”¨ï¼‰</td></tr><tr><td><code>-d</code></td><td>åˆ é™¤å¯†ç </td></tr><tr><td><code>-f</code></td><td>å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶å¿…é¡»ä¿®æ”¹å£ä»¤</td></tr><tr><td><code>--stdin</code></td><td>å¯ä»¥å°†é€šè¿‡ç®¡é“ç¬¦è¾“å‡ºçš„æ•°æ®ä½œä¸ºç”¨æˆ·çš„å¯†ç ã€‚ä¸»è¦åœ¨æ‰¹é‡æ·»åŠ ç”¨æˆ·æ—¶ä½¿ç”¨</td></tr><tr><td><code>-k</code></td><td>æ›´æ–°åªèƒ½å‘é€åœ¨è¿‡æœŸä¹‹å</td></tr><tr><td><code>-n</code></td><td>è®¾ç½®è¯¥ç”¨æˆ·ä¿®æ”¹å¯†ç åï¼Œå¤šé•¿æ—¶é—´ä¸èƒ½å†æ¬¡ä¿®æ”¹å¯†ç ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹ /etc/shadow æ–‡ä»¶ä¸­å„è¡Œå¯†ç <br/>çš„ç¬¬ 4 ä¸ªå­—æ®µ</td></tr><tr><td><code>-x</code></td><td>è®¾ç½®è¯¥ç”¨æˆ·çš„å¯†ç æœ‰æ•ˆæœŸï¼Œå¯¹åº” /etc/shadow æ–‡ä»¶ä¸­å„è¡Œå¯†ç çš„ç¬¬ 5 ä¸ªå­—æ®µ</td></tr><tr><td><code>-w</code></td><td>è®¾ç½®ç”¨æˆ·å¯†ç è¿‡æœŸå‰çš„è­¦å‘Šå¤©æ•°ï¼Œå¯¹äº /etc/shadow æ–‡ä»¶ä¸­å„è¡Œå¯†ç çš„ç¬¬ 6 ä¸ªå­—æ®µ</td></tr><tr><td><code>-i</code></td><td>è®¾ç½®ç”¨æˆ·å¯†ç å¤±æ•ˆæ—¥æœŸï¼Œå¯¹åº” /etc/shadow æ–‡ä»¶ä¸­å„è¡Œå¯†ç çš„ç¬¬ 7 ä¸ªå­—æ®µ</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>ä½¿ç”¨ root è´¦æˆ·ä¿®æ”¹ lamp æ™®é€šç”¨æˆ·çš„å¯†ç ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# passwd lamp</span><br><span class="line">Changing password for user lamp.</span><br><span class="line">New password: &lt;==ç›´æ¥è¾“å…¥æ–°çš„å£ä»¤ï¼Œä½†å±å¹•ä¸ä¼šæœ‰ä»»ä½•ååº”</span><br><span class="line">BAD PASSWORD: it is WAY too short &lt;==å£ä»¤å¤ªç®€å•æˆ–è¿‡çŸ­çš„é”™è¯¯ï¼è¿™é‡Œåªæ˜¯è­¦å‘Šä¿¡æ¯ï¼Œè¾“å…¥çš„å¯†ç ä¾æ—§èƒ½ç”¨</span><br><span class="line">Retype new password:  &lt;==å†æ¬¡éªŒè¯è¾“å…¥çš„å¯†ç ï¼Œå†è¾“å…¥ä¸€æ¬¡å³å¯</span><br><span class="line">passwd: all authentication tokens updated successfully.  &lt;==æç¤ºä¿®æ”¹å¯†ç æˆåŠŸ</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ passwd å‘½ä»¤ä¿®æ”¹å½“å‰ç³»ç»Ÿå·²ç™»å½•ç”¨æˆ·çš„å¯†ç ï¼Œä½†è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€çœç•¥æ‰ â€œé€‰é¡¹â€ å’Œ â€œç”¨æˆ·åâ€ã€‚ç™»é™† lamp ç”¨æˆ·ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#passwd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">passwdç›´æ¥å›è½¦ä»£è¡¨ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å¯†ç </span></span><br><span class="line">Changing password for user vbird2.</span><br><span class="line">Changing password for vbird2</span><br><span class="line">(current) UNIX password: &lt;==è¿™é‡Œè¾“å…¥ã€åŸæœ‰çš„æ—§å£ä»¤ã€</span><br><span class="line">New password: &lt;==è¿™é‡Œè¾“å…¥æ–°å£ä»¤</span><br><span class="line">BAD PASSWORD: it is WAY too short &lt;==å£ä»¤æ£€éªŒä¸é€šè¿‡ï¼Œè¯·å†æƒ³ä¸ªæ–°å£ä»¤</span><br><span class="line">New password: &lt;==è¿™é‡Œå†æƒ³ä¸ªæ¥è¾“å…¥å§</span><br><span class="line">Retype new password: &lt;==é€šè¿‡å£ä»¤éªŒè¯ï¼æ‰€ä»¥é‡å¤è¿™ä¸ªå£ä»¤çš„è¾“å…¥</span><br><span class="line">passwd: all authentication tokens updated successfully. &lt;==æˆåŠŸä¿®æ”¹ç”¨æˆ·å¯†ç </span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><ol><li><p>æ™®é€šç”¨æˆ·åªèƒ½ä½¿ç”¨ passwd å‘½ä»¤ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„å¯†ç ã€‚</p></li><li><p>ä¸ä½¿ç”¨ root è´¦æˆ·ä¿®æ”¹æ™®é€šç”¨æˆ·çš„å¯†ç ä¸åŒï¼Œæ™®é€šç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„å¯†ç éœ€è¦å…ˆè¾“å…¥è‡ªå·±çš„æ—§å¯†ç ï¼Œåªæœ‰æ—§å¯†ç è¾“å…¥æ­£ç¡®æ‰èƒ½è¾“å…¥æ–°å¯†ç ã€‚ä¸ä»…å¦‚æ­¤ï¼Œæ­¤ç§ä¿®æ”¹æ–¹å¼å¯¹å¯†ç çš„å¤æ‚åº¦æœ‰ä¸¥æ ¼çš„è¦æ±‚ï¼Œæ–°å¯†ç å¤ªçŸ­ã€å¤ªç®€å•ï¼Œéƒ½ä¼šè¢«ç³»ç»Ÿæ£€æµ‹å‡ºæ¥å¹¶ç¦æ­¢ç”¨æˆ·ä½¿ç”¨ã€‚</p></li><li><p>â€“stdin é€‰é¡¹ï¼Œç”¨äºæ‰¹é‡ç»™ç”¨æˆ·è®¾ç½®åˆå§‹å¯†ç ã€‚ä½¿ç”¨æ­¤æ–¹å¼æ‰¹é‡ç»™ç”¨æˆ·è®¾ç½®åˆå§‹å¯†ç ï¼Œå½“ç„¶å¥½å¤„å°±æ˜¯æ–¹ä¾¿å¿«æ·ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ ·è®¾å®šçš„å¯†ç ä¼šæŠŠå¯†ç æ˜æ–‡ä¿å­˜åœ¨å†å²å‘½ä»¤ä¸­ï¼Œå¦‚æœç³»ç»Ÿè¢«æ”»ç ´ï¼Œåˆ«äººå¯ä»¥åœ¨ /root/.bash_history ä¸­æ‰¾åˆ°è®¾ç½®å¯†ç çš„è¿™ä¸ªå‘½ä»¤ï¼Œå­˜åœ¨å®‰å…¨éšæ‚£ã€‚ï¼ˆâ‘ æ‰‹å·¥æ¸…é™¤å†å²å‘½ä»¤ï¼›â‘¡å¼ºåˆ¶è¿™äº›æ–°æ·»åŠ çš„ç”¨æˆ·åœ¨ç¬¬ä¸€æ¬¡ç™»å½•æ—¶å¿…é¡»ä¿®æ”¹å¯†ç ã€‚ï¼‰</p></li></ol></li></ol></li></ul><h4 id="8-5-11-usermod-ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯">8.5.11 usermod ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</h4><p>Linux usermodå‘½ä»¤ç”¨äºä¿®æ”¹ç”¨æˆ·å¸å·ä¿¡æ¯ã€‚</p><p>ä½¿ç”¨ Vim æ–‡æœ¬ç¼–è¾‘å™¨æ‰‹åŠ¨ä¿®æ”¹æ¶‰åŠç”¨æˆ·ä¿¡æ¯çš„ç›¸å…³æ–‡ä»¶ï¼ˆ/etc/passwdã€/etc/shadowã€/etc/groupã€/etc/gshadowï¼‰ï¼Œå¦ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ä½¿ç”¨æœ¬èŠ‚ä»‹ç»äº† usermod å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¸“é—¨ç”¨äºä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#usermod [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-c ç”¨æˆ·è¯´æ˜</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„è¯´æ˜ä¿¡æ¯ï¼Œå³ä¿®æ”¹ <code>/etc/passwd</code> æ–‡ä»¶ç›®æ ‡ç”¨æˆ·ä¿¡æ¯çš„ç¬¬ 5 ä¸ªå­—æ®µ</td></tr><tr><td><code>-d ä¸»ç›®å½•</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œå³ä¿®æ”¹ <code>/etc/passwd</code> æ–‡ä»¶ä¸­ç›®æ ‡ç”¨æˆ·ä¿¡æ¯çš„ç¬¬ 6 ä¸ªå­—æ®µï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸»ç›®å½•å¿…é¡»å†™ç»å¯¹è·¯å¾„</td></tr><tr><td><code>-e æ—¥æœŸ</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„å¤±æ•ˆæ›°æœŸï¼Œæ ¼å¼ä¸º â€œYYYY-MM-DDâ€ï¼Œå³ä¿®æ”¹ /etc/shadow æ–‡ä»¶ç›®æ ‡ç”¨æˆ·å¯†ç ä¿¡æ¯çš„ç¬¬ 8 ä¸ªå­—æ®µ</td></tr><tr><td><code>-g ç»„å</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„åˆå§‹ç»„ï¼Œå³ä¿®æ”¹ <code>/etc/passwd</code> æ–‡ä»¶ç›®æ ‡ç”¨æˆ·ä¿¡æ¯çš„ç¬¬ 4 ä¸ªå­—æ®µï¼ˆGIDï¼‰</td></tr><tr><td><code>-u UID</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„UIDï¼Œå³ä¿®æ”¹ <code>/etc/passwd</code> æ–‡ä»¶ç›®æ ‡ç”¨æˆ·ä¿¡æ¯çš„ç¬¬ 3 ä¸ªå­—æ®µï¼ˆUIDï¼‰</td></tr><tr><td><code>-G ç»„å</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„é™„åŠ ç»„ï¼Œå…¶å®å°±æ˜¯æŠŠç”¨æˆ·åŠ å…¥å…¶ä»–ç”¨æˆ·ç»„ï¼Œå³ä¿®æ”¹ /etc/group æ–‡ä»¶</td></tr><tr><td><code>-l ç”¨æˆ·å</code></td><td>ä¿®æ”¹ç”¨æˆ·åç§°</td></tr><tr><td><code>-L</code></td><td>ä¸´æ—¶é”å®šç”¨æˆ·ï¼ˆLockï¼‰</td></tr><tr><td><code>-U</code></td><td>è§£é”ç”¨æˆ·ï¼ˆUnlockï¼‰ï¼Œå’Œ -L å¯¹åº”</td></tr><tr><td><code>-s shell</code></td><td>ä¿®æ”¹ç”¨æˆ·çš„ç™»å½• Shellï¼Œé»˜è®¤æ˜¯ <code>/bin/bash</code></td></tr></tbody></table><p>å…¶å® usermod å‘½ä»¤æä¾›çš„é€‰é¡¹å’Œ useradd å‘½ä»¤çš„é€‰é¡¹ç›¸ä¼¼ï¼Œå› ä¸º usermod å‘½ä»¤å°±æ˜¯ç”¨æ¥è°ƒæ•´ä½¿ç”¨ useradd å‘½ä»¤æ·»åŠ çš„ç”¨æˆ·ä¿¡æ¯çš„ã€‚</p><p>usermod å‘½ä»¤è¿˜å¤šå‡ºäº†å‡ ä¸ªé€‰é¡¹ï¼Œå³ -L å’Œ -Uï¼Œä½œç”¨åˆ†åˆ«ä¸ passwd å‘½ä»¤çš„ -l å’Œ-u ç›¸åŒã€‚æ­¤å‘½ä»¤å¯¹ç”¨æˆ·çš„ä¸´æ—¶é”å®šï¼ŒåŒ passwd å‘½ä»¤ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ /etc/passwd æ–‡ä»¶ç›®æ ‡ç”¨æˆ·çš„åŠ å¯†å¯†ç å­—æ®µå‰æ·»åŠ  â€œ!â€ï¼Œä½¿å¯†ç å¤±æ•ˆï¼›åä¹‹ï¼Œè§£é”ç”¨æˆ·å°±æ˜¯å°†æ·»åŠ çš„ â€œ!â€ å»æ‰ã€‚</p></li><li><p><strong>å®ä¾‹</strong></p></li></ul><h4 id="8-4-13-userdel-åˆ é™¤ç”¨æˆ·">8.4.13 userdel åˆ é™¤ç”¨æˆ·</h4><p>Linux userdelå‘½ä»¤ç”¨äºåˆ é™¤ç”¨æˆ·å¸å·ã€‚</p><p>userdelå¯åˆ é™¤ç”¨æˆ·å¸å·ä¸ç›¸å…³çš„æ–‡ä»¶ã€‚è‹¥ä¸åŠ å‚æ•°ï¼Œåˆ™ä»…åˆ é™¤ç”¨æˆ·å¸å·ï¼Œä½†æ˜¯ä¸åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œé‚£ä¹ˆå®¶ç›®å½•å°±ä¼šå˜æˆæ²¡æœ‰å±ä¸»å’Œå±ç»„çš„ç›®å½•ï¼Œä¹Ÿå°±æ˜¯åƒåœ¾æ–‡ä»¶ã€‚</p><p><strong><span style="color:red;">â€»æ³¨æ„ï¼šå¦‚æœè¦åˆ é™¤çš„ç”¨æˆ·å·²ç»ä½¿ç”¨è¿‡ç³»ç»Ÿä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆæ­¤ç”¨æˆ·å¯èƒ½åœ¨ç³»ç»Ÿä¸­ç•™æœ‰å…¶ä»–æ–‡ä»¶ï¼Œå› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä»ç³»ç»Ÿä¸­å½»åº•çš„åˆ é™¤æŸä¸ªç”¨æˆ·ï¼Œæœ€å¥½åœ¨ä½¿ç”¨ userdel å‘½ä»¤ä¹‹å‰ï¼Œå…ˆé€šè¿‡ <code>find -user ç”¨æˆ·å</code> å‘½ä»¤æŸ¥å‡ºç³»ç»Ÿä¸­å±äºè¯¥ç”¨æˆ·çš„æ–‡ä»¶ï¼Œç„¶ååœ¨åŠ ä»¥åˆ é™¤ã€‚</span></strong></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# userdel [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ é™¤ç”¨æˆ·çš„åŒæ—¶åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•</span></span><br><span class="line">[root@localhost ~]# userdel -r username</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-r</td><td>åˆ é™¤ç”¨æˆ·ç™»å…¥ç›®å½•ä»¥åŠç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶</td></tr></tbody></table></li><li><p><s>æ‰‹åŠ¨åˆ é™¤</s></p><p>æ‰‹åŠ¨åˆ é™¤ç”¨æˆ·ï¼Œä»…æ˜¯ä¸ºäº†å¯¹ userdel å‘½ä»¤ç†è§£åœ°æ›´é€å½»ï¼Œå®é™…ä½¿ç”¨ä¸­ï¼Œä½¿ç”¨ userdel åˆ é™¤ç”¨æˆ·æ›´æ–¹ä¾¿ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å»ºç«‹æ–° lamp ç”¨æˆ·</span></span><br><span class="line">[root@localhost ~]# useradd lamp</span><br><span class="line">[root@localhost ~]# passwd lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸º lamp ç”¨æˆ·è®¾ç½®å¯†ç ï¼Œç”±æ­¤ lamp ç”¨æˆ·æ‰ç®—æ˜¯åˆ›å»ºæˆåŠŸ</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸‹é¢å¼€å§‹æ‰‹åŠ¨åˆ é™¤ lamp</span></span><br><span class="line">[root@localhost ~]# vi /etc/passwd</span><br><span class="line">lamp:x:501:501::/home/lamp:/bin/bash   &lt;--åˆ é™¤æ­¤è¡Œ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶ï¼Œåˆ é™¤lampç”¨æˆ·è¡Œ</span></span><br><span class="line">[root@localhost ~]#vi /etc/shadow</span><br><span class="line">lamp:$6$KoOYtcOJ $56Xk9vp3D2vMRBxibNOn.21cVJ9onbW8IHx4WrOx6qBqfGa9U3mjMsGjqYnj L/4t3zt3YxElce2X8rbb12x4a0:15716:0:99999:7:::   &lt;--åˆ é™¤æ­¤è¡Œ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹å½±å­æ–‡ä»¶ï¼Œåˆ é™¤lampç”¨æˆ·å¯†ç è¡Œï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶çš„æƒé™æ˜¯000ï¼Œæ‰€ä»¥è¦å¼ºåˆ¶ä¿å­˜</span></span><br><span class="line">[root@localhost ~]#vi /etc/group</span><br><span class="line">lamp:x:501:  &lt;--åˆ é™¤æ­¤è¡Œ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹ç»„ä¿¡æ¯æ–‡ä»¶ï¼Œåˆ é™¤lampç¾¤ç»„ä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]#vi /etc/gshadow</span><br><span class="line">lamp:!::  &lt;--åˆ é™¤æ­¤è¡Œ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹ç»„å½±å­æ–‡ä»¶ï¼Œåˆ é™¤lampç¾¤ç»„å¯†ç ä¿¡æ¯ã€‚åŒæ ·æ³¨æ„éœ€è¦å¼ºåˆ¶ä¿å­˜</span></span><br><span class="line">[root@localhost ~]# rm -rf /var/spod/mail/lamp  #åˆ é™¤ç”¨æˆ·é‚®ç®±</span><br><span class="line">[root@localhost ~]# rm -rf/home/lamp/  #åˆ é™¤ç”¨æˆ·çš„å®¶ç›®å½•</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è‡³æ­¤ï¼Œç”¨æˆ·å½»åº•åˆ é™¤ï¼Œå†æ–°å»ºç”¨æˆ·lampã€‚å¦‚æœå¯ä»¥æ­£å¸¸å»ºç«‹ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬æ‰‹å·¥åˆ é™¤å¹²å‡€äº†</span></span><br><span class="line">[root@localhost ~]# useradd lamp</span><br><span class="line">[root@localhost ~]# passwd lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡æ–°å»ºç«‹åŒåç”¨æˆ·ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜å‰é¢çš„æ‰‹å·¥åˆ é™¤æ˜¯å¯ä»¥å®Œå…¨åˆ é™¤ç”¨æˆ·çš„</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-4-14-id-æŸ¥çœ‹ç”¨æˆ·çš„UIDå’ŒGID">8.4.14 id æŸ¥çœ‹ç”¨æˆ·çš„UIDå’ŒGID</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# id [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# id username</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-g</code>ï¼š<code>--group</code></td><td>æ˜¾ç¤ºç”¨æˆ·æ‰€å±ç¾¤ç»„çš„ID</td></tr><tr><td><code>-G</code>ï¼š<code>--groups</code></td><td>æ˜¾ç¤ºç”¨æˆ·æ‰€å±é™„åŠ ç¾¤ç»„çš„ID</td></tr><tr><td><code>-n</code>ï¼š<code>--name</code></td><td>æ˜¾ç¤ºç”¨æˆ·ï¼Œæ‰€å±ç¾¤ç»„æˆ–é™„åŠ ç¾¤ç»„çš„åç§°</td></tr><tr><td><code>-r</code>ï¼š<code>--real</code></td><td>æ˜¾ç¤ºå®é™…ID</td></tr><tr><td><code>-u</code>ï¼š<code>--user</code></td><td>æ˜¾ç¤ºç”¨æˆ·ID</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# id lamp</span><br><span class="line">uid=501(lamp) gid=501(lamp) groups=501(lamp)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">èƒ½çœ‹åˆ°uid(ç”¨æˆ·ID)ã€gid(åˆå§‹ç»„ID), <span class="built_in">groups</span>æ˜¯ç”¨æˆ·æ‰€åœ¨ç»„ï¼Œè¿™é‡Œæ—¢å¯ä»¥çœ‹åˆ°åˆå§‹ç»„ï¼Œå¦‚æœæœ‰é™„åŠ ç»„ï¼Œåˆ™ä¹Ÿèƒ½çœ‹åˆ°é™„åŠ ç»„</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-4-15-su-ç”¨æˆ·é—´åˆ‡æ¢">8.4.15 su ç”¨æˆ·é—´åˆ‡æ¢</h4><p>Linux suï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šswitch userï¼‰å‘½ä»¤ç”¨äºå˜æ›´ä¸ºå…¶ä»–ä½¿ç”¨è€…çš„èº«ä»½ï¼Œé™¤ root å¤–ï¼Œéœ€è¦é”®å…¥è¯¥ä½¿ç”¨è€…çš„å¯†ç ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# su [options] username</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[lamp@localhost ~]$ su -root</span><br><span class="line">å¯†ç ï¼š &lt;-- è¾“å…¥ root ç”¨æˆ·çš„å¯†ç </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;-&quot;</span>ä»£è¡¨è¿å¸¦ç¯å¢ƒå˜é‡ä¸€èµ·åˆ‡æ¢ï¼Œä¸èƒ½çœç•¥</span></span><br><span class="line"></span><br><span class="line">[lamp@localhost ~]$ su - -c ls root</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å˜æ›´å¸å·ä¸º root å¹¶åœ¨æ‰§è¡Œ <span class="built_in">ls</span> æŒ‡ä»¤åé€€å‡ºå˜å›åŸä½¿ç”¨è€…</span></span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-</code></td><td>å½“å‰ç”¨æˆ·ä¸ä»…åˆ‡æ¢ä¸ºæŒ‡å®šç”¨æˆ·çš„èº«ä»½ï¼ŒåŒæ—¶æ‰€ç”¨çš„å·¥ä½œç¯å¢ƒä¹Ÿåˆ‡æ¢ä¸ºæ­¤ç”¨æˆ·çš„ç¯å¢ƒ<br/>ï¼ˆåŒ…æ‹¬ PATH å˜é‡ã€MAIL å˜é‡ç­‰ï¼‰ï¼Œä½¿ç”¨ - é€‰é¡¹å¯çœç•¥ç”¨æˆ·åï¼Œé»˜è®¤ä¼šåˆ‡æ¢ä¸º root ç”¨æˆ·ã€‚</td></tr><tr><td><code>-l</code></td><td>åŒ - çš„ä½¿ç”¨ç±»ä¼¼ï¼Œä¹Ÿå°±æ˜¯åœ¨åˆ‡æ¢ç”¨æˆ·èº«ä»½çš„åŒæ—¶ï¼Œå®Œæ•´åˆ‡æ¢å·¥ä½œç¯å¢ƒï¼Œä½†åé¢éœ€è¦æ·»åŠ æ¬²åˆ‡æ¢çš„ä½¿ç”¨è€…è´¦å·ã€‚</td></tr><tr><td><code>-p</code>ï¼š<code>-m</code></td><td>è¡¨ç¤ºåˆ‡æ¢ä¸ºæŒ‡å®šç”¨æˆ·çš„èº«ä»½ï¼Œä½†ä¸æ”¹å˜å½“å‰çš„å·¥ä½œç¯å¢ƒï¼ˆä¸ä½¿ç”¨åˆ‡æ¢ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td><code>-c å‘½ä»¤</code></td><td>ä»…åˆ‡æ¢ç”¨æˆ·æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ï¼Œæ‰§è¡Œåè‡ªåŠ¨åˆ‡æ¢å›æ¥ï¼Œè¯¥é€‰é¡¹åé€šå¸¸ä¼šå¸¦æœ‰è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚</td></tr></tbody></table></li><li><p><strong><code>su</code> å’Œ <code>su -</code> çš„åŒºåˆ«</strong></p><p>ä½¿ç”¨ su å‘½ä»¤æ—¶ï¼Œæœ‰ - å’Œæ²¡æœ‰ - æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œ- é€‰é¡¹è¡¨ç¤ºåœ¨åˆ‡æ¢ç”¨æˆ·èº«ä»½çš„åŒæ—¶ï¼Œè¿å½“å‰ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ä¹Ÿåˆ‡æ¢æˆæŒ‡å®šç”¨æˆ·çš„ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œç¯å¢ƒå˜é‡æ˜¯ç”¨æ¥å®šä¹‰æ“ä½œç³»ç»Ÿç¯å¢ƒçš„ï¼Œå› æ­¤å¦‚æœç³»ç»Ÿç¯å¢ƒæ²¡æœ‰éšç”¨æˆ·èº«ä»½åˆ‡æ¢ï¼Œå¾ˆå¤šå‘½ä»¤æ— æ³•æ­£ç¡®æ‰§è¡Œã€‚</p><ul><li><p>eg.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">lamp@localhost ~]$ whoami</span><br><span class="line">lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢ç”¨æˆ·èº«ä»½ï¼Œæˆ‘æ˜¯lamp</span></span><br><span class="line">[lamp@localhost ~]$ su root</span><br><span class="line">å¯†ç ï¼š</span><br><span class="line">&lt;-è¾“å…¥rootå¯†ç </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ‡æ¢åˆ°rootï¼Œä½†æ˜¯æ²¡æœ‰åˆ‡æ¢ç¯å¢ƒå˜é‡ã€‚æ³¨æ„ï¼šæ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°rootéœ€è¦å¯†ç </span></span><br><span class="line">[root@localhost ~]# env | grep lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç¯å¢ƒå˜é‡ï¼Œæå–åŒ…å«lampçš„è¡Œ</span></span><br><span class="line">USER=lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨æˆ·åè¿˜æ˜¯lampï¼Œè€Œä¸æ˜¯root</span></span><br><span class="line">PATH=/usr/lib/qt-3.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/lamp/bin</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‘½ä»¤æŸ»æ‰¾çš„è·¯å¾„ä¸åŒ…å«è¶…çº§ç”¨æˆ·è·¯å¾„</span></span><br><span class="line">MAIL=/var/spool/mail/lamp</span><br><span class="line">PWD=/home/lamp</span><br><span class="line">LOGNAME=lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‚®ç®±ã€ä¸»ç›®å½•ã€ç›®å‰ç”¨æˆ·åè¿˜æ˜¯lamp</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>å®ä¾‹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[lamp@localhost ~]$ whoami</span><br><span class="line">lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å½“å‰æˆ‘æ˜¯lamp</span></span><br><span class="line">[lamp@localhost ~]$ su - -c &quot;useradd user1&quot; root</span><br><span class="line">å¯†ç ï¼š</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸åˆ‡æ¢æˆrootï¼Œä½†æ˜¯æ‰§è¡Œuseraddå‘½ä»¤æ·»åŠ user1ç”¨æˆ·</span></span><br><span class="line">[lamp@localhost ~]$ whoami</span><br><span class="line">lamp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æˆ‘è¿˜æ˜¯lamp</span></span><br><span class="line">[lamp@localhost ~]$ grep &quot;user1&#x27; /etc/passwd</span><br><span class="line">userl:x:502:504::/home/user1:/bin/bash</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">userç”¨æˆ·å·²ç»æ·»åŠ äº†</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-4-16-who-æŸ¥çœ‹ç™»å½•ç”¨æˆ·ä¿¡æ¯">8.4.16 who æŸ¥çœ‹ç™»å½•ç”¨æˆ·ä¿¡æ¯</h4><p>Linuxä¸­ who å‘½ä»¤ç”¨äºæ˜¾ç¤ºç³»ç»Ÿä¸­æœ‰å“ªäº›ä½¿ç”¨è€…æ­£åœ¨ä¸Šé¢ï¼Œæ˜¾ç¤ºçš„èµ„æ–™åŒ…å«äº†ä½¿ç”¨è€… IDã€ä½¿ç”¨çš„ç»ˆç«¯æœºã€ä»å“ªè¾¹è¿ä¸Šæ¥çš„ã€ä¸Šçº¿æ—¶é—´ã€å‘†æ»æ—¶é—´ã€CPU ä½¿ç”¨é‡ã€åŠ¨ä½œç­‰ç­‰ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# who [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# whoami</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-H</code>ï¼š<code>--heading</code></td><td>æ˜¾ç¤ºå„æ ä½çš„æ ‡é¢˜ä¿¡æ¯åˆ—</td></tr><tr><td><code>-i </code>ï¼š<code> -u</code>ï¼š<code>--idle</code></td><td>æ˜¾ç¤ºé—²ç½®æ—¶é—´ï¼Œè‹¥è¯¥ç”¨æˆ·åœ¨å‰ä¸€åˆ†é’Ÿä¹‹å†…æœ‰è¿›è¡Œä»»ä½•åŠ¨ä½œï¼Œ<br/>å°†æ ‡ç¤ºæˆ&quot;.&quot;å·ï¼Œå¦‚æœè¯¥ç”¨æˆ·å·²è¶…è¿‡24å°æ—¶æ²¡æœ‰ä»»ä½•åŠ¨ä½œï¼Œåˆ™<br/>æ ‡ç¤ºå‡º&quot;old&quot;å­—ç¬¦ä¸²</td></tr><tr><td><code>-m</code>ï¼š<code>am i</code></td><td>ç™»é™†å½“å‰ç³»ç»Ÿçš„ç”¨æˆ·å</td></tr><tr><td><code>-q</code>ï¼š<code>--count</code></td><td>åªæ˜¾ç¤ºç™»å…¥ç³»ç»Ÿçš„å¸å·åç§°å’Œæ€»äººæ•°</td></tr><tr><td><code>-s</code></td><td>æ­¤å‚æ•°å°†å¿½ç•¥ä¸äºˆå¤„ç†ï¼Œä»…è´Ÿè´£è§£å†³whoæŒ‡ä»¤å…¶ä»–ç‰ˆæœ¬çš„å…¼å®¹æ€§é—®é¢˜</td></tr><tr><td><code>-w</code> ï¼š<code>-T</code>ï¼š<code>--mesg</code>ï¼š<code>--message</code>ï¼š<code>--writable</code></td><td>æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯çŠ¶æ€æ </td></tr><tr><td><code>--help</code></td><td>åœ¨çº¿å¸®åŠ©</td></tr><tr><td><code>--version</code></td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table></li><li><p><strong><font style="color:red;"><code>whoami</code> å’Œ <code>who am i</code> åŒºåˆ«</font></strong></p><p>whoami å‘½ä»¤å’Œ who am i å‘½ä»¤æ˜¯ä¸åŒçš„ 2 ä¸ªå‘½ä»¤ï¼Œå‰è€…ç”¨æ¥æ‰“å°å½“å‰æ‰§è¡Œæ“ä½œçš„ç”¨æˆ·åï¼Œåè€…åˆ™ç”¨æ¥æ‰“å°ç™»é™†å½“å‰ Linux ç³»ç»Ÿçš„ç”¨æˆ·åã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°åŒºåˆ†è¿™ 2 ä¸ªå‘½ä»¤çš„åŠŸèƒ½ï¼Œç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ç”¨æˆ·åä¸ºâ€œCyuyanâ€ç™»é™† Linux ç³»ç»Ÿï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Cyuyan@localhost ~]$ whoami</span><br><span class="line">Cyuyan</span><br><span class="line">[Cyuyan@localhost ~]$ who am i</span><br><span class="line">Cyuyan  pts/0  2017-10-09 15:30 (:0.0)</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä½¿ç”¨ su å‘½ä»¤åˆ‡æ¢åˆ° root ç”¨æˆ·ä¸‹ï¼Œå†æ‰§è¡Œä¸€éä¸Šé¢çš„å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Cyuyan@localhost ~] su - root</span><br><span class="line">[root@localhost ~]$ whoami</span><br><span class="line">root</span><br><span class="line">[root@localhost ~]$ who am i</span><br><span class="line">Cyuyan  pts/0  2017-10-09 15:30 (:0.0)</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°äº†å—ï¼Ÿåœ¨æœªåˆ‡æ¢ç”¨æˆ·èº«ä»½ä¹‹å‰ï¼Œwhoami å’Œ who am i å‘½ä»¤çš„è¾“å‡ºæ˜¯ä¸€æ ·çš„ï¼Œä½†ä½¿ç”¨ su å‘½ä»¤åˆ‡æ¢ç”¨æˆ·èº«ä»½åï¼Œä½¿ç”¨ whoami å‘½ä»¤æ‰“å°çš„æ˜¯åˆ‡æ¢åçš„ç”¨æˆ·åï¼Œè€Œ who am i å‘½ä»¤æ‰“å°çš„ä»æ—§æ˜¯ç™»é™†ç³»ç»Ÿæ—¶æ‰€ç”¨çš„ç”¨æˆ·åã€‚</p><blockquote><p>æ‰§è¡Œ whoami å‘½ä»¤ï¼Œç­‰åŒäºæ‰§è¡Œ id -un å‘½ä»¤ï¼›æ‰§è¡Œ who am i å‘½ä»¤ï¼Œç­‰åŒäºæ‰§è¡Œ who -m å‘½ä»¤ã€‚</p></blockquote></li></ul><h4 id="8-4-17-groupadd-æ·»åŠ ç”¨æˆ·ç»„">8.4.17 groupadd æ·»åŠ ç”¨æˆ·ç»„</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd [options] groupname</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-g</td><td>æŒ‡å®šæ–°å»ºå·¥ä½œç»„çš„ id</td></tr><tr><td>-r</td><td>åˆ›å»ºç³»ç»Ÿå·¥ä½œç»„ï¼Œç³»ç»Ÿå·¥ä½œç»„çš„ç»„ ID å°äº 500</td></tr><tr><td>-K</td><td>è¦†ç›–é…ç½®æ–‡ä»¶ <code>/etc/login.defs</code></td></tr><tr><td>-o</td><td>å…è®¸æ·»åŠ ç»„ ID å·ä¸å”¯ä¸€çš„å·¥ä½œç»„</td></tr><tr><td>-fï¼šâ€“force</td><td>å¦‚æœæŒ‡å®šçš„ç»„å·²ç»å­˜åœ¨ï¼Œæ­¤é€‰é¡¹å°†å¤±æ˜äº†ä»…ä»¥æˆåŠŸçŠ¶æ€é€€å‡ºã€‚å½“ä¸ -g ä¸€èµ·ä½¿ç”¨ï¼Œå¹¶ä¸”æŒ‡å®šçš„ GID_MIN å·²ç»å­˜åœ¨æ—¶ï¼Œé€‰æ‹©å¦ä¸€ä¸ªå”¯ä¸€çš„ GIDï¼ˆå³ -g å…³é—­ï¼‰</td></tr></tbody></table></li><li><p>ç›¸å…³æ–‡ä»¶</p><ul><li><p><code>/etc/group</code> ç»„è´¦æˆ·ä¿¡æ¯ã€‚</p></li><li><p><code>/etc/gshadow</code> å®‰å…¨ç»„è´¦æˆ·ä¿¡æ¯ã€‚</p></li><li><p><code>/etc/login.defs</code> Shadowå¯†ç å¥—ä»¶é…ç½®ã€‚</p></li></ul></li></ul><h4 id="8-4-18-groupmod-ä¿®æ”¹ç”¨æˆ·ç»„">8.4.18 groupmod ä¿®æ”¹ç”¨æˆ·ç»„</h4><p>Linux groupmodå‘½ä»¤ç”¨äºæ›´æ”¹ç¾¤ç»„è¯†åˆ«ç æˆ–åç§°ã€‚éœ€è¦æ›´æ”¹ç¾¤ç»„çš„è¯†åˆ«ç æˆ–åç§°æ—¶ï¼Œå¯ç”¨groupmodæŒ‡ä»¤æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p><strong><font style="color:red;">â€»æ³¨æ„ï¼šç”¨æˆ·åä¸è¦éšæ„ä¿®æ”¹ï¼Œç»„åå’Œ GID ä¹Ÿä¸è¦éšæ„ä¿®æ”¹ï¼Œå› ä¸ºéå¸¸å®¹æ˜“å¯¼è‡´ç®¡ç†å‘˜é€»è¾‘æ··ä¹±ã€‚å¦‚æœéè¦ä¿®æ”¹ç”¨æˆ·åæˆ–ç»„åï¼Œåˆ™å»ºè®®å¤§å®¶å…ˆåˆ é™¤æ—§çš„ï¼Œå†å»ºç«‹æ–°çš„ã€‚</font></strong></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupmod [options] groupname</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-g &lt;ç¾¤ç»„è¯†åˆ«ç &gt;</td><td>è®¾ç½®æ¬²ä½¿ç”¨çš„ç¾¤ç»„è¯†åˆ«ç </td></tr><tr><td>-o</td><td>é‡å¤ä½¿ç”¨ç¾¤ç»„è¯†åˆ«ç </td></tr><tr><td>-n &lt;æ–°ç¾¤ç»„åç§°&gt;</td><td>è®¾ç½®æ¬²ä½¿ç”¨çš„ç¾¤ç»„åç§°</td></tr></tbody></table></li></ul><h4 id="8-4-19-groupdel-åˆªé™¤ç”¨æˆ·ç»„">8.4.19 groupdel åˆªé™¤ç”¨æˆ·ç»„</h4><p>Linux groupdelå‘½ä»¤ç”¨äºåˆ é™¤ç¾¤ç»„ã€‚éœ€è¦ä»ç³»ç»Ÿä¸Šåˆ é™¤ç¾¤ç»„æ—¶ï¼Œå¯ç”¨groupdel(group delete)æŒ‡ä»¤æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚å€˜è‹¥è¯¥ç¾¤ç»„ä¸­ä»åŒ…æ‹¬æŸäº›ç”¨æˆ·ï¼Œåˆ™å¿…é¡»å…ˆåˆ é™¤è¿™äº›ç”¨æˆ·åï¼Œæ–¹èƒ½åˆ é™¤ç¾¤ç»„ã€‚</p><p><strong><font style="color:red;">â€»æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ groupdel å‘½ä»¤éšæ„åˆ é™¤ç¾¤ç»„ã€‚æ­¤å‘½ä»¤ä»…é€‚ç”¨äºåˆ é™¤é‚£äº› â€œä¸æ˜¯ä»»ä½•ç”¨æˆ·åˆå§‹ç»„â€ çš„ç¾¤ç»„ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœæœ‰ç¾¤ç»„è¿˜æ˜¯æŸç”¨æˆ·çš„åˆå§‹ç¾¤ç»„ï¼Œåˆ™æ— æ³•ä½¿ç”¨ groupdel å‘½ä»¤æˆåŠŸåˆ é™¤ã€‚</font></strong></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupdel groupname</span><br></pre></td></tr></table></figure></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>groupdel å‘½ä»¤åˆ é™¤ temp ç¾¤ç»„å¤±è´¥ï¼Œä¸”æç¤ºâ€œä¸èƒ½åˆ é™¤ temp ç”¨æˆ·çš„åˆå§‹ç»„â€ã€‚å¦‚æœä¸€å®šè¦åˆ é™¤ temp ç¾¤ç»„ï¼Œè¦ä¹ˆä¿®æ”¹ temp ç”¨æˆ·çš„ GIDï¼Œä¹Ÿå°±æ˜¯å°†å…¶åˆå§‹ç»„æ”¹ä¸ºå…¶ä»–ç¾¤ç»„ï¼Œè¦ä¹ˆå…ˆåˆ é™¤ temp ç”¨æˆ·ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd temp</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ° temp ç”¨æˆ·å»ºç«‹çš„åŒæ—¶ï¼Œè¿˜åˆ›å»ºäº† temp ç¾¤ç»„ï¼Œä¸”å°†å…¶ä½œä¸º tempç”¨æˆ·çš„åˆå§‹ç»„ï¼ˆç»„IDéƒ½æ˜¯ 505ï¼‰</span></span><br><span class="line">[root@localhost ~]# grep &quot;temp&quot; /etc/passwd /etc/group /etc/gshadow</span><br><span class="line">/etc/passwd:temp:x:505:505::/home/temp:/bin/bash</span><br><span class="line">/etc/group:temp:x:505:</span><br><span class="line">/etc/gshadow:temp:!::</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸‹é¢å°è¯•åˆ é™¤ temp ç¾¤ç»„</span></span><br><span class="line">[root@localhost ~]# groupdel temp</span><br><span class="line">groupdel:cannot remove the primary group of user &#x27;temp&#x27;</span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="8-4-20-gpasswd-æŠŠç”¨æˆ·æ·»åŠ è¿›ç»„æˆ–ä»ç»„ä¸­åˆ é™¤">8.4.20 gpasswd æŠŠç”¨æˆ·æ·»åŠ è¿›ç»„æˆ–ä»ç»„ä¸­åˆ é™¤</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gpasswd [options] groupname</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td></td><td>é€‰é¡¹ä¸ºç©ºæ—¶ï¼Œè¡¨ç¤ºç»™ç¾¤ç»„è®¾ç½®å¯†ç ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-A user1,...</code></td><td>å°†ç¾¤ç»„çš„æ§åˆ¶æƒäº¤ç»™ user1,â€¦ ç­‰ç”¨æˆ·ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®¾ç½® user1,â€¦ ç­‰ç”¨æˆ·ä¸ºç¾¤ç»„çš„ç®¡ç†å‘˜ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-M user1,...</code></td><td>å°† user1,â€¦ åŠ å…¥åˆ°æ­¤ç¾¤ç»„ä¸­ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-r</code></td><td>ç§»é™¤ç¾¤ç»„çš„å¯†ç ï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-R</code></td><td>è®©ç¾¤ç»„çš„å¯†ç å¤±æ•ˆï¼ˆä»… root ç”¨æˆ·å¯ç”¨ï¼‰</td></tr><tr><td><code>-a user</code></td><td>å°† user ç”¨æˆ·åŠ å…¥åˆ°ç¾¤ç»„ä¸­</td></tr><tr><td><code>-d user</code></td><td>å°† user ç”¨æˆ·ä»ç¾¤ç»„ä¸­ç§»é™¤</td></tr></tbody></table><p>å¯è®¾ç½®å¤šä¸ªæ™®é€šç”¨æˆ·ä½œä¸ºç¾¤ç»„çš„ç®¡ç†å‘˜ï¼Œä½†ä¹Ÿåªèƒ½åšâ€œå°†ç”¨æˆ·åŠ å…¥ç¾¤ç»„â€å’Œâ€œå°†ç”¨æˆ·ç§»å‡ºç¾¤ç»„â€çš„æ“ä½œã€‚</p></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>è®¾ç½® lamp ç”¨æˆ·ä¸º group1 ç¾¤ç»„çš„ç®¡ç†å‘˜ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºæ–°ç¾¤ç»„ group1ï¼Œå¹¶å°†ç¾¤ç»„äº¤ç»™ lamp ç®¡ç†</span></span><br><span class="line">[root@localhost ~]# groupadd group1  &lt;-- åˆ›å»ºç¾¤ç»„</span><br><span class="line">[root@localhost ~]# gpasswd group1   &lt;-- è®¾ç½®å¯†ç å§ï¼</span><br><span class="line">Changing the password for group group1</span><br><span class="line">New Password:</span><br><span class="line">Re-enter new password:</span><br><span class="line">[root@localhost ~]# gpasswd -A lamp group1  &lt;==åŠ å…¥ç¾¤ç»„ç®¡ç†å‘˜ä¸º lamp</span><br><span class="line">[root@localhost ~]# grep &quot;group1&quot; /etc/group /etc/gshadow</span><br><span class="line">/etc/group:group1:x:506:</span><br><span class="line">/etc/gshadow:group1:$1$I5ukIY1.$o5fmW.cOsc8.K.FHAFLWg0:lamp:</span><br></pre></td></tr></table></figure></li><li><p>ç”¨ç¾¤ä¸»ç®¡ç†å‘˜åŠ å…¥ç¾¤ä¸»æˆå‘˜:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä»¥lampç”¨æˆ·ç™»é™†ç³»ç»Ÿï¼Œå¹¶å°†ç”¨æˆ· lamp å’Œ lamp1 åŠ å…¥group1ç¾¤ç»„ã€‚</span></span><br><span class="line">[lamp@localhost ~]#gpasswd -a lamp group1</span><br><span class="line">[lamp@localhost ~]#gpasswd -a lamp1 group1</span><br><span class="line">[lamp@localhost ~]#grep &quot;group1&quot; /etc/group</span><br><span class="line">group1:x:506:lamp,lamp1</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>usermod -G</code> å‘½ä»¤ä¹Ÿå¯ä»¥å°†ç”¨æˆ·åŠ å…¥ç¾¤ç»„ï¼Œä½†ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå³ä½¿ç”¨æ­¤å‘½ä»¤å°†ç”¨æˆ·åŠ å…¥åˆ°æ–°çš„ç¾¤ç»„åï¼Œè¯¥ç”¨æˆ·ä¹‹å‰åŠ å…¥çš„é‚£äº›ç¾¤ç»„éƒ½å°†è¢«æ¸…ç©º:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–°åˆ›å»ºä¸€ä¸ªç¾¤ç»„group2</span></span><br><span class="line">[root@localhost ~]# groupadd group2</span><br><span class="line">[root@localhost ~]# usermod -G group2 lamp</span><br><span class="line">[root@localhost ~]# grep &quot;group2&quot; /etc/group</span><br><span class="line">group2:x:509:lamp</span><br><span class="line">[root@localhost ~]# grep &quot;group1&quot; /etc/group</span><br><span class="line">group1:x:506:lamp1</span><br></pre></td></tr></table></figure><p>å¯¹æ¯”ä¾‹ 2 å¯ä»¥å‘ç°ï¼Œè™½ç„¶ä½¿ç”¨ usermod å‘½ä»¤æˆåŠŸåœ°å°† lamp ç”¨æˆ·åŠ å…¥åœ¨ group2 ç¾¤ç»„ä¸­ï¼Œä½† lamp ç”¨æˆ·åŸæœ¬åœ¨ group1 ç¾¤ç»„ä¸­ï¼Œæ­¤æ—¶å´è¢«ç§»å‡ºï¼Œè¿™å°±æ˜¯ä½¿ç”¨ usermod å‘½ä»¤é€ æˆçš„ã€‚å› æ­¤ï¼Œå°†ç”¨æˆ·åŠ å…¥æˆ–ç§»å‡ºç¾¤ç»„ï¼Œæœ€å¥½ä½¿ç”¨ gpasswd å‘½ä»¤ã€‚</p></li></ol></li></ul><h4 id="8-4-21-newgrp-åˆ‡æ¢ç”¨æˆ·çš„æœ‰æ•ˆç»„">8.4.21 newgrp åˆ‡æ¢ç”¨æˆ·çš„æœ‰æ•ˆç»„</h4><p>newgrp å‘½ä»¤å¯ä»¥ä»ç”¨æˆ·çš„é™„åŠ ç»„ä¸­é€‰æ‹©ä¸€ä¸ªç¾¤ç»„ï¼Œä½œä¸ºç”¨æˆ·æ–°çš„åˆå§‹ç»„ã€‚</p><p>æ¯ä¸ªç”¨æˆ·å¯ä»¥å±äºä¸€ä¸ªåˆå§‹ç»„ï¼ˆç”¨æˆ·æ˜¯è¿™ä¸ªç»„çš„åˆå§‹ç”¨æˆ·ï¼‰ï¼Œä¹Ÿå¯ä»¥å±äºå¤šä¸ªé™„åŠ ç»„ï¼ˆç”¨æˆ·æ˜¯è¿™ä¸ªç»„çš„é™„åŠ ç”¨æˆ·ï¼‰ã€‚ç”¨æˆ·å¯ä»¥å±äºè¿™ä¹ˆå¤šç”¨æˆ·ç»„ï¼Œç”¨æˆ·åœ¨åˆ›å»ºæ–‡ä»¶åï¼Œåˆå§‹ç”¨æˆ·ç»„çš„ç»„èº«ä»½ç”Ÿæ•ˆã€‚æ—¢ç„¶ç”¨æˆ·å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼Œèƒ½ä¸èƒ½æ”¹å˜ç”¨æˆ·çš„åˆå§‹ç»„å‘¢ï¼Ÿä½¿ç”¨å‘½ä»¤ newgrp å°±å¯ä»¥ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# newgrp ç»„å</span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong>newgrpå‘½ä»¤çš„åº•å±‚å®ç°</strong></p><p>newgrp å‘½ä»¤æ¯ä¸€æ¬¡åˆ‡æ¢ç”¨æˆ·çš„åˆå§‹ç»„ï¼Œè¯¥ç”¨æˆ·éƒ½ä¼šä»¥å¦å¤–ä¸€ä¸ª shellï¼ˆæ–°è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å­è¿›ç¨‹ï¼‰ç™»é™†ï¼Œåªä¸è¿‡åœ¨æ–° shell ä¸Šç™»é™†çš„è¯¥ç”¨æˆ·ï¼Œå…¶åˆå§‹ç»„æ”¹å˜äº†è€Œå·²ã€‚</p><blockquote><p>ä»¥ä¸‹å®ä¾‹ä¸­ï¼Œé€šè¿‡æ·»åŠ  shell å†…ç½®å‘½ä»¤ â€œecho $$â€ å°±å¯ä»¥å‘ç°ï¼Œæ¯æ¬¡ä½¿ç”¨ newgrp å‘½ä»¤ï¼Œéƒ½ä¼šåˆ‡æ¢åˆ°ä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚</p></blockquote><p>åœ¨æœ¬èŠ‚å®ä¾‹ä¸­ï¼Œä½¿ç”¨ newgrp å‘½ä»¤åˆ‡æ¢ç”¨æˆ·åˆå§‹ç»„çš„æ•´ä¸ªè¿‡ç¨‹ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/2-1Z4121K230D9.gif" alt="newgrp åˆ‡æ¢åˆå§‹ç»„ç¨‹åºè¿è¡Œè¿‡ç¨‹å›¾"></p></li><li><p><strong>å®ä¾‹</strong></p><p>é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œè®²è§£æ­¤å‘½ä»¤çš„å…·ä½“ç”¨æ³•å’ŒåŠŸèƒ½ï¼š</p><ol><li><p>é¦–å…ˆï¼Œå»ºç«‹ 3 ä¸ªç”¨æˆ·ç»„ group1ã€group2 å’Œ group3ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd group1</span><br><span class="line">[root@localhost ~]# groupadd group2</span><br><span class="line">[root@localhost ~]# groupadd group3</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºä¸€ä¸ªç”¨æˆ· user1ï¼ŒåŒæ—¶æŒ‡å®š user1 çš„åˆå§‹ç»„ä¸º group1ï¼Œé™„åŠ ç»„ä¸º group2 å’Œ group3ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# useradd -g group1 -G group2,group3 user1</span><br><span class="line">\#ç”±äºæŒ‡å®šäº†åˆå§‹ç»„ï¼Œå› æ­¤ä¸ä¼šåœ¨åˆ›å»º user1 é»˜è®¤ç¾¤ç»„</span><br><span class="line">[root@localhost ~]# more /etc/group | grep user1</span><br><span class="line">group2:x:501:user1</span><br><span class="line">group3:x:502:user1</span><br></pre></td></tr></table></figure></li><li><p>å¯¹ç”¨æˆ· user1 è®¾ç½®å¯†ç ï¼Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# passwd user1</span><br><span class="line">Changing password for user user1.</span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></li><li><p>åˆ‡æ¢è‡³ user1 ç”¨æˆ·ï¼Œé€šè¿‡ newgrp åˆ‡æ¢ç”¨æˆ·ç»„è¿›è¡Œä¸‹åˆ—æ“ä½œï¼Œè¯»è€…å¯ä»ä¸­ä½“ä¼šå‡º newgrp å‘½ä»¤çš„ä½œç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\#åˆ‡æ¢è‡³ user1 ç”¨æˆ·</span><br><span class="line">[root@localhost ~]# su - user1</span><br><span class="line">[root@localhost ~]# whoami</span><br><span class="line">user1</span><br><span class="line">\#ä½¿ç”¨ newgrp å‘½ä»¤ä¸€è¾¹åˆ‡æ¢ user1 çš„åˆå§‹ç»„ï¼Œä¸€è¾¹åˆ›å»ºæ–‡ä»¶</span><br><span class="line">[root@localhost ~]# mkdir user1_doc</span><br><span class="line">[root@localhost ~]# newgrp group2</span><br><span class="line">[root@localhost ~]# mkdir user2_doc</span><br><span class="line">[root@localhost ~]# newgrp group3</span><br><span class="line">[root@localhost ~]# mkdir user3_doc</span><br><span class="line">\#æŸ¥çœ‹å„æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</span><br><span class="line">[root@localhost ~]# ll</span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x 2 user1 group1 4096 Oct 24 01:18 user1_doc</span><br><span class="line">drwxr-xr-x 2 user1 group2 4096 Oct 24 01:18 user2_doc</span><br><span class="line">drwxr-xr-x 2 user1 group3 4096 Oct 24 01:19 user3_doc</span><br></pre></td></tr></table></figure></li></ol></li></ul><p>â€‹   é€šè¿‡ä½¿ç”¨ newgrp å‘½ä»¤åˆ‡æ¢ç”¨æˆ·çš„åˆå§‹ç»„ï¼Œæ‰€åˆ›å»ºçš„æ–‡ä»¶å„è‡ªå±äºä¸åŒçš„ç¾¤ç»„ï¼Œè¿™å°±æ˜¯ newgrp æ‰€å‘æŒ¥çš„ä½œç”¨ï¼Œå³é€šè¿‡åˆ‡æ¢é™„åŠ ç»„æˆä¸ºæ–°çš„åˆå§‹ç»„ï¼Œä»è€Œè®©ç”¨æˆ·è·å¾—ä½¿ç”¨å„ä¸ªé™„åŠ ç»„çš„æƒé™ã€‚</p><h3 id="8-6-æƒé™ç®¡ç†">8.6 æƒé™ç®¡ç†</h3><h4 id="âœ…8-6-2-chgrp-ä¿®æ”¹æ–‡ä»¶å’Œç›®å½•çš„æ‰€å±ç»„">âœ…8.6.2 chgrp ä¿®æ”¹æ–‡ä»¶å’Œç›®å½•çš„æ‰€å±ç»„</h4><p>Linux chgrpï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange groupï¼‰å‘½ä»¤ç”¨äºå˜æ›´æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ã€‚</p><p>ä¸ <code>chown</code> å‘½ä»¤ä¸åŒï¼Œ<code>chgrp</code> å…è®¸æ™®é€šç”¨æˆ·æ”¹å˜æ–‡ä»¶æ‰€å±çš„ç»„ï¼Œåªè¦è¯¥ç”¨æˆ·æ˜¯è¯¥ç»„çš„ä¸€å‘˜ã€‚</p><p>åœ¨ UNIX ç³»ç»Ÿå®¶æ—é‡Œï¼Œæ–‡ä»¶æˆ–ç›®å½•æƒé™çš„æŒæ§ä»¥æ‹¥æœ‰è€…åŠæ‰€å±ç¾¤ç»„æ¥ç®¡ç†ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <code>chgrp</code> æŒ‡ä»¤å»å˜æ›´æ–‡ä»¶ä¸ç›®å½•çš„æ‰€å±ç¾¤ç»„ï¼Œè®¾ç½®æ–¹å¼é‡‡ç”¨ç¾¤ç»„åç§°æˆ–ç¾¤ç»„è¯†åˆ«ç çš†å¯ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><p>ä½¿ç”¨æ­¤å‘½ä»¤éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œè¦è¢«æ”¹å˜çš„ç¾¤ç»„åå¿…é¡»æ˜¯çœŸå®å­˜åœ¨çš„ï¼Œå¦åˆ™å‘½ä»¤æ— æ³•æ­£ç¡®æ‰§è¡Œï¼Œä¼šæç¤º â€œinvaild group nameâ€ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chgrp [options] group file</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-c</code>ï¼š<code>--changes</code></td><td>æ•ˆæœç±»ä¼¼&quot;-v&quot;å‚æ•°ï¼Œä½†ä»…å›æŠ¥æ›´æ”¹çš„éƒ¨åˆ†</td></tr><tr><td><code>-f</code>ï¼š<code>--quiet</code>ï¼š<code>--silent</code></td><td>ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</td></tr><tr><td><code>-h</code>ï¼š<code>--no-dereference</code></td><td>åªå¯¹ç¬¦å·è¿æ¥çš„æ–‡ä»¶ä½œä¿®æ”¹ï¼Œè€Œä¸æ”¹åŠ¨å…¶ä»–ä»»ä½•ç›¸å…³æ–‡ä»¶</td></tr><tr><td><code>-R</code>ï¼š<code>--recursive</code></td><td>ç”¨äºæ›´æ”¹ç›®å½•çš„æ‰€å±ç»„ï¼Œè¡¨ç¤ºæ›´æ”¹è¿åŒå­ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„æ‰€å±ç»„ä¿¡æ¯</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡</td></tr><tr><td><code>-reference=&lt;å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•&gt;</code></td><td>æŒ‡å®šæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„å…¨éƒ¨è®¾æˆå’Œå‚è€ƒæ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç¾¤ç»„ç›¸åŒã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>å½“ä»¥ root èº«ä»½ç™»å½• Linux ç³»ç»Ÿæ—¶ï¼Œä¸»ç›®å½•ä¸­ä¼šå­˜åœ¨ä¸€ä¸ªåä¸º install.log çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ä¿®æ”¹æ­¤æ–‡ä»¶çš„æ‰€å±ç»„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd group1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–°å»ºç”¨äºæµ‹è¯•çš„ç¾¤ç»„ group1</span></span><br><span class="line">[root@localhost ~]# chgrp group1 install.log</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹install.logæ–‡ä»¶çš„æ‰€å±ç»„ä¸ºgroup1</span></span><br><span class="line">[root@localhost ~]# ll install.log</span><br><span class="line">-rw-r--r--. 1 root group1 78495 Nov 17 05:54 install.log</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹ç”Ÿæ•ˆ</span></span><br><span class="line">[root@localhost ~]# chgrp testgroup install.log</span><br><span class="line">chgrp: invaild group name &#x27;testgroup&#x27;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…·æœ‰ group1 ç¾¤ç»„çš„å‰æä¸‹ï¼Œæˆ‘ä»¬æˆåŠŸä¿®æ”¹äº† install.log æ–‡ä»¶çš„æ‰€å±ç»„ï¼Œä½†æˆ‘ä»¬å†æ¬¡è¯•å›¾å°†æ‰€å±ç»„ä¿®æ”¹ä¸º testgroup æ—¶ï¼Œå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå°±æ˜¯å› ä¸ºç³»ç»Ÿçš„ /etc/group æ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰ testgroup ç¾¤ç»„ã€‚</p></li></ol></li></ul><h4 id="âœ…8-6-3-chown-ä¿®æ”¹æ–‡ä»¶å’Œç›®å½•çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„">âœ…8.6.3 chown ä¿®æ”¹æ–‡ä»¶å’Œç›®å½•çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„</h4><p><strong><font style="color:red;">åªæœ‰<u>è¶…çº§ç”¨æˆ·</u>å’Œ<u>å±äºç»„çš„æ–‡ä»¶æ‰€æœ‰è€…</u>æ‰èƒ½å˜æ›´æ–‡ä»¶å…³è”ç»„</font></strong>ã€‚éè¶…çº§ç”¨æˆ·å¦‚éœ€è¦è®¾ç½®å…³è”ç»„å¯èƒ½éœ€è¦ä½¿ç”¨ <code>chgrp</code> å‘½ä»¤ã€‚</p><p>Linux chownï¼ˆè‹±æ–‡å…¨æ‹¼ï¼š<strong>change owner</strong>ï¼‰å‘½ä»¤ç”¨äºè®¾ç½®æ–‡ä»¶æ‰€æœ‰è€…å’Œæ–‡ä»¶å…³è”ç»„çš„å‘½ä»¤ã€‚</p><p>Linux/Unix æ˜¯å¤šäººå¤šå·¥æ“ä½œç³»ç»Ÿï¼Œæ‰€æœ‰çš„æ–‡ä»¶çš†æœ‰æ‹¥æœ‰è€…ã€‚åˆ©ç”¨ <code>chown</code> å°†æŒ‡å®šæ–‡ä»¶çš„æ‹¥æœ‰è€…æ”¹ä¸ºæŒ‡å®šçš„ç”¨æˆ·æˆ–ç»„ï¼Œç”¨æˆ·å¯ä»¥æ˜¯ç”¨æˆ·åæˆ–è€…ç”¨æˆ· IDï¼Œç»„å¯ä»¥æ˜¯ç»„åæˆ–è€…ç»„ IDï¼Œæ–‡ä»¶æ˜¯ä»¥ç©ºæ ¼åˆ†å¼€çš„è¦æ”¹å˜æƒé™çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ”¯æŒé€šé…ç¬¦ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chown [options] user[:group] file</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€’å½’ä¿®æ”¹ç›®å½•æ‰€å±</span></span><br><span class="line">[root@localhost ~]# chown -R user file</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><ul><li>user : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€… ID</li><li>group : æ–°çš„æ–‡ä»¶æ‹¥æœ‰è€…çš„ä½¿ç”¨è€…ç»„(group)</li></ul><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-R</td><td>è¡¨ç¤ºè¿åŒå­ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œéƒ½æ›´æ”¹æ‰€æœ‰è€…</td></tr><tr><td>-c</td><td>æ˜¾ç¤ºæ›´æ”¹çš„éƒ¨åˆ†çš„ä¿¡æ¯</td></tr><tr><td>-f</td><td>å¿½ç•¥é”™è¯¯ä¿¡æ¯</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†ä¿¡æ¯</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>ä¿®æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œæ›´å¤šæ—¶å€™æ˜¯ä¸ºäº†å¾—åˆ°æ›´é«˜çš„æƒé™ï¼Œä¸¾ä¸€ä¸ªå®ä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# touch file</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”±rootç”¨æˆ·åˆ›å»ºfileæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# ll file</span><br><span class="line">-rw-r--r--. 1 root root 0 Apr 17 05:12 file</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–‡ä»¶çš„æ‰€æœ‰è€…æ˜¯rootï¼Œæ™®é€šç”¨æˆ·userå¯¹è¿™ä¸ªæ–‡ä»¶æ‹¥æœ‰åªè¯»æƒé™</span></span><br><span class="line">[root@localhost ~]# chown user file</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹æ–‡ä»¶çš„æ‰€æœ‰è€…</span></span><br><span class="line">[root@localhost ~]# ll file</span><br><span class="line">-rw-r--r--. 1 user root 0 Apr 17 05:12 file</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰€æœ‰è€…å˜æˆäº†userç”¨æˆ·ï¼Œè¿™æ—¶userç”¨æˆ·å¯¹è¿™ä¸ªæ–‡ä»¶å°±æ‹¥æœ‰äº†è¯»ã€å†™æƒé™</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä¿®æ”¹ file æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œuser ç”¨æˆ·ä»å…¶ä»–äººèº«ä»½ï¼ˆåªå¯¹æ­¤æ–‡ä»¶æœ‰è¯»å–æƒé™ï¼‰è½¬å˜æˆäº†æ‰€æœ‰è€…èº«ä»½ï¼Œå¯¹æ­¤æ–‡ä»¶æ‹¥æœ‰è¯»å’Œå†™æƒé™ã€‚</p></li><li><p>Linux ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·ç­‰çº§æƒé™çš„åˆ’åˆ†æ˜¯éå¸¸æ¸…æ¥šçš„ï¼Œroot ç”¨æˆ·æ‹¥æœ‰æœ€é«˜æƒé™ï¼Œå¯ä»¥ä¿®æ”¹ä»»ä½•æ–‡ä»¶çš„æƒé™ï¼Œè€Œæ™®é€šç”¨æˆ·åªèƒ½ä¿®æ”¹è‡ªå·±æ–‡ä»¶çš„æƒé™ï¼ˆæ‰€æœ‰è€…æ˜¯è‡ªå·±çš„æ–‡ä»¶ï¼‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /home/user</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥userç”¨æˆ·çš„å®¶ç›®å½•</span></span><br><span class="line">[root@localhost user]# touch test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”±rootç”¨æˆ·æ–°å»ºæ–‡ä»¶<span class="built_in">test</span></span></span><br><span class="line">[root@localhost user]# ll test</span><br><span class="line">-rw-r--r--. 1 root root 0 Apr 17 05:37 test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–‡ä»¶æ‰€æœ‰è€…å’Œæ‰€å±ç»„éƒ½æ˜¯rootç”¨æˆ·</span></span><br><span class="line">[root@localhost user]# su - user</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ‡æ¢ä¸ºuserç”¨æˆ·</span></span><br><span class="line">[user@localhost ~]$ chmod 755 test</span><br><span class="line">chmod:æ›´æ”¹&quot;test&quot;çš„æƒé™ï¼šä¸å…è®¸çš„æ“ä½œ #userç”¨æˆ·ä¸èƒ½ä¿®æ”¹testæ–‡ä»¶çš„æƒé™</span><br><span class="line">[user@localhost ~]$ exit</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é€€å›åˆ°rootèº«ä»½</span></span><br><span class="line">[root@localhost user]# chown user test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”±rootç”¨æˆ·æŠŠ<span class="built_in">test</span>æ–‡ä»¶çš„æ‰€æœ‰è€…æ”¹ä¸ºuserç”¨æˆ·</span></span><br><span class="line">[root@localhost user]# su - user</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ‡æ¢ä¸ºuserç”¨æˆ·</span></span><br><span class="line">[user@localhost ~]$ chmod 755 test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">userç”¨æˆ·ç”±äºæ˜¯<span class="built_in">test</span>æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œæ‰€ä»¥å¯ä»¥ä¿®æ”¹æ–‡ä»¶çš„æƒé™</span></span><br><span class="line">[user@localhost ~]$ ll test</span><br><span class="line">-rwxr-xr-x. 1 user root 0 Apr 17 05:37 test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æƒé™</span></span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="âœ…-8-6-5-rã€-wã€-x-è¯»å†™æ‰§è¡Œæƒé™">âœ… 8.6.5 (-rã€-wã€-x) è¯»å†™æ‰§è¡Œæƒé™</h4><p>æ–‡ä»¶ï¼Œæ˜¯ç³»ç»Ÿä¸­ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼ŒåŒ…æ‹¬æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ã€æ•°æ®åº“æ–‡ä»¶ã€äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç­‰ç­‰ã€‚é‚£ä¹ˆï¼Œè¯»ï¼ˆrï¼‰ã€å†™ï¼ˆwï¼‰ã€æ‰§è¡Œï¼ˆxï¼‰æƒé™åˆ°åº•æŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/rwx2.png" alt="rwx2"></p><p><code>-rwxrwxrwx</code>ä»å·¦è‡³å³ç”¨0-9è¿™äº›æ•°å­—æ¥è¡¨ç¤ºã€‚ç¬¬0ä½ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œç¬¬1-3ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚</p><ul><li><p><strong>æƒé™å¯¹æ–‡ä»¶çš„ä½œç”¨</strong></p><p>å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œæ‰§è¡Œæƒé™æ˜¯æœ€é«˜æƒé™ã€‚ç»™ç”¨æˆ·æˆ–ç¾¤ç»„è®¾å®šæƒé™æ—¶ï¼Œæ˜¯å¦èµ‹äºˆæ‰§è¡Œæƒé™éœ€è¦æ…é‡è€ƒè™‘ï¼Œå¦åˆ™ä¼šå¯¹ç³»ç»Ÿå®‰è£…é€ æˆä¸¥é‡å½±å“ã€‚</p><table><thead><tr><th>rwx æƒé™</th><th>å¯¹æ–‡ä»¶çš„ä½œç”¨</th></tr></thead><tbody><tr><td>è¯»æƒé™ï¼ˆrï¼‰</td><td>è¡¨ç¤ºå¯è¯»å–æ­¤æ–‡ä»¶ä¸­çš„å®é™…å†…å®¹ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥å¯¹æ–‡ä»¶æ‰§è¡Œ catã€moreã€lessã€headã€tail ç­‰æ–‡ä»¶æŸ¥çœ‹å‘½ä»¤ã€‚</td></tr><tr><td>å†™æƒé™ï¼ˆwï¼‰</td><td>è¡¨ç¤ºå¯ä»¥ç¼–è¾‘ã€æ–°å¢æˆ–è€…ä¿®æ”¹æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥å¯¹æ–‡ä»¶æ‰§è¡Œ vimã€echo ç­‰ä¿®æ”¹æ–‡ä»¶æ•°æ®çš„å‘½ä»¤ã€‚<br />æ³¨æ„ï¼Œæ— æƒé™ä¸èµ‹äºˆç”¨æˆ·åˆ é™¤æ–‡ä»¶çš„æƒåˆ©ï¼Œé™¤éç”¨æˆ·å¯¹æ–‡ä»¶çš„ä¸Šçº§ç›®å½•æ‹¥æœ‰å†™æƒé™æ‰å¯ä»¥ã€‚</td></tr><tr><td>æ‰§è¡Œæƒé™ï¼ˆxï¼‰</td><td>è¡¨ç¤ºè¯¥æ–‡ä»¶å…·æœ‰è¢«ç³»ç»Ÿæ‰§è¡Œçš„æƒé™ã€‚Windowç³»ç»Ÿä¸­æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ˜¯é€šè¿‡æ‰©å±•åï¼ˆ.exeã€.bat ç­‰ï¼‰ï¼Œ<br />ä½†åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶æ˜¯å¦èƒ½è¢«æ‰§è¡Œï¼Œæ˜¯é€šè¿‡çœ‹æ­¤æ–‡ä»¶æ˜¯å¦å…·æœ‰ x æƒé™æ¥å†³å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ–‡ä»¶æ‹¥æœ‰ x æƒé™ï¼Œ<br />åˆ™æ­¤æ–‡ä»¶å°±æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œæ–‡ä»¶åˆ°åº•èƒ½å¤Ÿæ­£ç¡®è¿è¡Œï¼Œè¿˜è¦çœ‹æ–‡ä»¶ä¸­çš„ä»£ç æ˜¯å¦æ­£ç¡®ã€‚</td></tr></tbody></table></li><li><p><strong>æƒé™å¯¹ç›®å½•çš„ä½œç”¨</strong></p><p>å¯¹ç›®å½•æ¥è¯´ï¼Œå¦‚æœåªèµ‹äºˆ r æƒé™ï¼Œåˆ™æ­¤ç›®å½•æ˜¯æ— æ³•ä½¿ç”¨çš„ã€‚å¾ˆç®€å•ï¼Œåªæœ‰ r æƒé™çš„ç›®å½•ï¼Œç”¨æˆ·åªèƒ½æŸ¥çœ‹ç›®å½•ç»“æ„ï¼Œæ ¹æœ¬æ— æ³•è¿›å…¥ç›®å½•ï¼ˆéœ€è¦ç”¨ x æƒé™ï¼‰ï¼Œæ›´ä¸ç”¨è¯´ä½¿ç”¨äº†ã€‚å› æ­¤ï¼Œå¯¹äºç›®å½•æ¥è¯´ï¼Œå¸¸ç”¨æ¥è®¾å®šç›®å½•çš„æƒé™å…¶å®åªæœ‰ 0ï¼ˆâ€”ï¼‰ã€5ï¼ˆr-xï¼‰ã€7ï¼ˆrwxï¼‰è¿™ 3 ç§ã€‚</p><table><thead><tr><th>rwx æƒé™</th><th>å¯¹ç›®å½•çš„ä½œç”¨</th></tr></thead><tbody><tr><td>è¯»æƒé™ï¼ˆrï¼‰</td><td>è¡¨ç¤ºå…·æœ‰è¯»å–ç›®å½•ç»“æ„åˆ—è¡¨çš„æƒé™ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥çœ‹åˆ°ç›®å½•ä¸­æœ‰å“ªäº›æ–‡ä»¶å’Œå­ç›®å½•ã€‚ä¸€æ—¦å¯¹ç›®å½•æ‹¥æœ‰ r æƒé™ï¼Œå°±å¯ä»¥åœ¨æ­¤ç›®å½•ä¸‹æ‰§è¡Œ ls å‘½ä»¤ï¼ŒæŸ¥çœ‹ç›®å½•ä¸­çš„å†…å®¹ã€‚</td></tr><tr><td>å†™æƒé™ï¼ˆwï¼‰</td><td>å¯¹äºç›®å½•æ¥è¯´ï¼Œw æƒé™æ˜¯æœ€é«˜æƒé™ã€‚å¯¹ç›®å½•æ‹¥æœ‰ w æƒé™ï¼Œè¡¨ç¤ºå¯ä»¥å¯¹ç›®å½•åšä»¥ä¸‹æ“ä½œï¼š<br />Â·åœ¨æ­¤ç›®å½•ä¸­å»ºç«‹æ–°çš„æ–‡ä»¶æˆ–å­ç›®å½•ï¼›<br />Â·åˆ é™¤å·²å­˜åœ¨çš„æ–‡ä»¶å’Œç›®å½•ï¼ˆæ— è®ºå­æ–‡ä»¶æˆ–å­ç›®å½•çš„æƒé™æ˜¯æ€æ ·çš„ï¼‰ï¼›<br />Â·å¯¹å·²å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•åšæ›´åæ“ä½œï¼›<br />Â·ç§»åŠ¨æ­¤ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•çš„ä½ç½®ã€‚<br />ä¸€æ—¦å¯¹ç›®å½•æ‹¥æœ‰ w æƒé™ï¼Œå°±å¯ä»¥åœ¨ç›®å½•ä¸‹æ‰§è¡Œ touchã€rmã€cpã€mv ç­‰å‘½ä»¤ã€‚</td></tr><tr><td>æ‰§è¡Œæƒé™ï¼ˆxï¼‰</td><td>ç›®å½•æ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œå¯¹ç›®å½•èµ‹äºˆ x æƒé™ï¼Œä»£è¡¨ç”¨æˆ·å¯ä»¥è¿›å…¥ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œèµ‹äºˆ x æƒé™çš„ç”¨æˆ·æˆ–ç¾¤ç»„å¯ä»¥ä½¿ç”¨ cd å‘½ä»¤ã€‚</td></tr></tbody></table></li><li><p>ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ„ä¹‰ <code>-rwxrwxrwx</code></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/rwx.png" alt="rwx"></p><p>ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰ã€‚</p><ul><li><p>å½“ä¸º[ <em>d</em> ]åˆ™æ˜¯ç›®å½•</p></li><li><p>å½“ä¸º[ <em>-</em> ]åˆ™æ˜¯æ–‡ä»¶ï¼›</p></li><li><p>è‹¥æ˜¯[ <em>l</em> ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£(link file)ï¼›</p></li><li><p>è‹¥æ˜¯[ <em>b</em> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡(å¯éšæœºå­˜å–è£…ç½®)ï¼›</p></li><li><p>è‹¥æ˜¯[ <em>c</em> ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡(ä¸€æ¬¡æ€§è¯»å–è£…ç½®)ã€‚</p></li></ul></li></ul><h4 id="âœ…-8-6-6-chmod-ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™">âœ… 8.6.6 chmod ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</h4><p><strong><font style="color:red;">åªæœ‰<u>æ–‡ä»¶æ‰€æœ‰è€…</u>å’Œ<u>è¶…çº§ç”¨æˆ·</u>å¯ä»¥ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™</font></strong></p><p>Linux chmodï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange modeï¼‰å‘½ä»¤æ˜¯æ§åˆ¶ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™çš„å‘½ä»¤ã€‚</p><p>Linux/Unix çš„æ–‡ä»¶è°ƒç”¨æƒé™åˆ†ä¸ºä¸‰çº§ : æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆOwnerï¼‰ã€ç”¨æˆ·ç»„ï¼ˆGroupï¼‰ã€å…¶å®ƒç”¨æˆ·ï¼ˆOther Usersï¼‰ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/Untitled.png" alt="Untitled"></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chmod [who] [options] [operator] permission name</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><ul><li><p>whoï¼ˆç”¨æˆ·ç±»å‹ï¼‰ï¼š<code>u</code> è¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œ<code>g</code> è¡¨ç¤ºä¸è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œ<code>o</code> è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œ<code>a</code> è¡¨ç¤ºè¿™ä¸‰è€…çš†æ˜¯ã€‚</p></li><li><p>operatorï¼ˆæ“ä½œç¬¦ï¼‰ï¼š<code>+</code> è¡¨ç¤ºå¢åŠ æƒé™ã€<code>-</code> è¡¨ç¤ºå–æ¶ˆæƒé™ã€<code>=</code> è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™</p></li><li><p>permissionï¼ˆæƒé™ï¼‰ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-R</td><td>è¿åŒå­ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¹Ÿéƒ½ä¿®æ”¹è®¾å®šçš„æƒé™ï¼ˆé€’å½’çš„æ–¹å¼é€ä¸ªå˜æ›´ï¼‰</td></tr><tr><td>-c</td><td>è‹¥è¯¥æ–‡ä»¶æƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ</td></tr><tr><td>-f</td><td>è‹¥è¯¥æ–‡ä»¶æƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™</td></tr></tbody></table></li></ul></li><li><p><strong>ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™</strong></p><blockquote><p>r=4ï¼Œw=2ï¼Œx=1</p></blockquote><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/rwxNum.png" alt="rwxNum"></p><ul><li><p>å…«è¿›åˆ¶è¯­æ³•</p><table><thead><tr><th>#</th><th>æƒé™</th><th>rwx</th><th>äºŒè¿›åˆ¶</th></tr></thead><tbody><tr><td>7</td><td>è¯» + å†™ + æ‰§è¡Œ</td><td>rwx</td><td>111</td></tr><tr><td>6</td><td>è¯» + å†™</td><td>rw-</td><td>110</td></tr><tr><td>5</td><td>è¯» + æ‰§è¡Œ</td><td>r-x</td><td>101</td></tr><tr><td>4</td><td>åªè¯»</td><td>râ€“</td><td>100</td></tr><tr><td>3</td><td>å†™ + æ‰§è¡Œ</td><td>-wx</td><td>011</td></tr><tr><td>2</td><td>åªå†™</td><td>-w-</td><td>010</td></tr><tr><td>1</td><td>åªæ‰§è¡Œ</td><td>â€“x</td><td>001</td></tr><tr><td>0</td><td>æ— </td><td>â€”</td><td>000</td></tr></tbody></table></li></ul></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>è®¾å®š .bashrc æ–‡ä»¶çš„æƒé™ä¸º rwxr-xr-xï¼Œåˆ™å¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# chmod u=rwx,go=rx .bashrc</span><br><span class="line">[root@localhost ~]# ls -al .bashrc</span><br><span class="line">-rwxr-xr-x. 1 root root 176 Sep 22 2004 .bashrc</span><br></pre></td></tr></table></figure></li><li><p>å¢åŠ  .bashrc æ–‡ä»¶çš„æ¯ç§ç”¨æˆ·éƒ½å¯åšå†™æ“ä½œçš„æƒé™ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -al .bashrc</span><br><span class="line">-rwxr-xr-x. 1 root root 176 Sep 22 2004 .bashrc</span><br><span class="line">[root@localhost ~]# chmod a+w .bashrc</span><br><span class="line">[root@localhost ~]# ls -al .bashrc</span><br><span class="line">-rwxrwxrwx. 1 root root 176 Sep 22 2004 .bashrc</span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="8-6-16-chattr-ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„æƒé™å±æ€§">8.6.16 chattr ä¿®æ”¹æ–‡ä»¶ç³»ç»Ÿçš„æƒé™å±æ€§</h4><p>ç®¡ç† Linux ç³»ç»Ÿä¸­çš„æ–‡ä»¶å’Œç›®å½•ï¼Œé™¤äº†å¯ä»¥è®¾å®šæ™®é€šæƒé™å’Œç‰¹æ®Šæƒé™å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨æ–‡ä»¶å’Œç›®å½•å…·æœ‰çš„ä¸€äº›éšè—å±æ€§ã€‚</p><p>chattr å‘½ä»¤ï¼Œä¸“é—¨ç”¨æ¥ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„éšè—å±æ€§ï¼Œåªæœ‰ root ç”¨æˆ·å¯ä»¥ä½¿ç”¨ã€‚è¯¥å‘½ä»¤çš„åŸºæœ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># chattr [+-=] [å±æ€§] æ–‡ä»¶æˆ–ç›®å½•å</span></span><br></pre></td></tr></table></figure><p>+ è¡¨ç¤ºç»™æ–‡ä»¶æˆ–ç›®å½•æ·»åŠ å±æ€§ï¼Œ- è¡¨ç¤ºç§»é™¤æ–‡ä»¶æˆ–ç›®å½•æ‹¥æœ‰çš„æŸäº›å±æ€§ï¼Œ= è¡¨ç¤ºç»™æ–‡ä»¶æˆ–ç›®å½•è®¾å®šä¸€äº›å±æ€§ã€‚</p><table><caption>è¡¨ 1 chattr å‘½ä»¤å¸¸ç”¨çš„å±æ€§é€‰é¡¹åŠåŠŸèƒ½</caption><tbody><tr><th>å±æ€§é€‰é¡¹</th><th>åŠŸèƒ½</th></tr><tr><td>i</td><td>å¦‚æœå¯¹æ–‡ä»¶è®¾ç½® i å±æ€§ï¼Œé‚£ä¹ˆä¸å…è®¸å¯¹æ–‡ä»¶è¿›è¡Œåˆ é™¤ã€æ”¹åï¼Œä¹Ÿä¸èƒ½æ·»åŠ å’Œä¿®æ”¹æ•°æ®ï¼›<br>å¦‚æœå¯¹ç›®å½•è®¾ç½® i å±æ€§ï¼Œé‚£ä¹ˆåªèƒ½ä¿®æ”¹ç›®å½•ä¸‹æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œä½†ä¸å…è®¸å»ºç«‹å’Œåˆ é™¤æ–‡ä»¶ï¼›</td></tr><tr><td>a</td><td>å¦‚æœå¯¹æ–‡ä»¶è®¾ç½® a å±æ€§ï¼Œé‚£ä¹ˆåªèƒ½åœ¨æ–‡ä»¶ä¸­å¢—åŠ æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½åˆ é™¤å’Œä¿®æ”¹æ•°æ®ï¼›<br>å¦‚æœå¯¹ç›®å½•è®¾ç½® a å±æ€§ï¼Œé‚£ä¹ˆåªå…è®¸åœ¨ç›®å½•ä¸­å»ºç«‹å’Œä¿®æ”¹æ–‡ä»¶ï¼Œä½†æ˜¯ä¸å…è®¸åˆ é™¤æ–‡ä»¶ï¼›</td></tr><tr><td>u</td><td>è®¾ç½®æ­¤å±æ€§çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œåœ¨åˆ é™¤æ—¶ï¼Œå…¶å†…å®¹ä¼šè¢«ä¿å­˜ï¼Œä»¥ä¿è¯åæœŸèƒ½å¤Ÿæ¢å¤ï¼Œå¸¸ç”¨æ¥é˜²æ­¢æ„å¤–åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ã€‚</td></tr><tr><td>s</td><td>å’Œ u ç›¸åï¼Œåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•æ—¶ï¼Œä¼šè¢«å½»åº•åˆ é™¤ï¼ˆç›´æ¥ä»ç¡¬ç›˜ä¸Šåˆ é™¤ï¼Œç„¶åç”¨ 0 å¡«å……æ‰€å ç”¨çš„åŒºåŸŸï¼‰ï¼Œä¸å¯æ¢å¤ã€‚</td></tr></tbody></table><p>ã€ä¾‹ 1ã€‘ ç»™æ–‡ä»¶èµ‹äºˆ i å±æ€§</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># touch ftest</span></span><br><span class="line"><span class="comment">#å»ºç«‹æµ‹è¯•æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]<span class="comment"># chattr +i ftest</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf ftest</span></span><br><span class="line"><span class="built_in">rm</span>:cannot remove <span class="string">&#x27;ftest&#x27;</span>:Operation not permitted</span><br><span class="line"><span class="comment">#æ— æ³•åˆ é™¤&quot;ftesr&quot;ï¼Œæ“ä½œä¸å…è®¸</span></span><br><span class="line"><span class="comment">#è¢«èµ‹äºˆiå±æ€§åï¼Œrootä¸èƒ½åˆ é™¤</span></span><br><span class="line">[root@localhost ~]<span class="comment"># echo 111&gt;&gt;ftest</span></span><br><span class="line">bash:ftest:Permission denied</span><br><span class="line"><span class="comment">#æƒé™ä¸å¤Ÿï¼Œä¸èƒ½ä¿®æ”¹æ–‡ä»¶ä¸­çš„æ•°æ®</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œè®¾ç½®æœ‰ i å±æ€§çš„æ–‡ä»¶ï¼Œå³ä¾¿æ˜¯ root ç”¨æˆ·ï¼Œä¹Ÿæ— æ³•åˆ é™¤å’Œä¿®æ”¹æ•°æ®ã€‚</p><p>ã€ä¾‹ 2ã€‘ä¸ºç›®å½•èµ‹äºˆ i å±æ€§</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># mkdir dtest</span></span><br><span class="line"><span class="comment">#å»ºç«‹æµ‹è¯•ç›®å½•</span></span><br><span class="line">[root@localhost dtest]<span class="comment"># touch dtest/abc</span></span><br><span class="line"><span class="comment">#å†å»ºç«‹ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶abc</span></span><br><span class="line">[root@localhost ~]<span class="comment"># chattr +i dtest</span></span><br><span class="line"><span class="comment">#ç»™ç›®å½•èµ‹äºˆiå±æ€§</span></span><br><span class="line">[root@localhost ~]<span class="comment"># cd dtest</span></span><br><span class="line">[root@localhost dtest]<span class="comment"># touch bed</span></span><br><span class="line"><span class="built_in">touch</span>: cannot <span class="built_in">touch</span> <span class="string">&#x27;bed&#x27;</span>:Permission denied</span><br><span class="line"><span class="comment">#æ— æ³•åˆ›å»º&quot;bcd&quot;ï¼Œæƒé™ä¸å¤Ÿï¼Œdtestç›®å½•ä¸èƒ½æ–°å»ºæ–‡ä»¶</span></span><br><span class="line">[root@localhost dtest]<span class="comment"># echo 11&gt;&gt;abc</span></span><br><span class="line">[root@localhost dtest]<span class="comment"># cat abc</span></span><br><span class="line">11</span><br><span class="line"><span class="comment">#å¯ä»¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</span></span><br><span class="line">[root@localhost dtest]<span class="comment"># rm -rf abc</span></span><br><span class="line"><span class="built_in">rm</span>: cannot remove <span class="string">&#x27;abc&#x27;</span>: Permission denied</span><br><span class="line"><span class="comment">#æ— æ³•åˆ é™¤&quot;abc&quot;ï¼Œæƒé™ä¸å¤Ÿ</span></span><br></pre></td></tr></table></figure><p>ä¸€æ—¦ç»™ç›®å½•è®¾ç½® i å±æ€§ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ï¼Œä¹Ÿæ— æ³•åœ¨ç›®å½•å†…éƒ¨æ–°å»ºæˆ–åˆ é™¤æ–‡ä»¶ï¼Œä½†å¯ä»¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p><p>ç»™è®¾ç½®æœ‰ i å±æ€§çš„æ–‡ä»¶åˆ é™¤æ­¤å±æ€§ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€å°† chattr å‘½ä»¤ä¸­ + æ”¹ä¸º - å³å¯ã€‚</p><p>ã€ä¾‹ 3ã€‘æ¼”ç¤º a å±æ€§çš„ä½œç”¨ã€‚å‡è®¾æœ‰è¿™æ ·ä¸€ç§åº”ç”¨ï¼Œæˆ‘ä»¬æ¯å¤©è‡ªåŠ¨å®ç°æŠŠæœåŠ¡å™¨çš„æ—¥å¿—å¤‡ä»½åˆ°æŒ‡å®šç›®å½•ï¼Œå¤‡ä»½ç›®å½•å¯è®¾ç½® a å±æ€§ï¼Œå˜ä¸ºåªå¯åˆ›å»ºæ–‡ä»¶è€Œä¸å¯åˆ é™¤ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># mkdir -p /back/log</span></span><br><span class="line"><span class="comment">#å»ºç«‹å¤‡ä»½ç›®å½•</span></span><br><span class="line">[root@localhost ~]<span class="comment"># chattr +a /back/log</span></span><br><span class="line"><span class="comment">#èµ‹äºˆaå±æ€§</span></span><br><span class="line">[root@localhost ~]<span class="comment"># cp /var/log/messages /back/log</span></span><br><span class="line"><span class="comment">#å¯ä»¥å¤åˆ¶æ–‡ä»¶å’Œæ–°å»ºæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ä¸­</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -rf /back/log/messages</span></span><br><span class="line"><span class="built_in">rm</span>: cannot remove <span class="string">&#x27;/back/log/messages&#x27;</span>: Permission denied</span><br><span class="line"><span class="comment">#æ— æ³•åˆ é™¤ /back/log/messagesï¼Œæ“ä½œä¸å…è®¸</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œä¸è¦ä½¿ç”¨ chattr å‘½ä»¤ä¿®æ”¹ /ã€/dev/ã€/tmp/ã€/var/ ç­‰ç›®å½•çš„éšè—å±æ€§ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ç³»ç»Ÿæ— æ³•å¯åŠ¨ã€‚å¦å¤–ï¼Œchatrr å‘½ä»¤å¸¸ä¸ lsattr å‘½ä»¤åˆç”¨ï¼Œå‰è€…ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„éšè—å±æ€§ï¼Œåè€…ç”¨äºæŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸã€‚æœ‰å…³ lsattr å‘½ä»¤ï¼Œæ”¾åˆ°ä¸‹èŠ‚è®²è§£ã€‚</p><h4 id="8-6-18-sudo-ç³»ç»Ÿæƒé™ç®¡ç†">8.6.18 sudo ç³»ç»Ÿæƒé™ç®¡ç†</h4><p>Linux sudoå‘½ä»¤ä»¥ç³»ç»Ÿç®¡ç†è€…çš„èº«ä»½æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»ç”± sudo æ‰€æ‰§è¡Œçš„æŒ‡ä»¤å°±å¥½åƒæ˜¯ root äº²è‡ªæ‰§è¡Œã€‚</p><p>su å‘½ä»¤å¯ä»¥è®©æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ° root èº«ä»½å»æ‰§è¡ŒæŸäº›ç‰¹æƒå‘½ä»¤ï¼Œä½†å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼š</p><ul><li>ä»…ä»…ä¸ºäº†ä¸€ä¸ªç‰¹æƒæ“ä½œå°±ç›´æ¥èµ‹äºˆæ™®é€šç”¨æˆ·æ§åˆ¶ç³»ç»Ÿçš„å®Œæ•´æƒé™ï¼›</li><li>å½“å¤šäººä½¿ç”¨åŒä¸€å°ä¸»æœºæ—¶ï¼Œå¦‚æœå¤§å®¶éƒ½è¦ä½¿ç”¨ su å‘½ä»¤åˆ‡æ¢åˆ° root èº«ä»½ï¼Œé‚£åŠ¿å¿…å°±éœ€è¦ root çš„å¯†ç ï¼Œè¿™å°±å¯¼è‡´å¾ˆå¤šäººéƒ½çŸ¥é“ root çš„å¯†ç ï¼›</li></ul><p>è€ƒè™‘åˆ°ä½¿ç”¨ su å‘½ä»¤å¯èƒ½å¯¹ç³»ç»Ÿå®‰è£…é€ æˆçš„éšæ‚£ï¼Œæœ€å¸¸è§çš„è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ sudo å‘½ä»¤ï¼Œæ­¤å‘½ä»¤ä¹Ÿå¯ä»¥è®©ä½ åˆ‡æ¢è‡³å…¶ä»–ç”¨æˆ·çš„èº«ä»½å»æ‰§è¡Œå‘½ä»¤ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sudo [-b] [-u newUserName] command</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sudo [-b] [-u æ–°ä½¿ç”¨è€…è´¦å·] è¦æ‰§è¡Œçš„å‘½ä»¤</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-b</td><td>å°†åç»­çš„å‘½ä»¤æ”¾åˆ°èƒŒæ™¯ä¸­è®©ç³»ç»Ÿè‡ªè¡Œè¿è¡Œï¼Œä¸å¯¹å½“å‰çš„ shell ç¯å¢ƒäº§ç”Ÿå½±å“</td></tr><tr><td>-u</td><td>åé¢å¯ä»¥æ¥æ¬²åˆ‡æ¢çš„ç”¨æˆ·åï¼Œè‹¥æ— æ­¤é¡¹åˆ™ä»£è¡¨åˆ‡æ¢èº«ä»½ä¸º root</td></tr><tr><td>-l</td><td>æ­¤é€‰é¡¹çš„ç”¨æ³•ä¸º sudo -lï¼Œç”¨äºæ˜¾ç¤ºå½“å‰ç”¨æˆ·å¯ä»¥ç”¨ sudo æ‰§è¡Œé‚£äº›å‘½ä»¤</td></tr></tbody></table></li><li><p><strong>sudoå‘½ä»¤çš„é…ç½®æ–‡ä»¶<code>/etc/sudoers</code></strong></p><p>ä¿®æ”¹ <code>/etc/sudoers</code>ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨ vimï¼Œè€Œæ˜¯ä½¿ç”¨ visudoã€‚å› ä¸ºä¿®æ”¹ <code>/etc/sudoers</code> æ–‡ä»¶éœ€éµå¾ªä¸€å®šçš„è¯­æ³•è§„åˆ™ï¼Œä½¿ç”¨ visudo çš„å¥½å¤„å°±åœ¨äºï¼Œå½“ä¿®æ”¹å®Œæ¯• <code>/etc/sudoers</code> æ–‡ä»¶ï¼Œç¦»å¼€ä¿®æ”¹é¡µé¢æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªè¡Œæ£€éªŒ <code>/etc/sudoers</code> æ–‡ä»¶çš„è¯­æ³•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# visudo</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br><span class="line">root ALL=(ALL) ALL  &lt;--å¤§çº¦ 76 è¡Œçš„ä½ç½®</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨æˆ·å è¢«ç®¡ç†ä¸»æœºçš„åœ°å€=(å¯ä½¿ç”¨çš„èº«ä»½) æˆæƒå‘½ä»¤(ç»å¯¹è·¯å¾„)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">%wheel ALL=(ALL) ALL   &lt;--å¤§çº¦84è¡Œçš„ä½ç½®</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">%ç»„å è¢«ç®¡ç†ä¸»æœºçš„åœ°å€=(å¯ä½¿ç”¨çš„èº«ä»½) æˆæƒå‘½ä»¤(ç»å¯¹è·¯å¾„)</span></span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure><table><thead><tr><th>æ¨¡å—</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>ç”¨æˆ·åæˆ–ç¾¤ç»„å</td><td>è¡¨ç¤ºç³»ç»Ÿä¸­çš„é‚£ä¸ªç”¨æˆ·æˆ–ç¾¤ç»„ï¼Œå¯ä»¥ä½¿ç”¨ sudo è¿™ä¸ªå‘½ä»¤ã€‚</td></tr><tr><td>è¢«ç®¡ç†ä¸»æœºçš„åœ°å€</td><td>ç”¨æˆ·å¯ä»¥ç®¡ç†æŒ‡å®š IP åœ°å€çš„æœåŠ¡å™¨ã€‚è¿™é‡Œå¦‚æœå†™ ALLï¼Œ<br/>åˆ™ä»£è¡¨ç”¨æˆ·å¯ä»¥ç®¡ç†ä»»ä½•ä¸»æœºï¼›å¦‚æœå†™å›ºå®š IPï¼Œåˆ™ä»£è¡¨ç”¨æˆ·å¯ä»¥ç®¡ç†æŒ‡å®šçš„æœåŠ¡å™¨ã€‚<br/>å¦‚æœæˆ‘ä»¬åœ¨è¿™é‡Œå†™æœ¬æœºçš„ IP åœ°å€ï¼Œä¸ä»£è¡¨åªå…è®¸æœ¬æœºçš„ç”¨æˆ·ä½¿ç”¨æŒ‡å®šå‘½ä»¤ï¼Œ<br/>è€Œæ˜¯ä»£è¡¨æŒ‡å®šçš„ç”¨æˆ·å¯ä»¥ä»ä»»ä½• IP åœ°å€æ¥ç®¡ç†å½“å‰æœåŠ¡å™¨ã€‚</td></tr><tr><td>å¯ä½¿ç”¨çš„èº«ä»½</td><td>å°±æ˜¯æŠŠæ¥æºç”¨æˆ·åˆ‡æ¢æˆä»€ä¹ˆèº«ä»½ä½¿ç”¨ï¼Œï¼ˆALLï¼‰ä»£è¡¨å¯ä»¥åˆ‡æ¢æˆä»»æ„èº«ä»½ã€‚è¿™ä¸ªå­—æ®µå¯ä»¥çœç•¥ã€‚</td></tr><tr><td>æˆæƒå‘½ä»¤</td><td>è¡¨ç¤º root æŠŠä»€ä¹ˆå‘½ä»¤å‘½ä»¤æˆæƒç»™ç”¨æˆ·ï¼Œæ¢å¥è¯è¯´ï¼Œå¯ä»¥ç”¨åˆ‡æ¢çš„èº«ä»½æ‰§è¡Œä»€ä¹ˆå‘½ä»¤ã€‚éœ€è¦æ³¨<br/>æ„çš„æ˜¯ï¼Œæ­¤å‘½ä»¤å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„å†™ã€‚é»˜è®¤å€¼æ˜¯ ALLï¼Œè¡¨ç¤ºå¯ä»¥æ‰§è¡Œä»»ä½•å‘½ä»¤ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æœ¬ä¾‹ä¸­ï¼Œæ— æ³•ä½¿ç”¨sshdç™»å…¥ã€‚ su - sshd çš„æ–¹å¼æˆåŠŸåˆ‡æ¢åˆ° sshd è´¦æˆ·ä¸­ï¼Œå› ä¸ºæ­¤ç”¨æˆ·çš„é»˜è®¤ Shell æ˜¯ /sbin/nologinã€‚è¿™æ—¶å°±æ˜¾ç°å‡º sudo çš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ sudo ä»¥ sshd çš„èº«ä»½åœ¨ /tmp ç›®å½•ä¸‹åˆ›å»º mysshd æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ–°åˆ›å»ºçš„ mysshd æ–‡ä»¶çš„æ‰€æœ‰è€…ç¡®å®æ˜¯ sshdã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#  grep sshd /etc/passwd</span><br><span class="line">sshd:x:74:74:privilege-separated SSH:/var/empty/sshd:/sbin.nologin</span><br><span class="line">[root@localhost ~]#  sudo -u sshd touch /tmp/mysshd</span><br><span class="line">[root@localhost ~]#  ll /tmp/mysshd</span><br><span class="line">-rw-r--r-- 1 sshd sshd 0 Feb 28 17:42 /tmp/mysshd</span><br></pre></td></tr></table></figure></li></ol></li></ul><h3 id="8-7-æŸ¥è¯¢">8.7 æŸ¥è¯¢</h3><h4 id="8-7-1-find-æŸ¥æ‰¾æ–‡ä»¶æˆ–è€…ç›®å½•">8.7.1 find æŸ¥æ‰¾æ–‡ä»¶æˆ–è€…ç›®å½•</h4><p>find æ˜¯ Linux ä¸­å¼ºå¤§çš„æœç´¢å‘½ä»¤ï¼Œä¸ä»…å¯ä»¥æŒ‰ç…§æ–‡ä»¶åæœç´¢æ–‡ä»¶ï¼Œè¿˜å¯ä»¥æŒ‰ç…§æƒé™ã€å¤§å°ã€æ—¶é—´ã€inode å·ç­‰æ¥æœç´¢æ–‡ä»¶ã€‚ä½†æ˜¯ find å‘½ä»¤æ˜¯ç›´æ¥åœ¨ç¡¬ç›˜ä¸­è¿›è¡Œæœç´¢çš„ï¼Œå¦‚æœæŒ‡å®šçš„æœç´¢èŒƒå›´è¿‡å¤§ï¼Œfindå‘½ä»¤å°±ä¼šæ¶ˆè€—è¾ƒå¤§çš„ç³»ç»Ÿèµ„æºï¼Œå¯¼è‡´æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ã€‚æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨ find å‘½ä»¤æœç´¢æ—¶ï¼Œä¸è¦æŒ‡å®šè¿‡å¤§çš„æœç´¢èŒƒå›´ã€‚</p><p><code>/bin/find</code></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find [path] [expression] [[æœç´¢å†…å®¹][å¤„ç†åŠ¨ä½œ]]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶,å¹¶å¿½ç•¥å¤§å°å†™</span></span><br><span class="line">[root@localhost ~]# find / -iname [å¤„ç†åŠ¨ä½œ]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><ul><li><p>pathï¼šæŸ¥æ‰¾å¼€å§‹çš„ä½ç½®ï¼Œä¸ºç©ºå­—ç¬¦ä¸²åˆ™ä¸ºå½“å‰è·¯å¾„ <code>./</code> ã€‚</p></li><li><p>expressionï¼šæŸ¥æ‰¾æ¡ä»¶ï¼Œå¦‚æœä¸ºç©ºå­—ç¬¦ä¸²åˆ™ä½¿ç”¨ <code>-print</code> ä¸ºé¢„è®¾ ã€‚</p><table><thead><tr><th>æŸ¥æ‰¾æ¡ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-amin n</code></td><td>åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«è¯»å–è¿‡</td></tr><tr><td><code>-anewer file</code></td><td>æ¯”æ–‡ä»¶ file æ›´æ™šè¢«è¯»å–è¿‡çš„æ–‡ä»¶</td></tr><tr><td><code>-atime [[][+][-]]time</code></td><td>ç©ºå­—ç¬¦ï¼šè¡¨ç¤ºåœ¨å‰ n~n+1 å¤©å†…è¯»å–è¿‡çš„æ–‡ä»¶; <br />+nï¼šä»£è¡¨ n å¤©å‰è¯»å–çš„æ–‡ä»¶<br />-nï¼šä»£è¡¨ n å¤©å†…è¯»å–çš„æ–‡ä»¶</td></tr><tr><td><code>-cmin n</code></td><td>åœ¨è¿‡å» n åˆ†é’Ÿå†…è¢«ä¿®æ”¹è¿‡</td></tr><tr><td><code>-cnewer file</code></td><td>æ¯”æ–‡ä»¶ file æ›´æ–°çš„æ–‡ä»¶</td></tr><tr><td><code>-ctime [[][+][-]]time</code></td><td>ç©ºå­—ç¬¦ï¼šè¡¨ç¤ºåœ¨å‰ n~n+1 å¤©å†…åˆ›å»ºè¿‡çš„æ–‡ä»¶; <br />+nï¼šä»£è¡¨ n å¤©å‰åˆ›å»ºçš„æ–‡ä»¶<br />-nï¼šä»£è¡¨ n å¤©å†…åˆ›å»ºçš„æ–‡ä»¶</td></tr><tr><td><code>-empty</code></td><td>ç©ºçš„æ–‡ä»¶-gid n or -group name : gid æ˜¯ n æˆ–æ˜¯ group åç§°æ˜¯ name</td></tr><tr><td><code>-inum</code></td><td>æŒ‰ç…§ inode å·æœç´¢</td></tr><tr><td><code>-ipath p</code>ï¼Œ<code>-path p</code></td><td>è·¯å¾„åç§°ç¬¦åˆ p çš„æ–‡ä»¶ï¼Œipath ä¼šå¿½ç•¥å¤§å°å†™</td></tr><tr><td><code>-mtime [[][+][-]]time</code></td><td>ç©ºå­—ç¬¦ï¼šè¡¨ç¤ºåœ¨å‰ n~n+1 å¤©å†…ä¿®æ”¹è¿‡çš„æ–‡ä»¶; <br />+nï¼šä»£è¡¨ n å¤©å‰ä¿®æ”¹çš„æ–‡ä»¶<br />-nï¼šä»£è¡¨ n å¤©å†…ä¿®æ”¹çš„æ–‡ä»¶</td></tr><tr><td><code>-mount, -xdev</code></td><td>åªæ£€æŸ¥å’ŒæŒ‡å®šç›®å½•åœ¨åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ–‡ä»¶ï¼Œé¿å…åˆ—å‡ºå…¶å®ƒæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶</td></tr><tr><td><code>-name name</code>ï¼Œ<code>-iname name</code></td><td>æ–‡ä»¶åç§°ç¬¦åˆ name çš„æ–‡ä»¶ã€‚iname ä¼šå¿½ç•¥å¤§å°å†™</td></tr><tr><td><code>-size [[+][-]]&lt;size&gt;&lt;units&gt;</code></td><td><code>+-</code>ï¼šåŠ å·è¡¨å¤§äºï¼ˆçœï¼‰ï¼Œå‡å·è¡¨å°äºï¼›<br />sizeï¼šå¤§å°ï¼›<br />unitsï¼šå•ä½ <code>c</code>-Byte,<code>k</code>-kbï¼Œ<code>M</code>-mb;</td></tr><tr><td><code>-type ç±»å‹</code></td><td>b: åŒºå—è£…ç½®æ–‡ä»¶<br />c: å­—å‹è£…ç½®æ–‡ä»¶<br />d: æŸ¥æ‰¾ç›®å½•<br />f: ä¸€èˆ¬æ–‡ä»¶<br />l: ç¬¦å·è¿ç»“<br />p: å…·åè´®åˆ—<br />s: socket</td></tr></tbody></table></li></ul></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åç¼€ä¸º <strong>.c</strong> çš„æ–‡ä»¶åˆ—å‡ºæ¥:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find . -name &quot;*.c&quot;</span><br></pre></td></tr></table></figure></li><li><p>å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ—å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find . -type f</span><br></pre></td></tr></table></figure></li><li><p>å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰æœ€è¿‘ 20 å¤©å†…æ›´æ–°è¿‡çš„æ–‡ä»¶åˆ—å‡º:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find . -ctime  20</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ /var/log ç›®å½•ä¸­æ›´æ”¹æ—¶é—´åœ¨ 7 æ—¥ä»¥å‰çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åœ¨åˆ é™¤ä¹‹å‰è¯¢é—®å®ƒä»¬ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find /var/log -type f -mtime +7 -ok rm &#123;&#125; \\;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾å½“å‰ç›®å½•ä¸­æ–‡ä»¶å±ä¸»å…·æœ‰è¯»ã€å†™æƒé™ï¼Œå¹¶ä¸”æ–‡ä»¶æ‰€å±ç»„çš„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·å…·æœ‰è¯»æƒé™çš„æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find . -type f -perm 644 -exec ls -l &#123;&#125; \\;</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥æ‰¾ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶é•¿åº¦ä¸º 0 çš„æ™®é€šæ–‡ä»¶ï¼Œå¹¶åˆ—å‡ºå®ƒä»¬çš„å®Œæ•´è·¯å¾„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# find / -type f -size 0 -exec ls -l &#123;&#125; \\;</span><br></pre></td></tr></table></figure></li></ol></li></ul><blockquote><p>å‚è€ƒæ–‡ç« ï¼š</p><p><a href="http://c.biancheng.net/view/779.html">Linux findå‘½ä»¤ï¼šåœ¨ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼ˆè¶…è¯¦è§£ï¼‰</a></p></blockquote><h4 id="8-7-2-locate-å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„">8.7.2 locate å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„</h4><p>Linux locateå‘½ä»¤ç”¨äºæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„æ–‡æ¡£ï¼Œä»–ä¼šå»ä¿å­˜æ–‡æ¡£å’Œç›®å½•åç§°çš„æ•°æ®åº“å†…ï¼ŒæŸ¥æ‰¾åˆä¹èŒƒæœ¬æ ·å¼æ¡ä»¶çš„æ–‡æ¡£æˆ–ç›®å½•ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate [options] [æ ·å¼]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-f</td><td>å°†ç‰¹å®šçš„æ¡£æ¡ˆç³»ç»Ÿæ’é™¤åœ¨å¤–ï¼Œä¾‹å¦‚æˆ‘ä»¬æ²¡æœ‰åˆ°ç†è¦æŠŠ proc æ¡£æ¡ˆç³»ç»Ÿä¸­çš„æ¡£æ¡ˆ æ”¾åœ¨èµ„æ–™åº“ä¸­ã€‚</td></tr><tr><td>-q</td><td>å®‰é™æ¨¡å¼ï¼Œä¸ä¼šæ˜¾ç¤ºä»»ä½•é”™è¯¯è®¯æ¯ã€‚</td></tr><tr><td>-n</td><td>è‡³å¤šæ˜¾ç¤º nä¸ªè¾“å‡ºã€‚</td></tr><tr><td>-r</td><td>ä½¿ç”¨æ­£è§„è¿ç®—å¼ åšå¯»æ‰¾çš„æ¡ä»¶ã€‚</td></tr><tr><td>-o</td><td>æŒ‡å®šèµ„æ–™åº“å­˜çš„åç§°ã€‚</td></tr><tr><td>-d</td><td>æŒ‡å®šèµ„æ–™åº“çš„è·¯å¾„</td></tr><tr><td>-h</td><td>æ˜¾ç¤ºè¾…åŠ©è®¯æ¯</td></tr><tr><td>-V</td><td>æ˜¾ç¤ºç¨‹å¼çš„ç‰ˆæœ¬è®¯æ¯</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æœç´¢etcç›®å½•ä¸‹æ‰€æœ‰ä»¥shå¼€å¤´çš„æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# locate /etc/sh       </span><br><span class="line">/etc/shadow</span><br><span class="line">/etc/shadow-</span><br><span class="line">/etc/shells</span><br><span class="line">[root@localhost ~]# locate -r &quot;/etc/\sh &quot;  # æ­£åˆ™ï¼Œé”šå®šè¯é¦–</span><br><span class="line">/etc/shadow</span><br><span class="line">/etc/shadow-</span><br><span class="line">/etc/shells</span><br></pre></td></tr></table></figure></li><li><p>å¿½ç•¥å¤§å°å†™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# locate -i ~/d</span><br><span class="line">/root/Desktop/root/Documents/root/Downloads</span><br><span class="line">/root/d1</span><br><span class="line">/root/dd</span><br><span class="line">/var/lib/pcp/pmdas/root/domain.h</span><br></pre></td></tr></table></figure></li><li><p>æ›´æ–°æ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# locate ~/a</span><br><span class="line">/root/anaconda-ks.cfg</span><br><span class="line">[root@localhost ~]# updatedb</span><br><span class="line">[root@localhost ~]# locate ~/a</span><br><span class="line">/root/a.sh</span><br><span class="line">/root/anaconda-ks.cfg</span><br></pre></td></tr></table></figure></li></ol></li></ul><h3 id="8-8-å‹ç¼©å’Œæ‰“åŒ…">8.8 å‹ç¼©å’Œæ‰“åŒ…</h3><h4 id="8-8-1-gzip-gunzip-å‹ç¼©-è§£å‹ç¼©">8.8.1 gzip/gunzip å‹ç¼©/è§£å‹ç¼©</h4><p>gzip æ˜¯ Linux ç³»ç»Ÿä¸­ç»å¸¸ç”¨æ¥å¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©å’Œè§£å‹ç¼©çš„å‘½ä»¤ï¼Œé€šè¿‡æ­¤å‘½ä»¤å‹ç¼©å¾—åˆ°çš„æ–°æ–‡ä»¶ï¼Œå…¶æ‰©å±•åé€šå¸¸æ ‡è®°ä¸ºâ€œ.gzâ€ã€‚</p><ul><li><p><strong>gzip å‹ç¼©</strong></p><p><font style="color:red;">gzip å‘½ä»¤åªèƒ½ç”¨æ¥å‹ç¼©æ–‡ä»¶ï¼Œä¸èƒ½å‹ç¼©ç›®å½•ï¼Œå³ä¾¿æŒ‡å®šäº†ç›®å½•ï¼Œä¹Ÿåªèƒ½å‹ç¼©ç›®å½•å†…çš„æ‰€æœ‰æ–‡ä»¶ã€‚</font></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gzip [options] æºæ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-c</code></td><td>å°†å‹ç¼©æ•°æ®è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸­ï¼Œå¹¶ä¿ç•™æºæ–‡ä»¶ã€‚</td></tr><tr><td><code>-d</code></td><td>å¯¹å‹ç¼©æ–‡ä»¶è¿›è¡Œè§£å‹ç¼©ã€‚</td></tr><tr><td><code>-r</code></td><td>é€’å½’å‹ç¼©æŒ‡å®šç›®å½•ä¸‹ä»¥åŠå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</td></tr><tr><td><code>-v</code></td><td>å¯¹äºæ¯ä¸ªå‹ç¼©å’Œè§£å‹ç¼©çš„æ–‡ä»¶ï¼Œæ˜¾ç¤ºç›¸åº”çš„æ–‡ä»¶åå’Œå‹ç¼©æ¯”ã€‚</td></tr><tr><td><code>-l</code></td><td>å¯¹æ¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œæ˜¾ç¤ºä»¥ä¸‹å­—æ®µï¼š<br />å‹ç¼©æ–‡ä»¶çš„å¤§å°ï¼›<br />æœªå‹ç¼©æ–‡ä»¶çš„å¤§å°ï¼›<br />å‹ç¼©æ¯”ï¼›<br />æœªå‹ç¼©æ–‡ä»¶çš„åç§°ã€‚</td></tr><tr><td><code>-æ•°å­—</code></td><td>ç”¨äºæŒ‡å®šå‹ç¼©ç­‰çº§ï¼Œ-1 å‹ç¼©ç­‰çº§æœ€ä½ï¼Œå‹ç¼©æ¯”æœ€å·®ï¼›-9 å‹ç¼©æ¯”æœ€é«˜ã€‚é»˜è®¤å‹ç¼©æ¯”æ˜¯ -6ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>gzip å‹ç¼©å‘½ä»¤éå¸¸ç®€å•ï¼Œç”šè‡³ä¸éœ€è¦æŒ‡å®šå‹ç¼©ä¹‹åçš„å‹ç¼©åŒ…åï¼Œåªéœ€æŒ‡å®šæºæ–‡ä»¶åå³å¯:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gzip install.log</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©instal.log æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# ls</span><br><span class="line">anaconda-ks.cfg install.log.gz install.log.syslog</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©æ–‡ä»¶ç”Ÿæˆï¼Œä½†æ˜¯æºæ–‡ä»¶ä¹Ÿæ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ä½¿ç”¨ gzip å‘½ä»¤å‹ç¼©æ–‡ä»¶æ—¶ï¼Œæºæ–‡ä»¶ä¼šæ¶ˆå¤±ï¼Œä»è€Œç”Ÿæˆå‹ç¼©æ–‡ä»¶ã€‚ä½¿ç”¨é€‰é¡¹<code>-c</code>ä¿ç•™æºæ–‡ä»¶ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gzip -c anaconda-ks.cfg &gt;anaconda-ks.cfg.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨-cé€‰é¡¹ï¼Œä½†æ˜¯ä¸è®©å‹ç¼©æ•°æ®è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œè€Œæ˜¯é‡å®šå‘åˆ°å‹ç¼©æ–‡ä»¶ä¸­ï¼Œè¿™æ ·å¯ä»¥ç¼©æ–‡ä»¶çš„åŒæ—¶ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# ls</span><br><span class="line">anaconda-ks.cfg anaconda-ks.cfg.gz install.log.gz install.log.syslog</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯ä»¥çœ‹åˆ°å‹ç¼©æ–‡ä»¶å’Œæºæ–‡ä»¶éƒ½å­˜åœ¨</span></span><br></pre></td></tr></table></figure></li><li><p>è¯•è¯•ç”¨ gzip å‘½ä»¤å¯ä»¥å‹ç¼©ç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir test</span><br><span class="line">[root@localhost ~]# touch test/test1</span><br><span class="line">[root@localhost ~]# touch test/test2</span><br><span class="line">[root@localhost ~]# touch test/test3 #å»ºç«‹æµ‹è¯•ç›®å½•ï¼Œå¹¶åœ¨é‡Œé¢å»ºç«‹å‡ ä¸ªæµ‹è¯•æ–‡ä»¶</span><br><span class="line">[root@localhost ~]# gzip -r test/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©ç›®å½•ï¼Œå¹¶æ²¡æœ‰æŠ¥é”™</span></span><br><span class="line">[root@localhost ~]# ls</span><br><span class="line">anaconda-ks.cfg anaconda-ks.cfg.gz install.log.gz install.log.syslog test</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½†æ˜¯æŸ¥çœ‹å‘ç°<span class="built_in">test</span>ç›®å½•ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æ²¡æœ‰å˜ä¸ºå‹ç¼©æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]# ls test/</span><br><span class="line">testl .gz test2.gz test3.gz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åŸæ¥gzipå‘½ä»¤ä¸ä¼šæ‰“åŒ…ç›®å½•ï¼Œè€Œæ˜¯æŠŠç›®å½•ä¸‹æ‰€æœ‰çš„å­æ–‡ä»¶åˆ†åˆ«å‹ç¼©</span></span><br></pre></td></tr></table></figure><p>åœ¨ Linux ä¸­ï¼Œæ‰“åŒ…å’Œå‹ç¼©æ˜¯åˆ†å¼€å¤„ç†çš„ã€‚è€Œ gzip å‘½ä»¤åªä¼šå‹ç¼©ï¼Œä¸èƒ½æ‰“åŒ…ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°æ²¡æœ‰æ‰“åŒ…ç›®å½•ï¼Œè€ŒåªæŠŠç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œå‹ç¼©çš„æƒ…å†µã€‚</p></li></ol></li></ul></li><li><p><strong>gunzip è§£å‹</strong></p><p>gunzip æ˜¯ä¸€ä¸ªä½¿ç”¨å¹¿æ³›çš„è§£å‹ç¼©å‘½ä»¤ï¼Œå®ƒç”¨äºè§£å‹è¢« gzip å‹ç¼©è¿‡çš„æ–‡ä»¶ï¼ˆæ‰©å±•åä¸º .gzï¼‰</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gunzip [options] æ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-r</code></td><td>é€’å½’å¤„ç†ï¼Œè§£å‹ç¼©æŒ‡å®šç›®å½•ä¸‹ä»¥åŠå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</td></tr><tr><td><code>-c</code></td><td>æŠŠè§£å‹ç¼©åçš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚</td></tr><tr><td><code>-f</code></td><td>å¼ºåˆ¶è§£å‹ç¼©æ–‡ä»¶ï¼Œä¸ç†ä¼šæ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨ç­‰æƒ…å†µã€‚</td></tr><tr><td><code>-l</code></td><td>åˆ—å‡ºå‹ç¼©æ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td><code>-v</code></td><td>æ˜¾ç¤ºå‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚</td></tr><tr><td><code>-t</code></td><td>æµ‹è¯•å‹ç¼©æ–‡ä»¶æ˜¯å¦æ­£å¸¸ï¼Œä½†ä¸å¯¹å…¶åšè§£å‹ç¼©æ“ä½œã€‚</td></tr></tbody></table></li><li><p>å®ä¾‹</p><ol><li><p>ç›´æ¥è§£å‹ç¼©æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gunzip install.log.gz</span><br></pre></td></tr></table></figure></li><li><p>â€œgunzip -r&quot;ä¾ç„¶åªä¼šè§£å‹ç¼©ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œè€Œä¸ä¼šè§£æ‰“åŒ…ã€‚è¦æƒ³è§£å‹ç¼©â€.gz&quot;æ ¼å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ &quot;gzip -d&quot;å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gunzip -r test/</span><br></pre></td></tr></table></figure></li><li><p>æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬å‹ç¼©çš„æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ zcat å‘½ä»¤åœ¨ä¸è§£å‹ç¼©çš„æƒ…å†µä¸‹æŸ¥çœ‹è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­çš„å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# zcat anaconda-ks.cfg.gz</span><br></pre></td></tr></table></figure></li></ol></li></ul></li></ul><h4 id="8-8-2-zip-unzip-å‹ç¼©-è§£å‹ç¼©">8.8.2 zip/unzip å‹ç¼©/è§£å‹ç¼©</h4><p>æˆ‘ä»¬ç»å¸¸ä¼šåœ¨ Windows ç³»ç»Ÿä¸Šä½¿ç”¨ â€œ.zipâ€æ ¼å¼å‹ç¼©æ–‡ä»¶ï¼Œå…¶å®â€œ.zipâ€æ ¼å¼æ–‡ä»¶æ˜¯ Windows å’Œ Linux ç³»ç»Ÿéƒ½é€šç”¨çš„å‹ç¼©æ–‡ä»¶ç±»å‹ï¼Œå±äºå‡ ç§ä¸»æµçš„å‹ç¼©æ ¼å¼ï¼ˆzipã€rarç­‰ï¼‰ä¹‹ä¸€ï¼Œæ˜¯ä¸€ç§ç›¸å½“ç®€å•çš„åˆ†åˆ«å‹ç¼©æ¯ä¸ªæ–‡ä»¶çš„å­˜å‚¨æ ¼å¼ã€‚</p><ul><li><p>zip</p><p>zip å‘½ä»¤ï¼Œç±»ä¼¼äº Windows ç³»ç»Ÿä¸­çš„ winzip å‹ç¼©ç¨‹åºã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# gzip [options] æºæ–‡ä»¶</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-r</code></td><td>é€’å½’å‹ç¼©ç›®å½•ï¼ŒåŠå°†åˆ¶å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­ç›®å½•å…¨éƒ¨å‹ç¼©ã€‚</td></tr><tr><td><code>-m</code></td><td>å°†æ–‡ä»¶å‹ç¼©ä¹‹åï¼Œåˆ é™¤åŸå§‹æ–‡ä»¶ï¼Œç›¸å½“äºæŠŠæ–‡ä»¶ç§»åˆ°å‹ç¼©æ–‡ä»¶ä¸­ã€‚</td></tr><tr><td><code>-v</code></td><td>æ˜¾ç¤ºè¯¦ç»†çš„å‹ç¼©è¿‡ç¨‹ä¿¡æ¯ã€‚</td></tr><tr><td><code>-q</code></td><td>åœ¨å‹ç¼©çš„æ—¶å€™ä¸æ˜¾ç¤ºå‘½ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</td></tr><tr><td><code>-å‹ç¼©çº§åˆ«</code></td><td>å‹ç¼©çº§åˆ«æ˜¯ä» 1~9 çš„æ•°å­—ï¼Œ-1 ä»£è¡¨å‹ç¼©é€Ÿåº¦æ›´å¿«ï¼Œ-9 ä»£è¡¨å‹ç¼©æ•ˆæœæ›´å¥½ã€‚</td></tr><tr><td><code>-u</code></td><td>æ›´æ–°å‹ç¼©æ–‡ä»¶ï¼Œå³å¾€å‹ç¼©æ–‡ä»¶ä¸­æ·»åŠ æ–°æ–‡ä»¶ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>zip å‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# zip ana.zip anaconda-ks.cfg</span><br><span class="line">adding: anaconda-ks.cfg (deflated 37%)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©</span></span><br><span class="line">[root@localhost ~]# ll ana.zip</span><br><span class="line">-rw-r--r-- 1 root root 935 6æœˆ 1716:00 ana.zip</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©æ–‡ä»¶ç”Ÿæˆ</span></span><br></pre></td></tr></table></figure><p>æ‰€æœ‰çš„å‹ç¼©å‘½ä»¤éƒ½å¯ä»¥åŒæ—¶å‹ç¼©å¤šä¸ªæ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# zip test.zip install.log install.log.syslog</span><br><span class="line">adding: install.log (deflated 72%)</span><br><span class="line">adding: install.log.syslog (deflated 85%)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åŒæ—¶å‹ç¼©å¤šä¸ªæ–‡ä»¶åˆ°test.zipå‹ç¼©åŒ…ä¸­</span></span><br><span class="line">[root@localhost ~]#ll test.zip</span><br><span class="line">-rw-r--r-- 1 root root 8368 6æœˆ 1716:03 test.zip</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©æ–‡ä»¶ç”Ÿæˆ</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ zip å‘½ä»¤å‹ç¼©ç›®å½•ï¼Œéœ€è¦ä½¿ç”¨â€œ-râ€é€‰é¡¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir dir1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å»ºç«‹æµ‹è¯•ç›®å½•</span></span><br><span class="line">[root@localhost ~]# zip -r dir1.zip dir1</span><br><span class="line">adding: dir1/(stored 0%)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©ç›®å½•</span></span><br><span class="line">[root@localhost ~]# ls -dl dir1.zip</span><br><span class="line">-rw-r--r-- 1 root root 160 6æœˆ 1716:22 dir1.zip</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‹ç¼©æ–‡ä»¶ç”Ÿæˆ</span></span><br></pre></td></tr></table></figure></li></ol></li></ul></li><li><p>unzip</p><p>unzip å‘½ä»¤å¯ä»¥æŸ¥çœ‹å’Œè§£å‹ç¼© zip æ–‡ä»¶ã€‚</p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# unzip [options] å‹ç¼©åŒ…å</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-d ç›®å½•å</code></td><td>å°†å‹ç¼©æ–‡ä»¶è§£å‹åˆ°æŒ‡å®šç›®å½•ä¸‹ã€‚</td></tr><tr><td><code>-n</code></td><td>è§£å‹æ—¶å¹¶ä¸è¦†ç›–å·²ç»å­˜åœ¨çš„æ–‡ä»¶ã€‚</td></tr><tr><td><code>-o</code></td><td>è§£å‹æ—¶è¦†ç›–å·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ— éœ€ç”¨æˆ·ç¡®è®¤ã€‚</td></tr><tr><td><code>-v</code></td><td>æŸ¥çœ‹å‹ç¼©æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‹ç¼©æ–‡ä»¶ä¸­åŒ…å«çš„æ–‡ä»¶å¤§å°ã€æ–‡ä»¶åä»¥åŠå‹ç¼©æ¯”ç­‰ï¼Œä½†å¹¶ä¸åšè§£å‹æ“ä½œã€‚</td></tr><tr><td><code>-t</code></td><td>æµ‹è¯•å‹ç¼©æ–‡ä»¶æœ‰æ— æŸåï¼Œä½†å¹¶ä¸è§£å‹ã€‚</td></tr><tr><td><code>-x æ–‡ä»¶åˆ—è¡¨</code></td><td>è§£å‹æ–‡ä»¶ï¼Œä½†ä¸åŒ…å«æ–‡ä»¶åˆ—è¡¨ä¸­æŒ‡å®šçš„æ–‡ä»¶ã€‚</td></tr></tbody></table></li><li><p>å®ä¾‹</p><ol><li><p>ä¸è®ºæ˜¯æ–‡ä»¶å‹ç¼©åŒ…ï¼Œè¿˜æ˜¯ç›®å½•å‹ç¼©åŒ…ï¼Œéƒ½å¯ä»¥ç›´æ¥è§£å‹ç¼©</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# unzip dir1.zip</span><br><span class="line">Archive: dir1.zip</span><br><span class="line">creating: dirl/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹ç¼©</span></span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ -d é€‰é¡¹æ‰‹åŠ¨æŒ‡å®šè§£å‹ç¼©ä½ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# unzip -d /tmp/ ana.zip</span><br><span class="line">Archive: ana.zip</span><br><span class="line">inflating: /tmp/anaconda-ks.cfg</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŠŠå‹ç¼©åŒ…è§£å‹åˆ°æŒ‡å®šä½ç½®</span></span><br></pre></td></tr></table></figure><p>1</p></li></ol></li></ul></li></ul><h4 id="8-8-3-tar-æ‰“åŒ…">8.8.3 tar æ‰“åŒ…</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tar [options] æºæ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]#  tar -cvf æ‰“åŒ…ååå­—.tar æ–‡ä»¶å1 æ–‡ä»¶å2 ...    # æ‰“åŒ…å¹¶å‹ç¼©</span><br><span class="line">[root@localhost ~]#  tar -xvf éœ€è§£å‹çš„æ–‡ä»¶.tar -C è§£å‹çš„ä½ç½®    # è§£å‹</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">.gz æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]#  tar -zcvf æ‰“åŒ…ååå­—.tar.gz æ–‡ä»¶å1 æ–‡ä»¶å2 ...    # æ‰“åŒ…å¹¶å‹ç¼©</span><br><span class="line">[root@localhost ~]#  tar -zxvf éœ€è§£å‹çš„æ–‡ä»¶.tar.gz     # è§£å‹</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">.bz2 æ–‡ä»¶</span></span><br><span class="line">[root@localhost ~]#  tar -jcvf æ‰“åŒ…ååå­—.tar.bz2 æ–‡ä»¶å1 æ–‡ä»¶å2 ...    # æ‰“åŒ…å¹¶å‹ç¼©</span><br><span class="line">[root@localhost ~]#  tar -jxvf éœ€è§£å‹çš„æ–‡ä»¶.tar.bz2     # è§£å‹</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><ul><li><p>æ‰“åŒ…å¸¸ç”¨é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-c</code>:<code>--directory=&lt;ç›®çš„ç›®å½•&gt;</code></td><td>å°†å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œæ‰“åŒ…ã€‚</td></tr><tr><td><code>-A</code>:<code>--catenate</code></td><td>è¿½åŠ  tar æ–‡ä»¶åˆ°å½’æ¡£æ–‡ä»¶ã€‚</td></tr><tr><td><code>-f åŒ…å</code>ï¼š<code>--file=&lt;å¤‡ä»½æ–‡ä»¶&gt;</code></td><td>æŒ‡å®šåŒ…çš„æ–‡ä»¶åã€‚åŒ…çš„æ‰©å±•åæ˜¯ç”¨æ¥ç»™ç®¡ç†å‘˜è¯†åˆ«æ ¼å¼çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦æ­£ç¡®æŒ‡å®šæ‰©å±•åï¼›</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºæ‰“åŒ…æ–‡ä»¶è¿‡ç¨‹</td></tr></tbody></table></li><li><p>è§£æ‰“åŒ…å¸¸ç”¨é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>-x</code>ï¼š<code>--extract</code>ï¼š<code>--get</code></td><td>å¯¹ tar åŒ…åšè§£æ‰“åŒ…æ“ä½œã€‚</td></tr><tr><td><code>-f</code>ï¼š<code>--file=&lt;å¤‡ä»½æ–‡ä»¶&gt;</code></td><td>æŒ‡å®šè¦è§£å‹çš„ tar åŒ…çš„åŒ…åã€‚</td></tr><tr><td><code>-t</code>ï¼š<code>--list</code></td><td>åªæŸ¥çœ‹ tar åŒ…ä¸­æœ‰å“ªäº›æ–‡ä»¶æˆ–ç›®å½•ï¼Œä¸å¯¹ tar åŒ…åšè§£æ‰“åŒ…æ“ä½œã€‚</td></tr><tr><td><code>-C ç›®å½•</code>:<code>--directory=&lt;ç›®çš„ç›®å½•&gt;</code></td><td>æŒ‡å®šè§£æ‰“åŒ…ä½ç½®ã€‚</td></tr><tr><td><code>-v</code>ï¼š<code>--verbose</code></td><td>æ˜¾ç¤ºè§£æ‰“åŒ…çš„å…·ä½“è¿‡ç¨‹</td></tr></tbody></table></li></ul></li></ul><h3 id="8-9-æ–‡ä»¶ç³»ç»Ÿç®¡ç†">8.9 æ–‡ä»¶ç³»ç»Ÿç®¡ç†</h3><h4 id="8-9-1-df-æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç¡¬ç›˜ä½¿ç”¨æƒ…å†µ">8.9.1 df æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç¡¬ç›˜ä½¿ç”¨æƒ…å†µ</h4><p>Linux dfï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šdisk freeï¼‰ å‘½ä»¤ç”¨äºæ˜¾ç¤ºç›®å‰åœ¨ Linux ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ç³»ç»Ÿç£ç›˜ä½¿ç”¨æƒ…å†µç»Ÿè®¡ã€‚åŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿæ‰€åœ¨ç¡¬ç›˜åˆ†åŒºçš„æ€»å®¹é‡ã€å·²ä½¿ç”¨çš„å®¹é‡ã€å‰©ä½™å®¹é‡ç­‰ã€‚</p><p>æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿæœ‰å…³çš„æ•°æ®ï¼Œéƒ½ä¿å­˜åœ¨ Super blockï¼ˆè¶…çº§å—ï¼‰ä¸­ï¼Œè€Œ df å‘½ä»¤ä¸»è¦è¯»å–çš„æ•°æ®å‡ ä¹éƒ½é’ˆå¯¹çš„æ˜¯æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥ df å‘½ä»¤ä¸»è¦æ˜¯ä»å„æ–‡ä»¶ç³»ç»Ÿçš„ Super block ä¸­è¯»å–æ•°æ®ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# df [options] [ç›®å½•æˆ–æ–‡ä»¶å]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»¥äººä»¬ä¹ æƒ¯çš„å•ä½ï¼ˆé€šå¸¸ä½¿ç”¨ GB æˆ– MBï¼‰æ˜¾ç¤ºå‡ºæ¥</span></span><br><span class="line">[root@localhost ~]# df -h</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹å·²ç»ä½¿ç”¨çš„inode</span></span><br><span class="line">[root@localhost ~]# df -iTh</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>-a</code></td><td>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„ /procã€/sysfs ç­‰æ–‡ä»¶ç³»ç»Ÿï¼›</td></tr><tr><td><code>-m</code></td><td>ä»¥ MB ä¸ºå•ä½æ˜¾ç¤ºå®¹é‡ï¼›</td></tr><tr><td><code>-k</code></td><td>ä»¥ KB ä¸ºå•ä½æ˜¾ç¤ºå®¹é‡ï¼Œé»˜è®¤ä»¥ KB ä¸ºå•ä½ï¼›</td></tr><tr><td><code>-h</code></td><td>ä½¿ç”¨äººä»¬ä¹ æƒ¯çš„ KBã€MB æˆ– GB ç­‰å•ä½è‡ªè¡Œæ˜¾ç¤ºå®¹é‡ï¼›</td></tr><tr><td><code>-T</code></td><td>æ˜¾ç¤ºè¯¥åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿåç§°ï¼›</td></tr><tr><td><code>-i</code></td><td>ä¸ç”¨ç¡¬ç›˜å®¹é‡æ˜¾ç¤ºï¼Œè€Œæ˜¯ä»¥å«æœ‰ inode çš„æ•°é‡æ¥æ˜¾ç¤ºã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æ­£å¸¸ä½¿ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# df</span><br><span class="line">Filesystem      1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2         9920624   3823112   5585444  41% /</span><br><span class="line">/dev/hdc3         4956316    141376   4559108   4% /home</span><br><span class="line">/dev/hdc1          101086     11126     84741  12% /boot</span><br><span class="line">tmpfs              371332         0    371332   0% /dev/shm</span><br></pre></td></tr></table></figure><blockquote><p>ç”± df å‘½ä»¤æ˜¾ç¤ºå‡ºçš„å„åˆ—ä¿¡æ¯çš„å«ä¹‰åˆ†åˆ«æ˜¯ï¼š</p><ul><li>Filesystemï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶ç³»ç»Ÿä½äºå“ªä¸ªåˆ†åŒºï¼Œå› æ­¤è¯¥åˆ—æ˜¾ç¤ºçš„æ˜¯è®¾å¤‡åç§°ï¼›</li><li>1K-blocksï¼šæ­¤åˆ—è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿçš„æ€»å¤§å°ï¼Œé»˜è®¤ä»¥ KB ä¸ºå•ä½ï¼›</li><li>Usedï¼šè¡¨ç¤ºç”¨æ‰çš„ç¡¬ç›˜ç©ºé—´å¤§å°ï¼›</li><li>Availableï¼šè¡¨ç¤ºå‰©ä½™çš„ç¡¬ç›˜ç©ºé—´å¤§å°ï¼›</li><li>Use%ï¼šç¡¬ç›˜ç©ºé—´ä½¿ç”¨ç‡ã€‚å¦‚æœä½¿ç”¨ç‡é«˜è¾¾ 90% ä»¥ä¸Šï¼Œå°±éœ€è¦é¢å¤–æ³¨æ„ï¼Œå› ä¸ºå®¹é‡ä¸è¶³ï¼Œä¼šä¸¥é‡å½±å“ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼›</li><li>Mounted onï¼šæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¡¬ç›˜æŒ‚è½½çš„ç›®å½•ä½ç½®ã€‚</li></ul></blockquote></li><li><p>-aT</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# df -aT</span><br><span class="line">Filesystem    Type 1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2     ext3   9920624 3823112   5585444  41% /</span><br><span class="line">proc          proc         0       0         0   -  /proc</span><br><span class="line">sysfs        sysfs         0       0         0   -  /sys</span><br><span class="line">devpts      devpts         0       0         0   -  /dev/pts</span><br><span class="line">/dev/hdc3     ext3   4956316  141376   4559108   4% /home</span><br><span class="line">/dev/hdc1     ext3    101086   11126     84741  12% /boot</span><br><span class="line">tmpfs        tmpfs    371332       0    371332   0% /dev/shm</span><br><span class="line">none   binfmt_misc         0       0         0   -  /proc/sys/fs/binfmt_misc</span><br><span class="line">sunrpc  rpc_pipefs         0       0         0   -  /var/lib/nfs/rpc_pipefs</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œä½¿ç”¨ -a é€‰é¡¹ï¼Œä¼šå°†å¾ˆå¤šç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿæ˜¾ç¤ºå‡ºæ¥ï¼Œè¿™äº›æ–‡ä»¶ç³»ç»ŸåŒ…å«çš„å¤§å¤šæ˜¯ç³»ç»Ÿæ•°æ®ï¼Œå­˜åœ¨äºå†…å­˜ä¸­ï¼Œä¸ä¼šå ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œå› æ­¤ä½ ä¼šçœ‹åˆ°ï¼Œå®ƒä»¬æ‰€å æ®çš„ç¡¬ç›˜æ€»å®¹é‡ä¸º 0ã€‚</p></li></ol></li></ul><p>â€‹</p><h4 id="8-9-2-du-ç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶æ‰€å ç£ç›˜ç©ºé—´å¤§å°">8.9.2 du ç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶æ‰€å ç£ç›˜ç©ºé—´å¤§å°</h4><p>du æ˜¯ç»Ÿè®¡ç›®å½•æˆ–æ–‡ä»¶æ‰€å ç£ç›˜ç©ºé—´å¤§å°çš„å‘½ä»¤ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨&quot;ls -r&quot;å‘½ä»¤æ˜¯å¯ä»¥çœ‹åˆ°æ–‡ä»¶çš„å¤§å°çš„ã€‚ä½†æ˜¯å¤§å®¶ä¼šå‘ç°ï¼Œåœ¨ä½¿ç”¨&quot;ls -r&quot;å‘½ä»¤æŸ»çœ‹ç›®å½•å¤§å°æ—¶ï¼Œç›®å½•çš„å¤§å°å¤šæ•°æ˜¯ 4KBï¼Œè¿™æ˜¯å› ä¸ºç›®å½•ä¸‹çš„å­ç›®å½•åå’Œå­æ–‡ä»¶åæ˜¯ä¿å­˜åˆ°çˆ¶ç›®å½•çš„ blockï¼ˆé»˜è®¤å¤§å°ä¸º 4KBï¼‰ä¸­çš„ï¼Œå¦‚æœçˆ¶ç›®å½•ä¸‹çš„å­ç›®å½•å’Œå­æ–‡ä»¶å¹¶ä¸å¤šï¼Œä¸€ä¸ª block å°±èƒ½æ”¾ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªçˆ¶ç›®å½•å°±åªå ç”¨äº†ä¸€ä¸ª block å¤§å°ã€‚å¤§å®¶å¯ä»¥å°†å…¶æƒ³è±¡æˆå›¾ä¹¦é¦†çš„ä¹¦ç±ç›®å½•å’Œå®é™…ä¹¦ç±ã€‚å¦‚æœæˆ‘ä»¬ç”¨&quot;ls-l&quot;å‘½ä»¤æŸ»çœ‹ï¼Œåˆ™åªèƒ½çœ‹åˆ°è¿™äº›ä¹¦ç±å ç”¨äº† 1 é¡µçº¸çš„ä¹¦ç±ç›®å½•ï¼Œä½†æ˜¯å®é™…ä¹¦ç±åˆ°åº•æœ‰å¤šå°‘æ˜¯çœ‹ä¸åˆ°çš„ï¼Œå“ªæ€•å®ƒå †æ»¡äº†å‡ ä¸ªæˆ¿é—´ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬åœ¨ç»Ÿè®¡ç›®å½•æ—¶ï¼Œä¸æ˜¯æƒ³çœ‹çˆ¶ç›®å½•ä¸‹çš„å­ç›®å½•åå’Œå­æ–‡ä»¶ååˆ°åº•å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œè€Œæ˜¯æƒ³çœ‹çˆ¶ç›®å½•ä¸‹çš„å­ç›®å½•å’Œå­æ–‡ä»¶çš„æ€»ç£ç›˜å ç”¨é‡å¤§å°ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ du å‘½ä»¤æ‰èƒ½ç»Ÿè®¡ç›®å½•çš„çœŸæ­£ç£ç›˜å ç”¨é‡å¤§å°ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# du [options] [ç›®å½•æˆ–æ–‡ä»¶å]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åªç»Ÿè®¡ç£ç›˜å ç”¨é‡æ€»çš„å¤§å°ï¼ŒåŒæ—¶ä½¿ç”¨ä¹ æƒ¯å•ä½æ˜¾ç¤º</span></span><br><span class="line">[root@localhost ~]# du -sh</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-a</code></td><td>æ˜¾ç¤ºæ¯ä¸ªå­æ–‡ä»¶çš„ç£ç›˜å ç”¨é‡ã€‚é»˜è®¤åªç»Ÿè®¡å­ç›®å½•çš„ç£ç›˜å ç”¨é‡</td></tr><tr><td><code>-h</code></td><td>ä½¿ç”¨ä¹ æƒ¯å•ä½æ˜¾ç¤ºç£ç›˜å ç”¨é‡ï¼Œå¦‚ KBã€MB æˆ– GB ç­‰</td></tr><tr><td><code>-s</code></td><td>ç»Ÿè®¡æ€»ç£ç›˜å ç”¨é‡ï¼Œè€Œä¸åˆ—å‡ºå­ç›®å½•å’Œå­æ–‡ä»¶çš„ç£ç›˜å ç”¨é‡</td></tr></tbody></table></li><li><p><strong>duå‘½ä»¤å’Œdfå‘½ä»¤çš„åŒºåˆ«</strong></p><p>æœ‰æ—¶æˆ‘ä»¬ä¼šå‘ç°ï¼Œä½¿ç”¨ du å‘½ä»¤å’Œ df å‘½ä»¤å»ç»Ÿè®¡åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µæ—¶ï¼Œå¾—åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ã€‚é‚£æ˜¯å› ä¸ºdfå‘½ä»¤æ˜¯ä»æ–‡ä»¶ç³»ç»Ÿçš„è§’åº¦è€ƒè™‘çš„ï¼Œé€šè¿‡æ–‡ä»¶ç³»ç»Ÿä¸­æœªåˆ†é…çš„ç©ºé—´æ¥ç¡®å®šæ–‡ä»¶ç³»ç»Ÿä¸­å·²ç»åˆ†é…çš„ç©ºé—´å¤§å°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½¿ç”¨ df å‘½ä»¤ç»Ÿè®¡åˆ†åŒºæ—¶ï¼Œä¸ä»…è¦è€ƒè™‘æ–‡ä»¶å ç”¨çš„ç©ºé—´ï¼Œè¿˜è¦ç»Ÿè®¡è¢«å‘½ä»¤æˆ–ç¨‹åºå ç”¨çš„ç©ºé—´ï¼ˆæœ€å¸¸è§çš„å°±æ˜¯æ–‡ä»¶å·²ç»åˆ é™¤ï¼Œä½†æ˜¯ç¨‹åºå¹¶æ²¡æœ‰é‡Šæ”¾ç©ºé—´ï¼‰ã€‚</p><p>è€Œ du å‘½ä»¤æ˜¯é¢å‘æ–‡ä»¶çš„ï¼Œåªä¼šè®¡ç®—æ–‡ä»¶æˆ–ç›®å½•å ç”¨çš„ç£ç›˜ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œdf å‘½ä»¤ç»Ÿè®¡çš„åˆ†åŒºæ›´å‡†ç¡®ï¼Œæ˜¯çœŸæ­£çš„ç©ºé—²ç©ºé—´ã€‚</p></li></ul><h4 id="8-9-3-lsblk-æŸ¥çœ‹è®¾å¤‡æŒ‚è½½æƒ…å†µ">8.9.3 lsblk æŸ¥çœ‹è®¾å¤‡æŒ‚è½½æƒ…å†µ</h4><p>åœ¨linuxä¸­è§‚å¯Ÿç£ç›˜åˆ†åŒºçš„çŠ¶æ€å¯ä»¥ä½¿ç”¨å‘½ä»¤lsblk ,å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/image-20230118000226278.png" alt="image-20230118000226278"></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# lsblk [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-d</code></td><td>ä»…åˆ—å‡ºç£ç›˜æœ¬èº«ï¼Œå¹¶ä¸ä¼šåˆ—å‡ºè¯¥ç£ç›˜çš„åˆ†åŒºæ•°æ®</td></tr><tr><td><code>-f</code></td><td>åŒæ—¶åˆ—å‡ºè¯¥ç£ç›˜å†…çš„æ–‡ä»¶ç³»ç»Ÿåç§°</td></tr><tr><td><code>-i</code></td><td>ä½¿ç”¨ ASCIIçš„çº¿æ®µè¾“å‡ºï¼Œä¸è¦ä½¿ç”¨å¤æ‚çš„ç¼–ç ï¼ˆå†æŸäº›ç¯å¢ƒä¸‹å¾ˆæœ‰ç”¨ï¼‰</td></tr><tr><td><code>-m</code></td><td>åŒæ—¶è¾“å‡ºè¯¥è£…ç½®åœ¨ /dev åº•ä¸‹çš„æƒé™æ•°æ®ï¼ˆrwx çš„æ•°æ®ï¼‰</td></tr><tr><td><code>-p</code></td><td>åˆ—å‡ºè¯¥è£…ç½®çš„å®Œæ•´æ–‡ä»¶å!è€Œä¸æ˜¯ä»…åˆ—å‡ºæœ€åçš„åå­—è€Œå·²ã€‚</td></tr><tr><td><code>-t</code></td><td>åˆ—å‡ºè¯¥ç£ç›˜è£…ç½®çš„è¯¦ç»†æ•°æ®ï¼ŒåŒ…æ‹¬ç£ç›˜é˜Ÿåˆ—æœºåˆ¶ã€é¢„è¯»å†™çš„æ•°æ®é‡å¤§å°ç­‰</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>-på‚æ•°ä¹‹åå°±æ˜¾ç¤ºå‡ºäº†å®Œæ•´çš„æ–‡ä»¶å</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# lsblk -p</span><br><span class="line">NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">/dev/sda      8:0    0   20G  0 disk </span><br><span class="line">â”œâ”€/dev/sda1   8:1    0  300M  0 part /boot</span><br><span class="line">â”œâ”€/dev/sda2   8:2    0    1G  0 part [SWAP]</span><br><span class="line">â””â”€/dev/sda3   8:3    0 18.7G  0 part /</span><br><span class="line">/dev/sr0     11:0    1 1024M  0 rom  </span><br></pre></td></tr></table></figure></li><li><p>-f å‚æ•°ä¹‹åå°±æ˜¾ç¤ºå‡ºäº†uuid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# lsblk -f</span><br><span class="line">NAME   FSTYPE LABEL UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                      </span><br><span class="line">â”œâ”€sda1 xfs          f8e94199-eac8-45d5-9cff-80f7696d8fe3 /boot</span><br><span class="line">â”œâ”€sda2 swap         9aaf14d0-ed51-4220-b5fd-032b7ae14e36 [SWAP]</span><br><span class="line">â””â”€sda3 xfs          0f37330d-bb9f-43b4-a71f-463043b5c786 /</span><br><span class="line">sr0   </span><br><span class="line">[root@loaclhost ~]#</span><br><span class="line">[root@loaclhost ~]# blkid</span><br><span class="line">/dev/sda1: UUID=&quot;f8e94199-eac8-45d5-9cff-80f7696d8fe3&quot; TYPE=&quot;xfs&quot; </span><br><span class="line">/dev/sda2: UUID=&quot;9aaf14d0-ed51-4220-b5fd-032b7ae14e36&quot; TYPE=&quot;swap&quot; </span><br><span class="line">/dev/sda3: UUID=&quot;0f37330d-bb9f-43b4-a71f-463043b5c786&quot; TYPE=&quot;xfs&quot;</span><br></pre></td></tr></table></figure><p>â‘  ä¸Šé¢æ¼”ç¤ºäº†ä½¿ç”¨-få‚æ•°æ˜¾ç¤ºåˆ†åŒºçš„uuid,å…¶å®ç›´æ¥ä½¿ç”¨blkidä¹Ÿæ˜¯å¯ä»¥æ˜¾ç¤ºuuidçš„ã€‚</p><p>â‘¡ ä½¿ç”¨partedå‘½ä»¤å¯ä»¥æ˜¾ç¤ºåˆ†åŒºçš„æ ¼å¼ï¼ˆPartition Tableï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# parted /dev/sda print</span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk /dev/sda: 21.5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: msdos</span><br><span class="line">Disk Flags: </span><br><span class="line"></span><br><span class="line">Number  Start   End     Size    Type     File system     æ ‡å¿—</span><br><span class="line"> 1      1049kB  316MB   315MB   primary  xfs             å¯åŠ¨</span><br><span class="line"> 2      316MB   1389MB  1074MB  primary  linux-swap(v1)</span><br><span class="line"> 3      1389MB  21.5GB  20.1GB  primary  xfs</span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="8-9-4-mount-umount-æŒ‚è½½-å¸è½½">8.9.4 mount/umount æŒ‚è½½/å¸è½½</h4><ul><li><p>mount æŒ‚è½½</p><p>æ‰€æœ‰çš„ç¡¬ä»¶è®¾å¤‡å¿…é¡»æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œåªä¸è¿‡ï¼Œæœ‰äº›ç¡¬ä»¶è®¾å¤‡ï¼ˆæ¯”å¦‚ç¡¬ç›˜åˆ†åŒºï¼‰åœ¨æ¯æ¬¡ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æŒ‚è½½ï¼Œè€Œæœ‰äº›ï¼ˆæ¯”å¦‚ U ç›˜ã€å…‰ç›˜ï¼‰åˆ™éœ€è¦æ‰‹åŠ¨è¿›è¡ŒæŒ‚è½½ã€‚</p><p>æŒ‚è½½æŒ‡çš„æ˜¯å°†ç¡¬ä»¶è®¾å¤‡çš„æ–‡ä»¶ç³»ç»Ÿå’Œ Linux ç³»ç»Ÿä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼Œé€šè¿‡æŒ‡å®šç›®å½•ï¼ˆä½œä¸ºæŒ‚è½½ç‚¹ï¼‰è¿›è¡Œå…³è”ã€‚è€Œè¦å°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ° Linux ç³»ç»Ÿä¸Šï¼Œå°±éœ€è¦ä½¿ç”¨ mount æŒ‚è½½å‘½ä»¤ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mount [-t ç³»ç»Ÿç±»å‹] [-L å·æ ‡å] [-o ç‰¹æ®Šé€‰é¡¹] [-n] ] è®¾å¤‡æ–‡ä»¶å æŒ‚è½½ç‚¹</span><br></pre></td></tr></table></figure></li><li><p>é€‰é¡¹</p><ul><li><p>-t ç³»ç»Ÿç±»å‹ï¼šæŒ‡å®šæ¬²æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚Linux å¸¸è§çš„æ”¯æŒç±»å‹æœ‰ EXT2ã€EXT3ã€EXT4ã€iso9660ï¼ˆå…‰ç›˜æ ¼å¼ï¼‰ã€vfatã€reiserfs ç­‰ã€‚å¦‚æœä¸æŒ‡å®šå…·ä½“ç±»å‹ï¼ŒæŒ‚è½½æ—¶ Linux ä¼šè‡ªåŠ¨æ£€æµ‹ï¼›</p></li><li><p>-L å·æ ‡åï¼šé™¤äº†ä½¿ç”¨è®¾å¤‡æ–‡ä»¶åï¼ˆä¾‹å¦‚ /dev/hdc6ï¼‰ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨æ–‡ä»¶ç³»ç»Ÿçš„å·æ ‡åç§°è¿›è¡ŒæŒ‚è½½ï¼›</p></li><li><p>-nï¼šåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šå°†å®é™…æŒ‚è½½çš„æƒ…å†µå®æ—¶å†™å…¥ /etc/mtab æ–‡ä»¶ä¸­ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹ï¼ˆä¾‹å¦‚å•äººç»´æŠ¤æ¨¡å¼ï¼‰ï¼Œä¸ºäº†é¿å…å‡ºç°é—®é¢˜ï¼Œä¼šåˆ»æ„ä¸å†™å…¥ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼›</p></li><li><p>-o ç‰¹æ®Šé€‰é¡¹ï¼šå¯ä»¥æŒ‡å®šæŒ‚è½½çš„é¢å¤–é€‰é¡¹ï¼Œæ¯”å¦‚è¯»å†™æƒé™ã€åŒæ­¥/å¼‚æ­¥ç­‰ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼ˆdefaultsï¼‰ã€‚å…·ä½“çš„ç‰¹æ®Šé€‰é¡¹å‚è§è¡¨ 1ï¼ˆæŒ‚è½½å‚æ•°ï¼‰ã€‚</p><table><thead><tr><th>é€‰é¡¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>rw/ro</td><td>æ˜¯å¦å¯¹æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿæ‹¥æœ‰è¯»å†™æƒé™ï¼Œrw ä¸ºé»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ‹¥æœ‰è¯»å†™æƒé™ï¼›ro è¡¨ç¤ºåªè¯»æƒé™ã€‚</td></tr><tr><td>async/sync</td><td>æ­¤æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦ä½¿ç”¨åŒæ­¥å†™å…¥ï¼ˆsyncï¼‰æˆ–å¼‚æ­¥ï¼ˆasyncï¼‰çš„å†…å­˜æœºåˆ¶ï¼Œé»˜è®¤ä¸ºå¼‚æ­¥ asyncã€‚</td></tr><tr><td>dev/nodev</td><td>æ˜¯å¦å…è®¸ä»è¯¥æ–‡ä»¶ç³»ç»Ÿçš„ block æ–‡ä»¶ä¸­æå–æ•°æ®ï¼Œä¸ºäº†ä¿è¯æ•°æ®å®‰è£…ï¼Œé»˜è®¤æ˜¯ nodevã€‚</td></tr><tr><td>auto/noauto</td><td>æ˜¯å¦å…è®¸æ­¤æ–‡ä»¶ç³»ç»Ÿè¢«ä»¥ mount -a çš„æ–¹å¼è¿›è¡Œè‡ªåŠ¨æŒ‚è½½ï¼Œé»˜è®¤æ˜¯ autoã€‚</td></tr><tr><td>suid/nosuid</td><td>è®¾å®šæ–‡ä»¶ç³»ç»Ÿæ˜¯å¦æ‹¥æœ‰ SetUID å’Œ SetGID æƒé™ï¼Œé»˜è®¤æ˜¯æ‹¥æœ‰ã€‚</td></tr><tr><td>exec/noexec</td><td>è®¾å®šåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ˜¯å¦å…è®¸æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯å…è®¸ã€‚</td></tr><tr><td>user/nouser</td><td>è®¾å®šæ­¤æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦å…è®¸è®©æ™®é€šç”¨æˆ·ä½¿ç”¨ mount æ‰§è¡Œå®ç°æŒ‚è½½ï¼Œé»˜è®¤æ˜¯ä¸å…è®¸ï¼ˆnouserï¼‰ï¼Œä»…æœ‰ root å¯ä»¥ã€‚</td></tr><tr><td>defaults</td><td>å®šä¹‰é»˜è®¤å€¼ï¼Œç›¸å½“äº rwã€suidã€devã€execã€autoã€nouserã€async è¿™ 7 ä¸ªé€‰é¡¹ã€‚</td></tr><tr><td>remount</td><td>é‡æ–°æŒ‚è½½å·²æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¸€èˆ¬ç”¨äºæŒ‡å®šä¿®æ”¹ç‰¹æ®Šæƒé™ã€‚</td></tr></tbody></table></li></ul></li><li><p>å®ä¾‹</p><ol><li><p>æŒ‚è½½åˆ†åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /mnt/disk1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å»ºç«‹æŒ‚è½½ç‚¹ç›®å½•</span></span><br><span class="line">[root@localhost ~]# mount /dev/sdb1 /mnt/disk1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‚è½½åˆ†åŒº</span></span><br></pre></td></tr></table></figure></li></ol></li></ul></li><li><p>umount å¸è½½</p><p>umount å‘½ä»¤ç”¨äºå¸è½½å·²ç»æŒ‚è½½çš„ç¡¬ä»¶è®¾å¤‡</p><ul><li><p>è¯­æ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# umount è®¾å¤‡æ–‡ä»¶åæˆ–æŒ‚è½½ç‚¹</span><br></pre></td></tr></table></figure></li><li><p>å®ä¾‹</p><p>å¸è½½æ—¶æœ‰å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /mnt/cdrom/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥å…‰ç›˜æŒ‚è½½ç‚¹</span></span><br><span class="line">[root@localhost cdrom]\# umount /mnt/cdrom/</span><br><span class="line">umount: /mnt/cdrom: device is busy.</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŠ¥é”™ï¼Œè®¾å¤‡æ­£å¿™</span></span><br></pre></td></tr></table></figure><p>è¿™ç§æŠ¥é”™æ˜¯å› ä¸ºæˆ‘ä»¬å·²ç»è¿›å…¥äº†æŒ‚è½½ç‚¹ï¼Œå› æ­¤ï¼Œå¦‚æœè¦å¸è½½æŸç¡¬ä»¶è®¾å¤‡ï¼Œåœ¨æ‰§è¡Œ umount å‘½ä»¤ä¹‹å‰ï¼Œç”¨æˆ·é¡»é€€å‡ºæŒ‚è½½ç›®å½•ã€‚</p><p>å¸è½½ç¡¬ä»¶è®¾å¤‡æˆåŠŸä¸å¦ï¼Œé™¤äº†æ‰§è¡Œ umount å‘½ä»¤ä¸æŠ¥é”™ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>df</code> å‘½ä»¤æˆ– <code>mount -l</code> æ¥æŸ¥çœ‹ç›®æ ‡è®¾å¤‡æ˜¯å¦è¿˜æŒ‚è½½åœ¨ç³»ç»Ÿä¸­ã€‚</p></li></ul></li></ul><h4 id="8-9-5-æŒ‚è½½å…‰ç›˜">8.9.5 æŒ‚è½½å…‰ç›˜</h4><p>CentOS6.xä»¥åçš„ç³»ç»Ÿï¼Œå…‰ç›˜è®¾å¤‡æ–‡ä»¶åæ˜¯/dev/sr0ã€‚ä¸è®ºå“ªä¸ªç³»ç»Ÿéƒ½æœ‰è½¯è¿æ¥/dev/cdromï¼Œä¸å¯ä»¥ä½œä¸ºå…‰ç›˜çš„è®¾å¤‡æ–‡ä»¶åã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# ll /dev/cdrom</span><br><span class="line">lrwxrwxrwx. 1 root root 3 1æœˆ  18 08:43 /dev/cdrom -&gt; sr0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">dev/cdromå°±æ˜¯/dev/sr0çš„è½¯é“¾æ¥</span></span><br></pre></td></tr></table></figure><ul><li><p>æŒ‚è½½å…‰ç›˜çš„æ­¥éª¤</p><p>Linuxç³»ç»Ÿä¸‹åœ¨æ ¹ç›®å½•ä¸­é»˜è®¤ç»™æˆ‘ä»¬æä¾›äº†ä¸‰ä¸ªç©ºæ–‡ä»¶å¤¹ï¼š<br>mediaï¼ˆæ¨èæŒ‚å…‰ç›˜ï¼‰<br>miscï¼ˆæ¨èæŒ‚ç½‘ç»œå­˜å‚¨ç›˜ï¼‰<br>mntï¼ˆæ¨èæŒ‚Uç›˜æˆ–è€…ç§»åŠ¨ç¡¬ç›˜ï¼‰</p><ol><li><p>åˆ›å»ºä¸€ä¸ªç©ºç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li><p>æ‰¾åˆ°å…‰ç›˜çš„è®¾å¤‡æ–‡ä»¶åç§°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# ll /dev/cdrom</span><br><span class="line">lrwxrwxrwx. 1 root root 3 1æœˆ  18 08:43 /dev/cdrom -&gt; sr0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…‰ç›˜è®¾å¤‡æ–‡ä»¶åæ˜¯/dev/sr0</span></span><br></pre></td></tr></table></figure></li><li><p>æŒ‚è½½å…‰ç›˜</p><p>å¦‚æœæ˜¯ç”¨è™šæ‹Ÿæœºæ¨¡æ‹Ÿçš„ç³»ç»Ÿï¼Œè¦å…ˆæ‰§è¡Œæ’å…¥å…‰ç›˜çš„æ­¥éª¤ï¼Œå¦åˆ™åœ¨è¿™é‡Œä¼šæŠ¥é”™<code>mount: no medium found on /dev/sr0</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mount -t iso9660  /dev/sr0 /mnt/cdrom/</span><br><span class="line">mount: /dev/sr0 å†™ä¿æŠ¤ï¼Œå°†ä»¥åªè¯»æ–¹å¼æŒ‚è½½</span><br><span class="line">mount: /dev/sr0 å·²ç»æŒ‚è½½æˆ– /mnt/cdrom å¿™</span><br><span class="line">       /dev/sr0 å·²ç»æŒ‚è½½åˆ° /mnt/cdrom ä¸Š</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-tæ–‡ä»¶ç³»ç»Ÿï¼šåŠ å…¥æ–‡ä»¶ç³»ç»Ÿç±»å‹æ¥æŒ‡å®šæŒ‚è½½çš„ç±»å‹ï¼Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥ext3ã€ext4ã€iso9660ç­‰æ–‡ä»¶ç³»ç»Ÿã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‚è½½å…‰ç›˜å°±ç”¨iso9660ç±»å‹çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¹Ÿå¯ä»¥ç›´æ¥çœç•¥-t iso9660ï¼Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‚è½½å…‰ç›˜æ—¶å€™ç³»ç»Ÿè‡ªåŠ¨æ·»åŠ ã€‚</span></span><br></pre></td></tr></table></figure></li><li><p>æœ€åæ‰§è¡Œmountå‘½ä»¤åœ¨ç¡®è®¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# mount</span><br><span class="line">...çœç•¥éƒ¨åˆ†å†…å®¹</span><br><span class="line">/dev/sda1 on /boot type xfs (rw,relatime,seclabel,attr2,inode64,noquota)</span><br><span class="line">tmpfs on /run/user/0 type tmpfs (rw,nosuid,nodev,relatime,seclabel,size=99568k,mode=700)</span><br><span class="line">/dev/sr0 on /mnt/cdrom type iso9660 (ro,relatime)       &lt;-- å…‰ç›˜å·²ç»æŒ‚è½½</span><br></pre></td></tr></table></figure></li></ol></li><li><p>è®¿é—®å…‰ç›˜æ•°æ®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# ls /mnt/cdrom</span><br><span class="line">CentOS_BuildTag  EFI  EULA  GPL  images  isolinux  LiveOS  Packages  repodata  RPM-GPG-KEY-CentOS-7  RPM-GPG-KEY-CentOS-Testing-7  TRANS.TBL</span><br></pre></td></tr></table></figure></li><li><p>å¸è½½æŒ‚è½½ç‚¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å› ä¸ºè®¾å¤‡æ–‡ä»¶åå’ŒæŒ‚è½½ç‚¹å·²ç»è¿æ¥åˆ°ä¸€èµ·ï¼Œå¸è½½å“ªä¸€ä¸ªéƒ½å¯ä»¥</span></span><br><span class="line">[root@localhost ~]# umount /dev/sr0</span><br><span class="line">[root@localhost ~]# umount /mnt/cdrom</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æœ‰æ—¶å€™ä¼šå‡ºç°ä¸‹è¿°æŠ¥é”™ï¼šè®¾å¤‡æ­£å¿™ï¼Œä»¥ä¸ºæ­¤æ—¶ä½ç½®æ­£åœ¨å…‰ç›˜é‡Œè¾¹cdromç›®å½•ä¸­ï¼Œè¦é€€å‡ºåœ¨è¿›è¡Œå¸è½½ã€‚</span></span><br><span class="line">[root@localhost cdrom]# umount /dev/sr0</span><br><span class="line">umount:/mnt/cdrom: device is busy.</span><br><span class="line">(In some cases useful info about processes that use the device is found by 1sof(8) or fuser(1))</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ³¨æ„ï¼šå¸è½½çš„æ—¶å€™éœ€è¦é€€å‡ºå…‰ç›˜ç›®å½•ï¼Œæ‰èƒ½æ­£å¸¸å¸è½½ã€‚</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="8-9-6-æŒ‚è½½uç›˜">8.9.6 æŒ‚è½½uç›˜</h4><h4 id="8-9-7-etc-fatab-é…ç½®-å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ä»¶è®¾å¤‡">8.9.7 /etc/fatab é…ç½®-å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ä»¶è®¾å¤‡</h4><p>å¦‚æœæˆ‘ä»¬æƒ³å®ç°å¼€æœºè‡ªåŠ¨æŒ‚è½½æŸä¸ªç¡¬ä»¶è®¾å¤‡ï¼Œéœ€è¦ä½¿ç”¨ root èº«ä»½åœ¨ /etc/fstab æ–‡ä»¶ä¸­æ·»åŠ æ­¤è®¾å¤‡å³å¯ã€‚</p><ul><li><p><strong>æŸ¥çœ‹ <code>/etc/fatab</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vi /etc/fstab</span><br><span class="line">UUID=c2ca6f57-b15c-43ea-bca0-f239083d8bd2 / ext4 defaults 1 1</span><br><span class="line">UUID=0b23d315-33a7-48a4-bd37-9248e5c44345 /boot ext4 defaults 1 2</span><br><span class="line">UUID=4021be19-2751-4dd2-98cc-383368c39edb swap swap defaults 0 0</span><br><span class="line">\#åªæœ‰è¿™ä¸‰ä¸ªæ˜¯çœŸæ­£çš„ç¡¬ç›˜åˆ†åŒºï¼Œä¸‹é¢çš„éƒ½æ˜¯è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿæˆ–äº¤æ¢åˆ†åŒº</span><br><span class="line">tmpfs /dev/shm tmpfs defaults 0 0</span><br><span class="line">devpts /dev/pts devpts gid=5, mode=620 0 0</span><br><span class="line">sysfs /sys sysfe defaults 0 0</span><br><span class="line">proc /proc proc defaults 0 0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å­—æ®µçš„å«ä¹‰:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">UUID/æ–‡ä»¶å æŒ‚è½½ç‚¹ æ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹ å„ç§æŒ‚è½½å‚æ•° æŒ‡å®šåˆ†åŒºæ˜¯å¦è¢«dumpå¤‡ä»½ æŒ‡å®šåˆ†åŒºæ˜¯å¦è¢«fsckæ£€æµ‹</span></span><br></pre></td></tr></table></figure><p>tmpfsã€devptsã€sysfs å’Œ proc è¿™å‡ è¡Œï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ä¸å…±äº«å†…å­˜ã€ç»ˆç«¯çª—å£ã€è®¾å¤‡ä¿¡æ¯å’Œå†…æ ¸å‚æ•°ç›¸å…³è”çš„ç‰¹æ®Šè®¾å¤‡ã€‚</p><ul><li><p>UUID</p><p>UUID å³é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ˜¯ä¸€ä¸ª 128 ä½æ¯”ç‰¹çš„æ•°å­—ï¼Œå¯ä»¥ç†è§£ä¸ºå°±æ˜¯ç¡¬ç›˜çš„ IDï¼ŒUUID ç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†ã€‚</p><p>â‘  ç”¨ dumpe2fs å‘½ä»¤ï¼ˆåç»­ä¼šè®²ï¼‰å°±å¯ä»¥æŸ¥çœ‹åˆ°æ¯ä¸ªåˆ†åŒºçš„ UUID:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# dumpe2fs /dev/sdb5</span><br><span class="line">dumpe2fs 1.41.12 (17-May-2010)</span><br><span class="line">Filesystem volume name: test_label</span><br><span class="line">Last mounted on: &lt;not available&gt;</span><br><span class="line">Filesystem UUID: 63f238f0-a715-4821-8ed1-b3d18756a3ef</span><br><span class="line">\#UUID</span><br><span class="line">...çœç•¥éƒ¨åˆ†è¾“å‡º..</span><br></pre></td></tr></table></figure><p>â‘¡ ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹æ¯ä¸ªç¡¬ç›˜UUIDçš„é“¾æ¥æ–‡ä»¶åæ¥ç¡®å®šUUID:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ls -l /dev/disk/by-uuid/</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">Irwxrwxrwx. 1 root root 10 4 æœˆ 11 00:17 0b23d315-33a7-48a4-bd37-9248e5c44345</span><br><span class="line"><span class="meta prompt_">-&gt; </span><span class="language-bash">../../sdal</span></span><br><span class="line">Irwxrwxrwx. 1 root root 10 4 æœˆ 11 00:17 4021 be19-2751 -4dd2-98cc-383368c39edb</span><br><span class="line"><span class="meta prompt_">-&gt; </span><span class="language-bash">../../sda2</span></span><br><span class="line">Irwxrwxrwx. 1 root root 10 4 æœˆ 11 00:17 63f238f0-a715-4821-8ed1-b3d18756a3ef</span><br><span class="line"><span class="meta prompt_">-&gt; </span><span class="language-bash">../../sdb5</span></span><br><span class="line">Irwxrwxrwx. 1 root root 10 4æœˆ 11 00:17 6858b440-ad9e-45cb-b411 -963c5419e0e8</span><br><span class="line"><span class="meta prompt_">-&gt; </span><span class="language-bash">../../sdb6</span></span><br><span class="line">Irwxrwxrwx. 1 root root 10 4æœˆ 11 00:17 c2ca6f57-b15c-43ea-bca0-f239083d8bd2</span><br><span class="line"><span class="meta prompt_">-&gt; </span><span class="language-bash">../../sda3</span></span><br></pre></td></tr></table></figure></li><li><p>æŒ‚è½½ç‚¹</p><p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼ŒæŒ‚è½½ç‚¹ä¸€å®šè¦æ˜¯å·²ç»å»ºç«‹çš„ç©ºç›®å½•ã€‚</p></li><li><p>æ–‡ä»¶ç³»ç»Ÿç±»å‹</p><p>é»˜è®¤æ–‡ä»¶ç³»ç»Ÿæ˜¯ ext4ã€‚</p><table><thead><tr><th>æ–‡ä»¶ç³»ç»Ÿ</th><th>æ è¿°</th></tr></thead><tbody><tr><td>Ext</td><td>Linux ä¸­æœ€æ—©çš„æ–‡ä»¶ç³»ç»Ÿï¼Œç”±äºåœ¨æ€§èƒ½å’Œå…¼å®¹æ€§ä¸Šå…·æœ‰å¾ˆå¤šç¼ºé™·ï¼Œç°åœ¨å·²ç»å¾ˆå°‘ä½¿ç”¨,æ˜¯ä¸º Linux æ ¸å¿ƒæ‰€åšçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œæœ€å¤§å¯æ”¯æŒ 2GB çš„æ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>Ext2</td><td>æ˜¯ Ext æ–‡ä»¶ç³»ç»Ÿçš„å‡çº§ç‰ˆæœ¬ï¼ŒRed Hat Linux 7.2 ç‰ˆæœ¬ä»¥å‰çš„ç³»ç»Ÿé»˜è®¤éƒ½æ˜¯ Ext2 æ–‡ä»¶ç³»ç»Ÿã€‚äº 1993 å¹´å‘å¸ƒï¼Œæ”¯æŒæœ€å¤§ 16TB çš„åˆ†åŒºå’Œæœ€å¤§ 2TB çš„æ–‡ä»¶ï¼ˆ1TB=1024GB=1024x1024KB) Linuxæ­£ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ(å¦‚ext2ã€ext3)ä¸€ä¸ªæ–‡ä»¶ç”±ç›®å½•é¡¹ã€inodeå’Œæ•°æ®å—ç»„æˆã€‚ ç›®å½•é¡¹:åŒ…æ‹¬æ–‡ä»¶åå’ŒinodeèŠ‚ç‚¹å·ã€‚ Inodeï¼šåˆç§°æ–‡ä»¶ç´¢å¼•èŠ‚ç‚¹ï¼Œæ˜¯æ–‡ä»¶åŸºæœ¬ä¿¡æ¯çš„å­˜æ”¾åœ°å’Œæ•°æ®å—æŒ‡é’ˆå­˜æ”¾åœ°ã€‚ æ•°æ®å—ï¼šæ–‡ä»¶çš„å…·ä½“å†…å®¹å­˜æ”¾åœ°ã€‚ å°†ç¡¬ç›˜åˆ†åŒºæ—¶ä¼šåˆ’åˆ†å‡ºç›®å½•å—ã€inode TableåŒºå—å’Œdata blockæ•°æ®åŒºåŸŸã€‚ä¸€ä¸ªæ–‡ä»¶ç”±ä¸€ä¸ªç›®å½•é¡¹ã€inodeå’Œæ•°æ®åŒºåŸŸå—ç»„æˆã€‚ InodeåŒ…å«æ–‡ä»¶çš„å±æ€§(å¦‚è¯»å†™å±æ€§ã€ownerç­‰ï¼Œä»¥åŠæŒ‡å‘æ•°æ®å—çš„æŒ‡é’ˆ)ï¼Œæ•°æ®åŒºåŸŸå—åˆ™æ˜¯æ–‡ä»¶å†…å®¹ã€‚ å½“æŸ¥çœ‹æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä¼šå…ˆä»inode tableä¸­æŸ¥å‡ºæ–‡ä»¶å±æ€§åŠæ•°æ®å­˜æ”¾ç‚¹ï¼Œå†ä»æ•°æ®å—ä¸­è¯»å–æ•°æ®</td></tr><tr><td>Ext3</td><td>æ˜¯ Ext2 æ–‡ä»¶ç³»ç»Ÿçš„å‡çº§ç‰ˆæœ¬ï¼Œæœ€å¤§çš„åŒºåˆ«å°±æ˜¯å¸¦æ—¥å¿—åŠŸèƒ½ï¼Œä»¥ä¾¿åœ¨ç³»ç»Ÿçªç„¶åœæ­¢æ—¶æé«˜æ–‡ä»¶ç³»ç»Ÿçš„å¯é æ€§ã€‚æ”¯æŒæœ€å¤§ 16TB çš„åˆ†åŒºå’Œæœ€å¤§ 2TB çš„æ–‡ä»¶</td></tr><tr><td>Ext4</td><td>æ˜¯ Ext3 æ–‡ä»¶ç³»ç»Ÿçš„å‡çº§ç‰ˆã€‚Ext4 åœ¨æ€§èƒ½ã€ä¼¸ç¼©æ€§å’Œå¯é æ€§æ–¹é¢è¿›è¡Œäº†å¤§é‡æ”¹è¿›ã€‚Ext4 çš„å˜åŒ–å¯ä»¥è¯´æ˜¯ç¿»å¤©è¦†åœ°çš„ï¼Œæ¯”å¦‚å‘ä¸‹å…¼å®¹ Ext3ã€æœ€å¤§ 1EB æ–‡ä»¶ç³»ç»Ÿå’Œ 16TB æ–‡ä»¶ã€æ— é™æ•°é‡å­ç›®å½•ã€Extents è¿ç»­æ•°æ®å— æ¦‚å¿µã€å¤šå—åˆ†é…ã€å»¶è¿Ÿåˆ†é…ã€æŒä¹…é¢„åˆ†é…ã€å¿«é€Ÿ FSCKã€æ—¥å¿—æ ¡éªŒã€æ— æ—¥å¿—æ¨¡å¼ã€åœ¨çº¿ç¢ç‰‡æ•´ç†ã€inode å¢å¼ºã€é»˜è®¤å¯ç”¨ barrier ç­‰ã€‚å®ƒæ˜¯ CentOS 6.3 çš„é»˜è®¤æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>xfs</td><td>è¢«ä¸šç•Œç§°ä¸ºæœ€å…ˆè¿›ã€æœ€å…·æœ‰å¯å‡çº§æ€§çš„æ–‡ä»¶ç³»ç»ŸæŠ€æœ¯ï¼Œç”± SGI å…¬å¸è®¾è®¡ï¼Œç›®å‰æœ€æ–°çš„ CentOS 7 ç‰ˆæœ¬é»˜è®¤ä½¿ç”¨çš„å°±æ˜¯æ­¤æ–‡ä»¶ç³»ç»Ÿã€‚</td></tr><tr><td>swap</td><td>swap æ˜¯ Linux ä¸­ç”¨äºäº¤æ¢åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆç±»ä¼¼äº Windows ä¸­çš„è™šæ‹Ÿå†…å­˜)ï¼Œå½“å†…å­˜ä¸å¤Ÿç”¨æ—¶ï¼Œä½¿ç”¨äº¤æ¢åˆ†åŒºæš‚æ—¶æ›¿ä»£å†…å­˜ã€‚ä¸€èˆ¬å¤§å°ä¸ºå†…å­˜çš„ 2 å€ï¼Œä½†æ˜¯ä¸è¦è¶…è¿‡ 2GBã€‚å®ƒæ˜¯ Linux çš„å¿…éœ€åˆ†åŒº</td></tr><tr><td>NFS</td><td>NFS æ˜¯ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNetwork File Systemï¼‰çš„ç¼©å†™ï¼Œæ˜¯ç”¨æ¥å®ç°ä¸åŒä¸»æœºä¹‹é—´æ–‡ä»¶å…±äº«çš„ä¸€ç§ç½‘ç»œæœåŠ¡ï¼Œæœ¬åœ°ä¸»æœºå¯ä»¥é€šè¿‡æŒ‚è½½çš„æ–¹å¼ä½¿ç”¨è¿œç¨‹å…±äº«çš„èµ„æº</td></tr><tr><td>iso9660</td><td>å…‰ç›˜çš„æ ‡å‡†æ–‡ä»¶ç³»ç»Ÿã€‚Linux è¦æƒ³ä½¿ç”¨å…‰ç›˜ï¼Œå¿…é¡»æ”¯æŒ iso9660 æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>fat</td><td>å°±æ˜¯ Windows ä¸‹çš„ fatl6 æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨ Linux ä¸­è¯†åˆ«ä¸º fat</td></tr><tr><td>vfat</td><td>å°±æ˜¯ Windows ä¸‹çš„ fat32 æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨ Linux ä¸­è¯†åˆ«ä¸º vfatã€‚æ”¯æŒæœ€å¤§ 32GB çš„åˆ†åŒºå’Œæœ€å¤§ 4GB çš„æ–‡ä»¶</td></tr><tr><td>NTFS</td><td>å°±æ˜¯ Windows ä¸‹çš„ NTFS æ–‡ä»¶ç³»ç»Ÿï¼Œä¸è¿‡ Linux é»˜è®¤æ˜¯ä¸èƒ½è¯†åˆ« NTFS æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œå¦‚æœéœ€è¦è¯†åˆ«ï¼Œåˆ™éœ€è¦é‡æ–°ç¼–è¯‘å†…æ ¸æ‰èƒ½æ”¯æŒã€‚å®ƒæ¯” fat32 æ–‡ä»¶ç³»ç»Ÿæ›´åŠ å®‰å…¨ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œæ”¯æŒæœ€å¤§ 2TB çš„åˆ†åŒºå’Œæœ€å¤§ 64GB çš„æ–‡ä»¶</td></tr><tr><td>ufs</td><td>Sun å…¬å¸çš„æ“ä½œç³»ç»Ÿ Solaris å’Œ SunOS æ‰€é‡‡ç”¨çš„æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>proc</td><td>Linux ä¸­åŸºäºå†…å­˜çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨æ¥ç®¡ç†å†…å­˜å­˜å‚¨ç›®å½• /proc</td></tr><tr><td>sysfs</td><td>å’Œ proc â€”æ ·ï¼Œä¹Ÿæ˜¯åŸºäºå†…å­˜çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç”¨æ¥ç®¡ç†å†…å­˜å­˜å‚¨ç›®å½• /sysfs</td></tr><tr><td>tmpfs</td><td>ä¹Ÿæ˜¯ä¸€ç§åŸºäºå†…å­˜çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œä¸è¿‡ä¹Ÿå¯ä»¥ä½¿ç”¨ swap äº¤æ¢åˆ†åŒº</td></tr></tbody></table></li><li><p>æŒ‚è½½å‚æ•°</p><p>å‚æ•°å’Œ mount å‘½ä»¤çš„æŒ‚è½½å‚æ•°ä¸€è‡´ã€‚</p></li><li><p>æŒ‡å®šåˆ†åŒºæ˜¯å¦è¢« dump å¤‡ä»½</p><p>0 ä»£è¡¨ä¸å¤‡ä»½ï¼Œ1 ä»£è¡¨å¤‡ä»½ï¼Œ2 ä»£è¡¨ä¸å®šæœŸå¤‡ä»½ã€‚</p></li><li><p>æŒ‡å®šåˆ†åŒºæ˜¯å¦è¢« fsck æ£€æµ‹</p><p>0 ä»£è¡¨ä¸æ£€æµ‹ï¼Œå…¶ä»–æ•°å­—ä»£è¡¨æ£€æµ‹çš„ä¼˜å…ˆçº§ï¼Œ1 çš„ä¼˜å…ˆçº§æ¯” 2 é«˜ã€‚æ‰€ä»¥å…ˆæ£€æµ‹ 1 çš„åˆ†åŒºï¼Œå†æ£€æµ‹ 2 çš„åˆ†åŒºã€‚ä¸€èˆ¬åˆ†åŒºçš„ä¼˜å…ˆçº§æ˜¯ 1ï¼Œå…¶ä»–åˆ†åŒºçš„ä¼˜å…ˆçº§æ˜¯ 2ã€‚</p></li></ul></li></ul><h4 id="8-9-8-fdisk-ç¡¬ç›˜åˆ†åŒº">8.9.8 fdisk ç¡¬ç›˜åˆ†åŒº</h4><p>æˆ‘ä»¬åœ¨å®‰è£…æ“ä½œç³»ç»Ÿçš„è¿‡ç¨‹ä¸­å·²ç»å¯¹ç³»ç»Ÿç¡¬ç›˜è¿›è¡Œäº†åˆ†åŒºï¼Œä½†å¦‚æœæ–°æ·»åŠ äº†ä¸€å—ç¡¬ç›˜ï¼Œæƒ³è¦æ­£å¸¸ä½¿ç”¨å°±éœ€è¦ä½¿ç”¨fdiskåˆ†åŒºã€‚</p><p>åœ¨ Linux ä¸­æœ‰ä¸“é—¨çš„åˆ†åŒºå‘½ä»¤ fdisk å’Œ partedã€‚å…¶ä¸­ fdisk å‘½ä»¤è¾ƒä¸ºå¸¸ç”¨ï¼Œä½†ä¸æ”¯æŒå¤§äº 2TB çš„åˆ†åŒºï¼›å¦‚æœéœ€è¦æ”¯æŒå¤§äº 2TB çš„åˆ†åŒºï¼Œåˆ™éœ€è¦ä½¿ç”¨ parted å‘½ä»¤ï¼Œå½“ç„¶ parted å‘½ä»¤ä¹Ÿèƒ½åˆ†é…è¾ƒå°çš„åˆ†åŒºã€‚</p><p><strong><font style="color:red;">æ³¨æ„ï¼Œåƒä¸‡ä¸è¦åœ¨å½“å‰çš„ç¡¬ç›˜ä¸Šå°è¯•ä½¿ç”¨ fdiskï¼Œè¿™ä¼šå®Œæ•´åˆ é™¤æ•´ä¸ªç³»ç»Ÿï¼Œä¸€å®šè¦å†æ‰¾ä¸€å—ç¡¬ç›˜ï¼Œæˆ–è€…ä½¿ç”¨è™šæ‹Ÿæœºã€‚</font></strong></p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# fdisk [options]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ—å‡ºç³»ç»Ÿåˆ†åŒº</span></span><br><span class="line">[root@localhost ~]# fdisk è®¾å¤‡æ–‡ä»¶å</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç»™ç¡¬ç›˜åˆ†åŒº</span></span><br></pre></td></tr></table></figure></li><li><p>å¸¸ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# fdisk -l</span><br></pre></td></tr></table></figure></li><li><p><strong><code>fdisk -l</code> å‘½ä»¤è¾“å‡º</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# fdisk -l#æŸ¥è¯¢æœ¬æœºå¯ä»¥è¯†åˆ«çš„ç¡¬ç›˜å’Œåˆ†åŒº</span><br><span class="line">Disk /dev/sda:32.2 GB, 32212254720 bytes#ç¡¬ç›˜æ–‡ä»¶åå’Œç¡¬ç›˜å¤§å°</span><br><span class="line">255 heads, 63 sectors/track, 3916 cylinders#å…±255ä¸ªç£å¤´ã€63ä¸ªæ‰‡åŒºå’Œ3916ä¸ªæŸ±é¢</span><br><span class="line">Units = cylinders of 16065 *512 = 8225280 bytes#æ¯ä¸ªæŸ±é¢çš„å¤§å°</span><br><span class="line">Sector size (logical/physical): 512 bytes/512 bytes#æ¯ä¸ªæ‰‡åŒºçš„å¤§å°</span><br><span class="line">I/O size (minimum/optimal): 512 bytes/512 bytes#ç¡¬ç›˜æ–‡ä»¶åå’Œç¡¬ç›˜å¤§å°</span><br><span class="line">Disk identifier: 0x0009e098</span><br><span class="line"></span><br><span class="line">Device Boot Start End Blocks ld System#è®¾å¤‡æ–‡ä»¶åå¯åŠ¨åˆ†åŒº èµ·å§‹æŸ±é¢ ç»ˆæ­¢æŸ±é¢å®¹é‡ ID ç³»ç»Ÿ</span><br><span class="line">/dev/sda1 * 1 26 204800 83 Linux</span><br><span class="line">Partition 1 does not end on cylinder boundary.#åˆ†åŒº1æ²¡æœ‰å æ»¡ç¡¬ç›˜</span><br><span class="line">/dev/sda2 26 281 2048000 82 Linux swap / Solaris</span><br><span class="line">Partition 2 does not end on cylinder boundary#åˆ†åŒº2æ²¡æœ‰å æ»¡ç¡¬ç›˜</span><br><span class="line">/dev/sda3 281 3917 29203456 83 Linux</span><br><span class="line">Disk /dev/sdb: 21.5 GB, 21474836480 bytes#ç¬¬äºŒä¸ªç¡¬ç›˜è¯†åˆ«ï¼Œè¿™ä¸ªç¡¬ç›˜çš„å¤§å°</span><br><span class="line">255 heads, 63 sectors/track, 2610 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes/512 bytes Disk identifier: 0x00000000</span><br></pre></td></tr></table></figure><blockquote><ul><li>Deviceï¼šåˆ†åŒºçš„è®¾å¤‡æ–‡ä»¶åã€‚</li><li>Bootï¼šæ˜¯å¦ä¸ºå¯åŠ¨å¼•å¯¼åˆ†åŒºï¼Œåœ¨è¿™é‡Œ /dev/sda1 ä¸ºå¯åŠ¨å¼•å¯¼åˆ†åŒºã€‚</li><li>Startï¼šèµ·å§‹æŸ±é¢ï¼Œä»£è¡¨åˆ†åŒºä»å“ªé‡Œå¼€å§‹ã€‚</li><li>Endï¼šç»ˆæ­¢æŸ±é¢ï¼Œä»£è¡¨åˆ†åŒºåˆ°å“ªé‡Œç»“æŸã€‚</li><li>Blocksï¼šåˆ†åŒºçš„å¤§å°ï¼Œå•ä½æ˜¯ KBã€‚</li><li>idï¼šåˆ†åŒºå†…æ–‡ä»¶ç³»ç»Ÿçš„ IDã€‚åœ¨ fdisk å‘½ä»¤ä¸­ï¼Œå¯ä»¥ ä½¿ç”¨ â€œiâ€ æŸ¥çœ‹ã€‚</li><li>Systemï¼šåˆ†åŒºå†…å®‰è£…çš„ç³»ç»Ÿæ˜¯ä»€ä¹ˆã€‚</li></ul></blockquote></li><li><p>é€‰é¡¹</p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>-b <size></td><td>æ‰‡åŒºå¤§å°(512ã€1024ã€2048æˆ–4096)</td></tr><tr><td>-c</td><td>å…¼å®¹æ¨¡å¼ï¼šâ€œdosâ€æˆ–â€œnondosâ€(é»˜è®¤)</td></tr><tr><td>-l</td><td>åˆ—å‡ºæŒ‡å®šçš„å¤–å›´è®¾å¤‡çš„åˆ†åŒºè¡¨çŠ¶å†µ</td></tr><tr><td>-h</td><td>æ‰“å°æ­¤å¸®åŠ©æ–‡æœ¬</td></tr><tr><td>-u <size></td><td>æ­é…&quot;-l&quot;å‚æ•°åˆ—è¡¨ï¼Œä¼šç”¨åˆ†åŒºæ•°ç›®å–ä»£æŸ±é¢æ•°ç›®ï¼Œæ¥è¡¨ç¤ºæ¯ä¸ªåˆ†åŒºçš„èµ·å§‹åœ°å€ï¼›<br />æ˜¾ç¤ºå•ä½ï¼šâ€œcylindersâ€(æŸ±é¢)æˆ–â€œsectorsâ€(æ‰‡åŒºï¼Œé»˜è®¤)ï¼›</td></tr><tr><td>-v</td><td>æ‰“å°ç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td>-C <number></td><td>æŒ‡å®šæŸ±é¢æ•°</td></tr><tr><td>-H <number></td><td>æŒ‡å®šç£å¤´æ•°</td></tr><tr><td>-S <number></td><td>æŒ‡å®šæ¯ä¸ªç£é“çš„æ‰‡åŒºæ•°</td></tr></tbody></table></li><li><p><strong>åˆ†åŒºäº¤äº’ç•Œé¢çš„å‘½ä»¤</strong></p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>a</td><td>è®¾ç½®å¯å¼•å¯¼æ ‡è®°</td></tr><tr><td>b</td><td>ç¼–è¾‘ bsd ç£ç›˜æ ‡ç­¾</td></tr><tr><td>c</td><td>è®¾ç½® DOS æ“ä½œç³»ç»Ÿå…¼å®¹æ ‡è®°</td></tr><tr><td>d</td><td>åˆ é™¤ä¸€ä¸ªåˆ†åŒº</td></tr><tr><td>1</td><td>æ˜¾ç¤ºå·²çŸ¥çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚82 ä¸º Linux swap åˆ†åŒºï¼Œ83 ä¸º Linux åˆ†åŒº</td></tr><tr><td>m</td><td>æ˜¾ç¤ºå¸®åŠ©èœå•</td></tr><tr><td>n</td><td>æ–°å»ºåˆ†åŒº</td></tr><tr><td>0</td><td>å»ºç«‹ç©ºç™½ DOS åˆ†åŒºè¡¨</td></tr><tr><td>P</td><td>æ˜¾ç¤ºåˆ†åŒºåˆ—è¡¨</td></tr><tr><td>q</td><td>ä¸ä¿å­˜é€€å‡º</td></tr><tr><td>s</td><td>æ–°å»ºç©ºç™½ SUN ç£ç›˜æ ‡ç­¾</td></tr><tr><td>t</td><td>æ”¹å˜ä¸€ä¸ªåˆ†åŒºçš„ç³»ç»Ÿ ID</td></tr><tr><td>u</td><td>æ”¹å˜æ˜¾ç¤ºè®°å½•å•ä½</td></tr><tr><td>V</td><td>éªŒè¯åˆ†åŒºè¡¨</td></tr><tr><td>w</td><td>ä¿å­˜é€€å‡º</td></tr><tr><td>X</td><td>é™„åŠ åŠŸèƒ½ï¼ˆä»…ä¸“å®¶ï¼‰</td></tr></tbody></table></li></ul><h4 id="8-9-9-parted-åˆ›å»ºåˆ†åŒº">8.9.9 parted åˆ›å»ºåˆ†åŒº</h4><p>è™½ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ fdiskå‘½ä»¤å¯¹ç¡¬ç›˜è¿›è¡Œå¿«é€Ÿçš„åˆ†åŒºï¼Œä½†å¯¹é«˜äº 2TB çš„ç¡¬ç›˜åˆ†åŒºï¼Œæ­¤å‘½ä»¤å´æ— èƒ½ä¸ºåŠ›ï¼Œæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨ parted å‘½ä»¤ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><p>parted å‘½ä»¤æ˜¯å¯ä»¥åœ¨å‘½ä»¤è¡Œç›´æ¥åˆ†åŒºå’Œæ ¼å¼åŒ–çš„ï¼Œä¸è¿‡ parted äº¤äº’æ¨¡å¼æ‰æ˜¯æ›´åŠ å¸¸ç”¨çš„å‘½ä»¤æ–¹å¼ï¼Œè¿›å…¥äº¤äº’æ¨¡å¼çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# parted ç¡¬ç›˜è®¾å¤‡æ–‡ä»¶å</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥äº¤äº’æ¨¡å¼</span></span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong>åˆ†åŒºäº¤äº’ç•Œé¢çš„å‘½ä»¤</strong></p><table><thead><tr><th>partedäº¤äº’å‘½ä»¤</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>check NUMBER</td><td>åšä¸€æ¬¡ç®€å•çš„æ–‡ä»¶ç³»ç»Ÿæ£€æµ‹</td></tr><tr><td>cp [FROM-DEVICE] FROM-NUMBER TO-NUMBER</td><td>å¤åˆ¶æ–‡ä»¶ç³»ç»Ÿåˆ°å¦ä¸€ä¸ªåˆ†åŒº</td></tr><tr><td>help [COMMAND]</td><td>æ˜¾ç¤ºæ‰€æœ‰çš„å‘½ä»¤å¸®åŠ©</td></tr><tr><td>mklabel,mktable LABEL-TYPE</td><td>åˆ›å»ºæ–°çš„ç£ç›˜å·æ ‡ï¼ˆåˆ†åŒºè¡¨ï¼‰</td></tr><tr><td>mkfs NUMBER FS-TYPE</td><td>åœ¨åˆ†åŒºä¸Šå»ºç«‹æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>mkpart PART-TYPE [FS-TYPE] START END</td><td>åˆ›å»ºä¸€ä¸ªåˆ†åŒº</td></tr><tr><td>mkpartfs PART-TYPE FS-TYPE START END</td><td>åˆ›å»ºåˆ†åŒºï¼Œå¹¶å»ºç«‹æ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>move NUMBER START END</td><td>ç§»åŠ¨åˆ†åŒº</td></tr><tr><td>name NUMBER NAME</td><td>ç»™åˆ†åŒºå‘½å</td></tr><tr><td>print [devices|free|list,all|NUMBER]</td><td>æ˜¾ç¤ºåˆ†åŒºè¡¨ã€æ´»åŠ¨è®¾å¤‡ã€ç©ºé—²ç©ºé—´ã€æ‰€æœ‰åˆ†åŒº</td></tr><tr><td>quit</td><td>é€€å‡º</td></tr><tr><td>rescue START END</td><td>ä¿®å¤ä¸¢å¤±çš„åˆ†åŒº</td></tr><tr><td>resize NUMBER START END</td><td>ä¿®æ”¹åˆ†åŒºå¤§å°</td></tr><tr><td>rm NUMBER</td><td>åˆ é™¤åˆ†åŒº</td></tr><tr><td>select DEVICE</td><td>é€‰æ‹©éœ€è¦ç¼–è¾‘çš„è®¾å¤‡</td></tr><tr><td>set NUMBER FLAG STATE</td><td>æ”¹å˜åˆ†åŒºæ ‡è®°</td></tr><tr><td>toggle [NUMBER [FLAG]]</td><td>åˆ‡æ¢åˆ†åŒºè¡¨çš„çŠ¶æ€</td></tr><tr><td>unit UNIT</td><td>è®¾ç½®é»˜è®¤çš„å•ä½</td></tr><tr><td>Version</td><td>æ˜¾ç¤ºç‰ˆæœ¬</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>è¿›å…¥äº¤äº’</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# parted /dev/sdb</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰“ç®—ç»§ç»­åˆ’åˆ†/dev/sdbç¡¬ç›˜</span></span><br><span class="line">GNU Parted 2.1</span><br><span class="line">ä½¿ç”¨/dev/sdb</span><br><span class="line">Welcome to GNU Parted! Type &#x27;help&#x27; to view a list of commands.</span><br><span class="line">(parted)   &lt;--parted çš„ç­‰å¾…è¾“å…¥äº¤äº’å‘½ä»¤çš„ä½ç½®ï¼Œè¾“å…¥ helpï¼Œå¯ä»¥çœ‹åˆ°åœ¨äº¤äº’æ¨¡å¼ä¸‹æ”¯æŒçš„æ‰€æœ‰å‘½ä»¤</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹åˆ†åŒºè¡¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(parted) print</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥<span class="built_in">print</span>æŒ‡ä»¤</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç¡¬ç›˜å‚æ•°ï¼Œæ˜¯è™šæ‹Ÿæœº</span></span><br><span class="line">Disk/dev/sdb: 21.5GB</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç¡¬ç›˜å¤§å°</span></span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰‡åŒºå¤§å°</span></span><br><span class="line">Partition Table: msdos</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºè¡¨ç±»å‹ï¼Œæ˜¯MBRåˆ†åŒºè¡¨</span></span><br><span class="line">Number Start End Size Type File system æ ‡å¿—</span><br><span class="line">1 32.3kB 5379MB 5379MB primary</span><br><span class="line">2 5379MB 21.5GB 16.1GB extended</span><br><span class="line">5 5379MB 7534MB 2155MB logical ext4</span><br><span class="line">6 7534MB 9689MB 2155MB logical ext4</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">çœ‹åˆ°äº†æˆ‘ä»¬ä½¿ç”¨fdiskå‘½ä»¤åˆ›å»ºçš„åˆ†åŒºï¼Œå…¶ä¸­1åˆ†åŒºæ²¡è¢«æ ¼å¼åŒ–ï¼›2åˆ†åŒºæ˜¯æ‰©å±•åˆ†åŒºï¼Œä¸èƒ½è¢«æ ¼å¼åŒ–</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ print å‘½ä»¤å¯ä»¥æŸ»çœ‹åˆ†åŒºè¡¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¡¬ç›˜å‚æ•°ã€ç¡¬ç›˜å¤§å°ã€æ‰‡åŒºå¤§å°ã€åˆ†åŒºè¡¨ç±»å‹å’Œåˆ†åŒºä¿¡æ¯ã€‚åˆ†åŒºä¿¡æ¯å…±æœ‰ 7 åˆ—ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><ol><li>Numberï¼šåˆ†åŒºå·ï¼Œæ¯”å¦‚ï¼Œ1å·å°±ä»£è¡¨ /dec/sdb1ï¼›</li><li>Startï¼šåˆ†åŒºèµ·å§‹ä½ç½®ã€‚è¿™é‡Œä¸å†åƒ fdisk é‚£æ ·ç”¨æŸ±é¢è¡¨ç¤ºï¼Œä½¿ç”¨å­—èŠ‚è¡¨ç¤ºæ›´åŠ ç›´è§‚ï¼›</li><li>Endï¼šåˆ†åŒºç»“æŸä½ç½®ï¼›</li><li>Sizeï¼šåˆ†åŒºå¤§å°ï¼›</li><li>Typeï¼šåˆ†åŒºç±»å‹ï¼Œæœ‰ primaryã€extendedã€logical ç­‰ç±»å‹ï¼›</li><li>Filesystemï¼šæ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼›</li><li>æ ‡å¿—ï¼šåˆ†åŒºçš„æ ‡è®°ã€‚</li></ol></blockquote></li><li><p>ä¿®æ”¹æˆ GPT åˆ†åŒºè¡¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(partcd) mklabel gpt</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹åˆ†åŒºè¡¨å‘½ä»¤</span></span><br><span class="line">è­¦å‘Šï¼šæ­£åœ¨ä½¿ç”¨/dev/sdbä¸Šçš„åˆ†åŒºã€‚ç”±äº/dev/sdbåˆ†åŒºå·²ç»æŒ‚è½½ï¼Œæ‰€ä»¥æœ‰è­¦å‘Šã€‚æ³¨æ„ï¼Œå¦‚æœå¼ºåˆ¶ä¿®æ”¹ï¼Œé‚£ä¹ˆåŸæœ‰åˆ†åŒºåŠæ•°æ®ä¼šæ¶ˆå¤±</span><br><span class="line">å¿½ç•¥/Ignore/æ”¾å¼ƒ/Cancel? ignore</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å…¥ignoreå¿½ç•¥æŠ¥é”™</span></span><br><span class="line">è­¦å‘Šï¼šThe existing disk label on /dev/sdb will be destroyed and all data on this disk will be lost. Do you want to continue?</span><br><span class="line">æ˜¯/Yes/å¦/No? yes</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å…¥ <span class="built_in">yes</span></span></span><br><span class="line">è­¦å‘Šï¼šWARNING: the kernel failed to re-read the partition table on /dev/sdb (è®¾ å¤‡æˆ–èµ„æºå¿™ï¼‰.As a result, it may not reflect all of your changes until after reboot.</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸‹æ¬¡é‡å¯åæ‰èƒ½ç”Ÿæ•ˆ</span></span><br><span class="line">(parted) print</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸€ä¸‹åˆ†åŒºè¡¨</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk /dev/sdb: 21.5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: gpt</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºè¡¨å·²ç»å˜æˆ GPT</span></span><br><span class="line">Number Start End Size File system Name æ ‡å¿—</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰€æœ‰çš„åˆ†åŒºéƒ½æ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹äº†åˆ†åŒºè¡¨ï¼Œå¦‚æœè¿™å—ç¡¬ç›˜ä¸Šå·²ç»æœ‰åˆ†åŒºäº†ï¼Œé‚£ä¹ˆåŸæœ‰åˆ†åŒºå’Œåˆ†åŒºä¸­çš„æ•°æ®éƒ½ä¼šæ¶ˆå¤±ï¼Œè€Œä¸”éœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½ç”Ÿæ•ˆã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬è½¬æ¢åˆ†åŒºè¡¨çš„ç›®çš„æ˜¯æ”¯æŒå¤§äº 2TB çš„åˆ†åŒºï¼Œå¦‚æœåˆ†åŒºå¹¶æ²¡æœ‰å¤§äº 2TBï¼Œé‚£ä¹ˆè¿™ä¸€æ­¥æ˜¯å¯ä»¥ä¸æ‰§è¡Œçš„ã€‚</p><p><font style="color:red;">æ³¨æ„ï¼Œä¸€å®šè¦æŠŠ /etc/fstab æ–‡ä»¶å’ŒåŸæœ‰åˆ†åŒºä¸­çš„å†…å®¹åˆ é™¤æ‰èƒ½é‡å¯ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</font></p></li><li><p>å»ºç«‹åˆ†åŒº</p><p>å› ä¸ºä¿®æ”¹è¿‡äº†åˆ†åŒºè¡¨ï¼Œæ‰€ä»¥/dev/sdbç¡¬ç›˜ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ¶ˆå¤±äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ–°å¯¹è¿™å—ç¡¬ç›˜åˆ†åŒºäº†ã€‚ä¸è¿‡ï¼Œåœ¨å»ºç«‹åˆ†åŒºæ—¶ï¼Œé»˜è®¤æ–‡ä»¶ç³»ç»Ÿå°±åªèƒ½æ˜¯ ext2 äº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">(parted)mkpart</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å…¥åˆ›å»ºåˆ†åŒºå‘½ä»¤ï¼Œåé¢ä¸è¦å‚æ•°ï¼Œå…¨éƒ¨é äº¤äº’</span></span><br><span class="line">æŒ‡å®š</span><br><span class="line">åˆ†åŒºåç§°ï¼Ÿ []?disk1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºåç§°ï¼Œè¿™é‡Œå‘½åä¸ºdisk 1</span></span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç³»ç»Ÿï¼Ÿ [ext2]?</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œç›´æ¥å›è½¦ï¼Œä½¿ç”¨é»˜è®¤æ–‡ä»¶ç³»ç»Ÿext2</span></span><br><span class="line">èµ·å§‹ç‚¹ï¼Ÿ 1MB</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºä»1MBå¼€å§‹</span></span><br><span class="line">ç»“æŸç‚¹ï¼Ÿ5GBåˆ†åŒºåˆ°5GBç»“æŸ</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºå®Œæˆ</span></span><br><span class="line">(parted) print</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸€ä¸‹</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk/dev/sdb: 21.5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B Partition Table: gpt</span><br><span class="line">Number Start End Size Rle system Name æ ‡å¿—</span><br><span class="line">1 1049kB 5000MB 4999MB disk1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒº1å·²ç»å‡ºç°</span></span><br></pre></td></tr></table></figure><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬ç°åœ¨ç”¨ print æŸ¥çœ‹çš„åˆ†åŒºå’Œç¬¬ä¸€æ¬¡æŸ¥çœ‹ MBR åˆ†åŒºè¡¨çš„åˆ†åŒºæ—¶æœ‰äº›ä¸ä¸€æ ·äº†ï¼Œå°‘äº† Type è¿™ä¸ªå­—æ®µï¼Œä¹Ÿå°±æ˜¯åˆ†åŒºç±»å‹å­—æ®µï¼Œå¤šäº† Nameï¼ˆåˆ†åŒºåï¼‰å­—æ®µã€‚åˆ†åŒºç±»å‹æ˜¯ç”¨äºæ ‡è¯†ä¸»åˆ†åŒºã€æ‰©å±•åˆ†åŒºå’Œé€»è¾‘åˆ†åŒºçš„ï¼Œä¸è¿‡è¿™ç§æ ‡è¯†åªåœ¨ MBR åˆ†åŒºè¡¨ä¸­ä½¿ç”¨ï¼Œç°åœ¨å·²ç»å˜æˆäº† GPT åˆ†åŒºè¡¨ï¼Œæ‰€ä»¥å°±ä¸å†æœ‰ Type ç±»å‹äº†ã€‚</p></li><li><p>å»ºç«‹æ–‡ä»¶ç³»ç»Ÿ</p><p>åˆ†åŒºåˆ†å®Œåï¼Œè¿˜éœ€è¦è¿›è¡Œæ ¼å¼åŒ–ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœä½¿ç”¨ parted äº¤äº’å‘½ä»¤æ ¼å¼åŒ–ï¼Œåˆ™åªèƒ½æ ¼å¼åŒ–æˆ ext2 æ–‡ä»¶ç³»ç»Ÿã€‚æˆ‘ä»¬åœ¨è¿™é‡Œè¦æ¼”ç¤ºä¸€ä¸‹ parted å‘½ä»¤çš„æ ¼å¼åŒ–æ–¹æ³•ï¼Œæ‰€ä»¥å°±æ ¼å¼åŒ–æˆ ext2 æ–‡ä»¶ç³»ç»Ÿã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(parted) mkfs</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¼å¼åŒ–å‘½ä»¤ï¼ˆå¾ˆå¥‡æ€ªï¼Œä¹Ÿæ˜¯mkfsï¼Œä½†æ˜¯è¿™åªæ˜¯partedçš„äº¤äº’å‘½ä»¤ï¼‰</span></span><br><span class="line">WARNING: you are attempting to use parted to operate on (mkfs) a file system.</span><br><span class="line">parted&#x27;s file system manipulation code is not as robust as what you&#x27;ll find in</span><br><span class="line">dedicated, file-system-specific packages like e2fsprogs. We recommend</span><br><span class="line">you use parted only to manipulate partition tables, whenever possible.</span><br><span class="line">Support for performing most operations on most types of file systems</span><br><span class="line">will be removed in an upcoming release.</span><br><span class="line">è­¦å‘Šï¼šThe existing file system will be destroyed and all data on the partition will be lost. Do you want to continue?</span><br><span class="line">æ˜¯/Yes/å¦/No? yes</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è­¦å‘Šä½ æ ¼å¼åŒ–ä¸Ÿå¤±ï¼Œæ²¡å…³ç³»ï¼Œå·²ç»ä¸¢å¤±è¿‡äº†</span></span><br><span class="line">åˆ†åŒºç¼–å·ï¼Ÿ 1</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç±»å‹ [ext2]?</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œå†™åˆ«çš„ä¹Ÿæ²¡ç”¨ï¼Œç›´æ¥å›è½¦</span></span><br><span class="line">(parted) print #æ ¼å¼åŒ–å®Œæˆï¼ŒæŸ¥çœ‹ä¸€ä¸‹</span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk/dev/sdb: 21,5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Number Start End Size File system Nameæ ‡å¿—</span><br><span class="line">1 1049kB 5000MB 4999MB ext2 diski</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‹¥æœ‰äº†æ–‡ä»¶ç³»ç»Ÿ</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦æ ¼å¼åŒ–æˆ ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œé‚£ä¹ˆè¯· mkfs å‘½ä»¤å¸®å¿™å§ï¼ˆæ³¨æ„ï¼šä¸æ˜¯ parted äº¤äº’å‘½ä»¤ä¸­çš„ mkfsï¼Œè€Œæ˜¯ç³»ç»Ÿå‘½ä»¤ mkfs)ã€‚</p></li><li><p>è°ƒæ•´åˆ†åŒºå¤§å°</p><p>parted å‘½ä»¤è¿˜æœ‰ä¸€å¤§ä¼˜åŠ¿ï¼Œå°±æ˜¯å¯ä»¥è°ƒæ•´åˆ†åŒºçš„å¤§å°ï¼ˆåœ¨ Windows ä¸­ä¹Ÿå¯ä»¥å®ç°ï¼Œä¸è¿‡è¦ä¹ˆéœ€è¦è½¬æ¢æˆåŠ¨æ€ç£ç›˜ï¼Œè¦ä¹ˆéœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¦‚ç¡¬ç›˜åˆ†åŒºé­”æœ¯å¸ˆï¼‰ã€‚èµ·å§‹ Linux ä¸­ LVM å’Œ RAID æ˜¯å¯ä»¥æ”¯æŒåˆ†åŒºè°ƒæ•´çš„ï¼Œä¸è¿‡è¿™ä¸¤ç§æ–¹æ³•ä¹Ÿå¯ä»¥çœ‹æˆåŠ¨æ€ç£ç›˜æ–¹æ³•ï¼Œä½¿ç”¨ parted å‘½ä»¤è°ƒæ•´åˆ†åŒºæ›´åŠ ç®€å•ã€‚</p><p><font style="color:red;">æ³¨æ„ï¼Œparted è°ƒæ•´å·²ç»æŒ‚è½½ä½¿ç”¨çš„åˆ†åŒºæ—¶ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ†åŒºä¸­çš„æ•°æ®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚ä½†æ˜¯ä¸€å®šè¦å…ˆå¸è½½åˆ†åŒºï¼Œå†è°ƒæ•´åˆ†åŒºå¤§å°ï¼Œå¦åˆ™æ•°æ®æ˜¯ä¼šå‡ºç°é—®é¢˜çš„ã€‚å¦å¤–ï¼Œè¦è°ƒæ•´å¤§å°çš„åˆ†åŒºå¿…é¡»å·²ç»å»ºç«‹äº†æ–‡ä»¶ç³»ç»Ÿï¼ˆæ ¼å¼åŒ–ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</font></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(parted) resize</span><br><span class="line">åˆ†åŒºç¼–å·ï¼Ÿ 1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‡å®šè¦ä¿®æ”¹çš„åˆ†åŒºç¼–å·</span></span><br><span class="line">èµ·å§‹ç‚¹ï¼Ÿ [1049kB]? 1MB</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºèµ·å§‹ä½ç½®</span></span><br><span class="line">ç»“æŸç‚¹ï¼Ÿ [5000MB]? 6GB</span><br><span class="line">åˆ†åŒºç»“æŸä½ç½®</span><br><span class="line">(parted) print</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸€ä¸‹</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk/dev/sdb: 21,5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Number Start End Size File system Nameæ ‡å¿—</span><br><span class="line">1 1049kB 6000MB 5999MB ext2 diski</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ†åŒºå¤§å°æ”¹å˜</span></span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤åˆ†åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å‘½ä»¤å¦‚ä¸‹ï¼š</span><br><span class="line">(parted) rm</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤åˆ†åŒºå‘½ä»¤</span></span><br><span class="line">åˆ†åŒºç¼–å·ï¼Ÿ 1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‡å®šåˆ†åŒºç¼–å·</span></span><br><span class="line">(parted) print</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ä¸€ä¸‹</span></span><br><span class="line">Model: VMware, VMware Virtual S (scsi)</span><br><span class="line">Disk/dev/sdb: 21.5GB</span><br><span class="line">Sector size (logical/physical): 512B/512B</span><br><span class="line">Partition Table: gpt</span><br><span class="line">Number Start End Size File system Name æ ‡å¿— #åˆ†åŒºæ¶ˆå¤±</span><br></pre></td></tr></table></figure><p><strong><font style="color:black; background:yellow;">æ³¨æ„ï¼Œparted ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯ç«‹å³ç”Ÿæ•ˆçš„ï¼Œæ²¡æœ‰ä¿å­˜ç”Ÿæ•ˆçš„æ¦‚å¿µã€‚è¿™ä¸€ç‚¹å’Œ fdisk äº¤äº’å‘½ä»¤æ˜æ˜¾ä¸åŒï¼Œæ‰€ä»¥åšçš„æ‰€æœ‰æ“ä½œå¤§å®¶è¦åŠ å€å°å¿ƒã€‚</font></strong></p></li></ol></li></ul><h4 id="8-9-10-mkfs-æ ¼å¼åŒ–åˆ†åŒºï¼ˆä¸ºåˆ†åŒºå†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼‰">8.9.10 mkfs æ ¼å¼åŒ–åˆ†åŒºï¼ˆä¸ºåˆ†åŒºå†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼‰</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkfs [-t æ–‡ä»¶ç³»ç»Ÿæ ¼å¼] åˆ†åŒºè®¾å¤‡æ–‡ä»¶å</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-t æ–‡ä»¶ç³»ç»Ÿæ ¼å¼</code></td><td>ç”¨äºæŒ‡å®šæ ¼å¼åŒ–çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚ ext3ã€ext4</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æ ¼å¼åŒ– <code>/dev/sdb6</code> åˆ†åŒº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkfs -t ext4 /dev/sdb6</span><br><span class="line">mke2fs 1.41.12 (17-May-2010)</span><br><span class="line">Filesystem label=  &lt;--è¿™é‡ŒæŒ‡çš„æ˜¯å·æ ‡åï¼Œæˆ‘ä»¬æ²¡æœ‰è®¾ç½®å·æ ‡</span><br><span class="line">OS typeï¼šLinux</span><br><span class="line">Block size=4096 (log=2) &lt;--block çš„å¤§å°é…ç½®ä¸º 4K</span><br><span class="line">Fragment size=4096 (log=2)</span><br><span class="line">Stride=0 blocks, Stripe width=0 blocks</span><br><span class="line">131648 inodes, 526120 blocks &lt;--ç”±æ­¤é…ç½®å†³å®šçš„inode/blockæ•°é‡</span><br><span class="line">26306 blocks (5.00%) reserved for the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=541065216 17 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">7744 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">32768, 98304, 163840, 229376, 294912</span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (16384 blocks):done</span><br><span class="line">Writing superblocks and filesystem accounting information:done</span><br><span class="line">This filesystem will be automatically checked every 39 mounts or 180 days, whichever comes first. Use tune2fs -c or -i to override.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿™æ ·å°±åˆ›å»ºèµ·æ¥æ‰€éœ€è¦çš„ Ext4 æ–‡ä»¶ç³»ç»Ÿäº†ï¼ç®€å•æ˜äº†ï¼</span></span><br></pre></td></tr></table></figure><p>è™½ç„¶ mkfs å‘½ä»¤éå¸¸ç®€å•æ˜“ç”¨ï¼Œä½†å…¶ä¸èƒ½è°ƒæ•´åˆ†åŒºçš„é»˜è®¤å‚æ•°ï¼ˆæ¯”å¦‚å—å¤§å°æ˜¯ 4096 Bytesï¼‰ï¼Œè¿™äº›é»˜è®¤å‚æ•°é™¤éç‰¹æ®Šæ¸…å†µï¼Œå¦åˆ™ä¸éœ€è¦è°ƒæ•´ã€‚å¦‚æœæƒ³è¦è°ƒæ•´ï¼Œå°±éœ€è¦ä½¿ç”¨ mke2fs å‘½ä»¤é‡æ–°æ ¼å¼åŒ–ã€‚</p></li></ol></li></ul><h4 id="8-9-11-mkfs2-æ ¼å¼åŒ–ç¡¬ç›˜-ï¼ˆä¸ºç¡¬ç›˜å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼‰">8.9.11 mkfs2 æ ¼å¼åŒ–ç¡¬ç›˜ ï¼ˆä¸ºç¡¬ç›˜å†™å…¥æ–‡ä»¶ç³»ç»Ÿï¼‰</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mke2fs [é€‰é¡¹] åˆ†åŒºè®¾å¤‡æ–‡ä»¶å</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>-t æ–‡ä»¶ç³»ç»Ÿ</code></td><td>æŒ‡å®šæ ¼å¼åŒ–æˆå“ªä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œ å¦‚ ext2ã€ext3ã€ext4ï¼›</td></tr><tr><td><code>-b å­—èŠ‚</code></td><td>æŒ‡å®š block çš„å¤§å°ï¼›</td></tr><tr><td><code>-i å­—èŠ‚</code></td><td>æŒ‡å®š&quot;å­—èŠ‚ inode &quot;çš„æ¯”ä¾‹ï¼Œä¹Ÿå°±æ˜¯å¤šå°‘å­—èŠ‚åˆ†é…ä¸€ä¸ª inodeï¼›</td></tr><tr><td><code>-j</code></td><td>å»ºç«‹å¸¦æœ‰ ext3 æ—¥å¿—åŠŸèƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼›</td></tr><tr><td><code>-L å·æ ‡å</code></td><td>ç»™æ–‡ä»¶ç³»ç»Ÿè®¾ç½®å·æ ‡åï¼Œå°±ä¸ä½¿ç”¨ e2label å‘½ä»¤è®¾å®šäº†ï¼›</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æ ¼å¼åŒ– <code>/dev/sdb6</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mke2fs -t ext4 -b 2048 /dev/sdb6</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ ¼å¼åŒ–åˆ†åŒºï¼Œå¹¶æŒ‡å®šblockçš„å¤§å°ä¸º2048 Bytes</span></span><br><span class="line">mke2fe 1.41.12 (17-May-2010)</span><br><span class="line">Filesystem label=</span><br><span class="line">OS typeï¼šLinux</span><br><span class="line">Block size=2048 (log=1)  &lt;--block çš„å¤§å°é…ç½®ä¸º 2K</span><br><span class="line">Fragment size=2048 (log=1)</span><br><span class="line">Stride=0 blocks, Stripe width=0 blocks 131560</span><br><span class="line">inodes,1052240 blocks 52612 blocks (5.00%) reserved for the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=538968064 65 block groups</span><br><span class="line">16384 blocks per group, 16384 fragments per group</span><br><span class="line">2024 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">16384, 49152, 81920, 114688, 147456, 409600, 442368, 802816</span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (32768 blocks):done</span><br><span class="line">Writing superblocks and filesystem accounting information:done</span><br><span class="line">This filesystem will be automatically checked every 38 mounts or 180 days, whichever comes first. Use tune2fs -c or-i to override.</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦ï¼Œå»ºè®®ä½¿ç”¨ mkfs å‘½ä»¤å¯¹ç¡¬ç›˜åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ã€‚</p></li></ol></li></ul><h4 id="8-9-12-è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜">8.9.12 è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜</h4><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç›´æ¥ä»å†…å­˜è¯»å†™æ•°æ®è¦æ¯”ä»ç¡¬ç›˜è¯»å†™æ•°æ®å¿«å¾—å¤šï¼Œå› æ­¤æ›´å¸Œæœ›æ‰€æœ‰æ•°æ®çš„è¯»å–å’Œå†™å…¥éƒ½åœ¨å†…å­˜ä¸­å®Œæˆï¼Œç„¶è€Œå†…å­˜æ˜¯æœ‰é™çš„ï¼Œè¿™æ ·å°±å¼•å‡ºäº†ç‰©ç†å†…å­˜ä¸è™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µã€‚</p><p>ç‰©ç†å†…å­˜å°±æ˜¯ç³»ç»Ÿç¡¬ä»¶æä¾›çš„å†…å­˜å¤§å°ï¼Œæ˜¯çœŸæ­£çš„å†…å­˜ã€‚ç›¸å¯¹äºç‰©ç†å†…å­˜ï¼Œåœ¨ Linux ä¸‹è¿˜æœ‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µï¼Œè™šæ‹Ÿå†…å­˜æ˜¯ä¸ºäº†æ»¡è¶³ç‰©ç†å†…å­˜çš„ä¸è¶³è€Œæå‡ºçš„ç­–ç•¥ï¼Œå®ƒæ˜¯åˆ©ç”¨ç£ç›˜ç©ºé—´è™šæ‹Ÿå‡ºçš„ä¸€å—é€»è¾‘å†…å­˜ã€‚ç”¨ä½œè™šæ‹Ÿå†…å­˜çš„ç£ç›˜ç©ºé—´è¢«ç§°ä¸ºäº¤æ¢ç©ºé—´ï¼ˆåˆç§° swap ç©ºé—´ï¼‰ã€‚</p><p>ä½œä¸ºç‰©ç†å†…å­˜çš„æ‰©å±•ï¼ŒLinux ä¼šåœ¨ç‰©ç†å†…å­˜ä¸è¶³æ—¶ï¼Œä½¿ç”¨äº¤æ¢åˆ†åŒºçš„è™šæ‹Ÿå†…å­˜ï¼Œæ›´è¯¦ç»†åœ°è¯´ï¼Œå°±æ˜¯å†…æ ¸ä¼šå°†æš‚æ—¶ä¸ç”¨çš„å†…å­˜å—ä¿¡æ¯å†™åˆ°äº¤æ¢ç©ºé—´ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç‰©ç†å†…å­˜å¾—åˆ°äº†é‡Šæ”¾ï¼Œè¿™å—å†…å­˜å°±å¯ä»¥ç”¨äºå…¶ä»–ç›®çš„ï¼Œå½“éœ€è¦ç”¨åˆ°åŸå§‹çš„å†…å®¹æ—¶ï¼Œè¿™äº›ä¿¡æ¯ä¼šè¢«é‡æ–°ä»äº¤æ¢ç©ºé—´è¯»å…¥ç‰©ç†å†…å­˜ã€‚</p><p>Linux çš„å†…å­˜ç®¡ç†é‡‡å–çš„æ˜¯åˆ†é¡µå­˜å–æœºåˆ¶ï¼Œä¸ºäº†ä¿è¯ç‰©ç†å†…å­˜èƒ½å¾—åˆ°å……åˆ†çš„åˆ©ç”¨ï¼Œå†…æ ¸ä¼šåœ¨é€‚å½“çš„æ—¶å€™å°†ç‰©ç†å†…å­˜ä¸­ä¸ç»å¸¸ä½¿ç”¨çš„æ•°æ®å—è‡ªåŠ¨äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ä¸­ï¼Œè€Œå°†ç»å¸¸ä½¿ç”¨çš„ä¿¡æ¯ä¿ç•™åˆ°ç‰©ç†å†…å­˜ã€‚</p><p>è¦æ·±å…¥äº†è§£ Linux å†…å­˜è¿è¡Œæœºåˆ¶ï¼Œéœ€è¦çŸ¥é“ä¸‹é¢æåˆ°çš„å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li>é¦–å…ˆï¼ŒLinux ç³»ç»Ÿä¼šä¸æ—¶åœ°è¿›è¡Œé¡µé¢äº¤æ¢æ“ä½œï¼Œä»¥ä¿æŒå°½å¯èƒ½å¤šçš„ç©ºé—²ç‰©ç†å†…å­˜ï¼Œå³ä½¿å¹¶æ²¡æœ‰ä»€ä¹ˆäº‹æƒ…éœ€è¦å†…å­˜ï¼ŒLinux ä¹Ÿä¼šäº¤æ¢å‡ºæš‚æ—¶ä¸ç”¨çš„å†…å­˜é¡µé¢ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çœç­‰å¾…äº¤æ¢æ‰€éœ€çš„æ—¶é—´ã€‚</li><li>å…¶æ¬¡ï¼ŒLinux è¿›è¡Œé¡µé¢äº¤æ¢æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸æ˜¯æ‰€æœ‰é¡µé¢åœ¨ä¸ç”¨æ—¶éƒ½äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ï¼ŒLinux å†…æ ¸æ ¹æ®â€œæœ€è¿‘æœ€ç»å¸¸ä½¿ç”¨â€ç®—æ³•ï¼Œä»…ä»…å°†ä¸€äº›ä¸ç»å¸¸ä½¿ç”¨çš„é¡µé¢æ–‡ä»¶äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ã€‚</li></ul><p>æœ‰æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªç°è±¡ï¼ŒLinux ç‰©ç†å†…å­˜è¿˜æœ‰å¾ˆå¤šï¼Œä½†æ˜¯äº¤æ¢ç©ºé—´ä¹Ÿä½¿ç”¨äº†å¾ˆå¤šï¼Œå…¶å®è¿™å¹¶ä¸å¥‡æ€ªã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå ç”¨å¾ˆå¤§å†…å­˜çš„è¿›ç¨‹è¿è¡Œæ—¶ï¼Œéœ€è¦è€—è´¹å¾ˆå¤šå†…å­˜èµ„æºï¼Œæ­¤æ—¶å°±ä¼šæœ‰ä¸€äº›ä¸å¸¸ç”¨é¡µé¢æ–‡ä»¶è¢«äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ä¸­ï¼Œä½†åæ¥è¿™ä¸ªå ç”¨å¾ˆå¤šå†…å­˜èµ„æºçš„è¿›ç¨‹ç»“æŸå¹¶é‡Šæ”¾äº†å¾ˆå¤šå†…å­˜æ—¶ï¼Œåˆšæ‰è¢«äº¤æ¢å‡ºå»çš„é¡µé¢æ–‡ä»¶å¹¶ä¸ä¼šè‡ªåŠ¨äº¤æ¢è¿›ç‰©ç†å†…å­˜ï¼ˆé™¤éæœ‰è¿™ä¸ªå¿…è¦ï¼‰ï¼Œé‚£ä¹ˆæ­¤æ—¶ç³»ç»Ÿç‰©ç†å†…å­˜å°±ä¼šç©ºé—²å¾ˆå¤šï¼ŒåŒæ—¶äº¤æ¢ç©ºé—´ä¹Ÿåœ¨è¢«ä½¿ç”¨ï¼Œå°±å‡ºç°äº†åˆšæ‰æ‰€è¯´çš„ç°è±¡äº†ã€‚</p><p>æœ€åï¼Œäº¤æ¢ç©ºé—´çš„é¡µé¢åœ¨ä½¿ç”¨æ—¶ä¼šé¦–å…ˆè¢«äº¤æ¢åˆ°ç‰©ç†å†…å­˜ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰è¶³å¤Ÿçš„ç‰©ç†å†…å­˜æ¥å®¹çº³è¿™äº›é¡µé¢ï¼Œå®ƒä»¬åˆä¼šè¢«é©¬ä¸Šäº¤æ¢å‡ºå»ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œè™šæ‹Ÿå†…å­˜ä¸­å¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜å‚¨è¿™äº›äº¤æ¢é¡µé¢ï¼Œæœ€ç»ˆä¼šå¯¼è‡´ Linux å‡ºç°å‡æ­»æœºã€æœåŠ¡å¼‚å¸¸ç­‰é—®é¢˜ã€‚Linux è™½ç„¶å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´å†…è‡ªè¡Œæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åçš„ç³»ç»Ÿå·±ç»åŸºæœ¬ä¸å¯ç”¨äº†ã€‚</p><blockquote><p>å› æ­¤ï¼Œåˆç†è§„åˆ’å’Œè®¾è®¡ Linux å†…å­˜çš„ä½¿ç”¨æ˜¯éå¸¸é‡è¦çš„ï¼Œå…³äºç‰©ç†å†…å­˜å’Œäº¤æ¢ç©ºé—´çš„å¤§å°è®¾ç½®é—®é¢˜ï¼Œå–å†³äºå®é™…æ‰€ç”¨çš„ç¡¬ç›˜å¤§å°ï¼Œä½†å¤§è‡´éµå¾ªè¿™æ ·ä¸€ä¸ªåŸºæœ¬åŸåˆ™ï¼š</p><ol><li>å¦‚æœå†…å­˜è¾ƒå°ï¼ˆæ ¹æ®ç»éªŒï¼Œç‰©ç†å†…å­˜å°äº 4GBï¼‰ï¼Œä¸€èˆ¬è®¾ç½® swap åˆ†åŒºå¤§å°ä¸ºå†…å­˜çš„ 2 å€ï¼›</li><li>å¦‚æœç‰©ç†å†…å­˜å¤§äº 4GBï¼Œè€Œå°äº 16GBï¼Œå¯ä»¥è®¾ç½® swap åˆ†åŒºå¤§å°ç­‰äºç‰©ç†å†…å­˜ï¼›</li><li>å¦‚æœå†…å­˜å¤§å°åœ¨ 16GB ä»¥ä¸Šï¼Œå¯ä»¥è®¾ç½® swap ä¸º 0ï¼Œä½†å¹¶ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸ºè®¾ç½®ä¸€å®šå¤§å°çš„ swap åˆ†åŒºæ˜¯æœ‰ä¸€å®šä½œç”¨çš„ã€‚</li></ol></blockquote><h4 id="8-9-12-swapåˆ†åŒº">8.9.12 swapåˆ†åŒº</h4><p>æˆ‘ä»¬åœ¨å®‰è£…ç³»ç»Ÿçš„æ—¶å€™å·²ç»å»ºç«‹äº† swap åˆ†åŒºã€‚swap åˆ†åŒºé€šå¸¸è¢«ç§°ä¸ºäº¤æ¢åˆ†åŒºï¼Œè¿™æ˜¯ä¸€å—ç‰¹æ®Šçš„ç¡¬ç›˜ç©ºé—´ï¼Œå³å½“å®é™…å†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä»å†…å­˜ä¸­å–å‡ºä¸€éƒ¨åˆ†æš‚æ—¶ä¸ç”¨çš„æ•°æ®ï¼Œæ”¾åœ¨äº¤æ¢åˆ†åŒºä¸­ï¼Œä»è€Œä¸ºå½“å‰è¿è¡Œçš„ç¨‹åºè…¾å‡ºè¶³å¤Ÿçš„å†…å­˜ç©ºé—´ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å†…å­˜ä¸å¤Ÿç”¨æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ swap åˆ†åŒºæ¥ä¸´æ—¶é¡¶æ›¿ã€‚è¿™ç§â€œæ‹†ä¸œå¢™ï¼Œè¡¥è¥¿å¢™â€çš„æ–¹å¼åº”ç”¨äºå‡ ä¹æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿä¸­ã€‚</p><p>ä½¿ç”¨ swap äº¤æ¢åˆ†åŒºï¼Œæ˜¾è‘—çš„ä¼˜ç‚¹æ˜¯ï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ï¼Œåº”ç”¨ç¨‹åºå®é™…å¯ä»¥ä½¿ç”¨çš„å†…å­˜ç©ºé—´å°†è¿œè¿œè¶…è¿‡ç³»ç»Ÿçš„ç‰©ç†å†…å­˜ã€‚ç”±äºç¡¬ç›˜ç©ºé—´çš„ä»·æ ¼è¿œæ¯” RAM è¦ä½ï¼Œå› æ­¤è¿™ç§æ–¹å¼æ— ç–‘æ˜¯ç»æµå®æƒ çš„ã€‚å½“ç„¶ï¼Œé¢‘ç¹åœ°è¯»å†™ç¡¬ç›˜ï¼Œä¼šæ˜¾è‘—é™ä½æ“ä½œç³»ç»Ÿçš„è¿è¡Œé€Ÿç‡ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨ swap äº¤æ¢åˆ†åŒºæœ€å¤§çš„é™åˆ¶ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼ŒWindows ä¸ä¼šä¸º swap å•ç‹¬åˆ’åˆ†ä¸€ä¸ªåˆ†åŒºï¼Œè€Œæ˜¯ä½¿ç”¨åˆ†é¡µæ–‡ä»¶å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œåœ¨æ¦‚å¿µä¸Šï¼ŒWindows ç§°å…¶ä¸ºè™šæ‹Ÿå†…å­˜ï¼Œä»æŸç§æ„ä¹‰ä¸Šå°†ï¼Œè¿™ä¸ªå«æ³•æ›´å®¹æ˜“ç†è§£ã€‚å› æ­¤ï¼Œåˆå­¦è€…å°† swap äº¤æ¢åˆ†åŒºç†è§£ä¸ºè™šæ‹Ÿå†…å­˜æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ã€‚æœ‰æ—¶æœåŠ¡å™¨çš„è®¿é—®é‡ç¡®å®å¾ˆå¤§ï¼Œæœ‰å¯èƒ½å‡ºç° swap åˆ†åŒºä¸å¤Ÿç”¨çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å­¦ä¹  swap åˆ†åŒºçš„æ„å»ºæ–¹æ³•ã€‚</p><ul><li><p>ç›¸å…³å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼åŒ–swapæ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">mkswap [options] device [size]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨äº¤æ¢åˆ†åŒºã€è§‚å¯Ÿäº¤æ¢åˆ†åŒºä¿¡æ¯-sç­‰</span></span><br><span class="line">swapon [options] [specialfile...]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å†…å­˜äº¤æ¢åˆ†åŒºå…³é—­ä½¿ç”¨</span></span><br><span class="line">swapon [options] [specialfile...]</span><br></pre></td></tr></table></figure></li></ul><ol><li><p><strong>é€šè¿‡ç‰©ç†åˆ†åŒºæ„å»ºswapåˆ†åŒº</strong>ï¼ˆæ¨èï¼‰</p><p>åˆ›å»ºswapå‰ææ¡ä»¶,éœ€è¦æœ‰ä¸€å—æ²¡æœ‰ä½¿ç”¨å®Œçš„ç¡¬ç›˜ï¼ˆå°±æ˜¯ä¸€å—ç‰©ç†ç¡¬ç›˜éœ€è¦æœ‰å‰©ä½™ç©ºé—´æœªåˆ†é…ï¼‰ã€‚</p><ul><li><p>é¦–å…ˆæŸ¥çœ‹çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘è¿™é‡Œç”¨<code>lsblk</code>ï¼š(sdbç‰©ç†ç¡¬ç›˜ï¼Œä¸€å…±æœ‰10Gï¼Œæ‰ç”¨äº†ä¸åˆ°7Gï¼Œè¿˜æœ‰3Gå¯ä»¥ç”¨)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# lsblk</span><br><span class="line">NAME         MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda            8:0    0   10G  0 disk </span><br><span class="line">â””â”€sda1         8:1    0   10G  0 part /</span><br><span class="line">sdb            8:16   0   10G  0 disk </span><br><span class="line">â”œâ”€sdb1         8:17   0    5G  0 part </span><br><span class="line">â”‚ â””â”€vg0-lvm1 253:0    0  772M  0 lvm  </span><br><span class="line">â””â”€sdb2         8:18   0  512M  0 part </span><br><span class="line">sr0           11:0    1 1024M  0 rom </span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç°åœ¨çš„swapç©ºé—´ï¼š<code>free -lm</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# free -lm</span><br><span class="line">             total       used       free     shared    buffers     cached</span><br><span class="line">Mem:           979        892         87         14          0        144</span><br><span class="line">Low:           979        892         87</span><br><span class="line">High:            0          0          0</span><br><span class="line">-/+ buffers/cache:        747        232</span><br><span class="line">Swap:            0          0          0 # å¯ä»¥çœ‹åˆ°ç°åœ¨æ˜¯æ²¡æœ‰swapç©ºé—´çš„</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨fdiskåˆ›å»º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# fdisk /dev/sdb ã€ç¡¬ç›˜æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‘</span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain in memory only, until you decide to write them.</span><br><span class="line">Be careful before using the write command.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Command (m for help): pã€æ‰“å°ã€‘</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x229e658e</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    10487807     5242880   8e  Linux LVM</span><br><span class="line"></span><br><span class="line">Command (m for help): nã€åˆ›å»ºåˆ†åŒºã€‘</span><br><span class="line">Partition type:</span><br><span class="line">   p   primary (1 primary, 0 extended, 3 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p): pã€ä¸»åˆ†åŒºã€‘</span><br><span class="line">Partition number (2-4, default 2):  ã€ç›´æ¥å›è½¦å³å¯ã€‘</span><br><span class="line">First sector (10487808-20971519, default 10487808): ã€é€‰æ‹©å¼€å§‹å—ï¼Œç›´æ¥å›è½¦å³å¯ã€‘</span><br><span class="line">Using default value 10487808</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (10487808-20971519, default 20971519): +512M ã€è‡ªå®šä¹‰å¤§å°ã€‘</span><br><span class="line">Partition 2 of type Linux and of size 512 MiB is set</span><br><span class="line"></span><br><span class="line">Command (m for help): t ã€è½¬æ¢æ ¼å¼ã€‘</span><br><span class="line">Partition number (1,2, default 2): 2ã€é€‰æ‹©ç¡¬ç›˜idã€‘</span><br><span class="line">Hex code (type L to list all codes): Lã€æŸ¥çœ‹æ‰€æœ‰åºå·ã€‘</span><br><span class="line"> 0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris        </span><br><span class="line"> 1  FAT12           27  Hidden NTFS Win 82  Linux swap / So c1  DRDOS/sec (FAT-</span><br><span class="line"> 2  XENIX root      39  Plan 9          83  Linux           c4  DRDOS/sec (FAT-</span><br><span class="line"> 3  XENIX usr       3c  PartitionMagic  84  OS/2 hidden C:  c6  DRDOS/sec (FAT-</span><br><span class="line"> 4  FAT16 &lt;32M      40  Venix 80286     85  Linux extended  c7  Syrinx         </span><br><span class="line"> 5  Extended        41  PPC PReP Boot   86  NTFS volume set da  Non-FS data    </span><br><span class="line"> 6  FAT16           42  SFS             87  NTFS volume set db  CP/M / CTOS / .</span><br><span class="line"> 7  HPFS/NTFS/exFAT 4d  QNX4.x          88  Linux plaintext de  Dell Utility   </span><br><span class="line"> 8  AIX             4e  QNX4.x 2nd part 8e  Linux LVM       df  BootIt         </span><br><span class="line"> 9  AIX bootable    4f  QNX4.x 3rd part 93  Amoeba          e1  DOS access     </span><br><span class="line"> a  OS/2 Boot Manag 50  OnTrack DM      94  Amoeba BBT      e3  DOS R/O        </span><br><span class="line"> b  W95 FAT32       51  OnTrack DM6 Aux 9f  BSD/OS          e4  SpeedStor      </span><br><span class="line"> c  W95 FAT32 (LBA) 52  CP/M            a0  IBM Thinkpad hi eb  BeOS fs        </span><br><span class="line"> e  W95 FAT16 (LBA) 53  OnTrack DM6 Aux a5  FreeBSD         ee  GPT            </span><br><span class="line"> f  W95 Ext&#x27;d (LBA) 54  OnTrackDM6      a6  OpenBSD         ef  EFI (FAT-12/16/</span><br><span class="line">10  OPUS            55  EZ-Drive        a7  NeXTSTEP        f0  Linux/PA-RISC b</span><br><span class="line">11  Hidden FAT12    56  Golden Bow      a8  Darwin UFS      f1  SpeedStor      </span><br><span class="line">12  Compaq diagnost 5c  Priam Edisk     a9  NetBSD          f4  SpeedStor      </span><br><span class="line">14  Hidden FAT16 &lt;3 61  SpeedStor       ab  Darwin boot     f2  DOS secondary  </span><br><span class="line">16  Hidden FAT16    63  GNU HURD or Sys af  HFS / HFS+      fb  VMware VMFS    </span><br><span class="line">17  Hidden HPFS/NTF 64  Novell Netware  b7  BSDI fs         fc  VMware VMKCORE </span><br><span class="line">18  AST SmartSleep  65  Novell Netware  b8  BSDI swap       fd  Linux raid auto</span><br><span class="line">1b  Hidden W95 FAT3 70  DiskSecure Mult bb  Boot Wizard hid fe  LANstep        </span><br><span class="line">1c  Hidden W95 FAT3 75  PC/IX           be  Solaris boot    ff  BBT            </span><br><span class="line">1e  Hidden W95 FAT1 80  Old Minix      </span><br><span class="line">Hex code (type L to list all codes): 82 ã€ç›´æ¥è¾“å…¥åºå·å›è½¦ï¼ˆå¦‚82å°±æ˜¯swapåˆ†åŒºï¼‰</span><br><span class="line">Changed type of partition &#x27;Linux&#x27; to &#x27;Linux swap / Solaris&#x27;</span><br><span class="line"></span><br><span class="line">Command (m for help): pã€æ‰“å°ï¼Œçœ‹åˆšæ‰ä¿®æ”¹çš„idç£ç›˜æ˜¯å¦å˜ä¸ºlinux swapã€‘</span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label type: dos</span><br><span class="line">Disk identifier: 0x229e658e</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048    10487807     5242880   8e  Linux LVM</span><br><span class="line">/dev/sdb2        10487808    11536383      524288   82  Linux swap / Solaris</span><br><span class="line"></span><br><span class="line">Command (m for help): w ã€ä¿å­˜ã€‘</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: Device or resource busy.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">Syncing disks.</span><br><span class="line">Command (m for help): w ã€ä¿å­˜ã€‘</span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line"></span><br><span class="line">WARNING: Re-reading the partition table failed with error 16: Device or resource busy.</span><br><span class="line">The kernel still uses the old table. The new table will be used at</span><br><span class="line">the next reboot or after you run partprobe(8) or kpartx(8)</span><br><span class="line">Syncing disks.</span><br><span class="line">[root@server0 ~]# </span><br><span class="line">[root@server0 ~]# partprobe /dev/sdb  #æ›´æ–°ç¡¬ç›˜ä¿¡æ¯</span><br></pre></td></tr></table></figure></li><li><p>æ ¼å¼åŒ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# lsblk   #fdisk â€“l ä¹Ÿå¯ä»¥çœ‹åˆ°åˆ†åŒºä¿¡æ¯</span><br><span class="line">NAME         MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda            8:0    0   10G  0 disk </span><br><span class="line">â””â”€sda1         8:1    0   10G  0 part /</span><br><span class="line">sdb            8:16   0   10G  0 disk </span><br><span class="line">â”œâ”€sdb1         8:17   0    5G  0 part </span><br><span class="line">â”‚ â””â”€vg0-lvm1 253:0    0  772M  0 lvm  </span><br><span class="line">â””â”€sdb2         8:18   0  512M  0 part </span><br><span class="line">sr0           11:0    1 1024M  0 rom  </span><br><span class="line">[root@server0 ~]# mkswap /dev/sdb2  #æ ¼å¼åŒ–ä¸ºswapï¼Œæ³¨æ„åˆ†åŒºåˆ«æé”™äº†</span><br><span class="line">Setting up swapspace version 1, size = 524284 KiB</span><br><span class="line">no label, UUID=38f22d84-e4fb-4d6a-b157-48912f761bfe  #æ— æ ‡ç­¾ï¼Œuuid=â€¦</span><br></pre></td></tr></table></figure></li><li><p>æ°¸ä¹…æŒ‚è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@station ~]# blkidã€æŸ¥çœ‹swapå¯¹åº”çš„åˆ†åŒºuuidå¹¶å¤åˆ¶ã€‘ </span><br><span class="line">[root@server0 ~]# vim /etc/fstab  # æœ€åä¸€è¡Œæ·»åŠ ä¸‹é¢å†…å®¹</span><br><span class="line">[root@server0 ~]# tail -n 1 /etc/fstab # æŸ¥è¯¢æœ€åä¸€è¡Œçš„å†…å®¹</span><br><span class="line">UUID=74bb6046-bf04-49c6-a4a2-d4fb3aebc6b7    swap   swap   defaults 0 0  </span><br><span class="line">[root@server0 ~]#</span><br><span class="line">[root@server0 ~]# swapon -a #ç«‹å³æŒ‚è½½</span><br></pre></td></tr></table></figure><p>swapå±äºç‰¹æ®Šæ–‡ä»¶ï¼Œ<code>mount -a</code> æ˜¯ä¸ä¼šè‡ªåŠ¨æŒ‚è½½çš„ï¼Œéœ€è¦è¾“å…¥<code>swapon -a </code>æ‰ä¼šè‡ªåŠ¨æŒ‚è½½ã€‚</p></li><li><p>æ¿€æ´»swapåˆ†åŒº<font style="color:red;">ï¼ˆå¦‚æœä¸Šé¢æ°¸ä¹…æŒ‚è½½ä¸­æ‰§è¡Œäº†<code>swapon -a</code>åï¼Œå¿½ç•¥è¯¥æ­¥éª¤ï¼ï¼‰</font></p><p>æ¿€æ´»swapå‘½ä»¤ï¼š<code>swapon /dev/sd*</code>,å¦‚æœä¸æ¿€æ´»çš„è¯ï¼Œå³ä½¿æŒ‚è½½äº† swap ä¾ç„¶ä¸ä¼šç”Ÿæ•ˆã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# free -l</span><br><span class="line">             total       used       free     shared    buffers     cached</span><br><span class="line">Mem:       1003456     927988      75468      15172        372     160828</span><br><span class="line">Low:       1003456     927988      75468</span><br><span class="line">High:            0          0          0</span><br><span class="line">-/+ buffers/cache:     766788     236668</span><br><span class="line">Swap:            0          0          0</span><br><span class="line"></span><br><span class="line">[root@server0 ~]#</span><br><span class="line">[root@server0 ~]# swapon /dev/sdb2 #æ¿€æ´»swap</span><br><span class="line">[root@server0 ~]# free â€“l #æ¿€æ´»åswap å°±æœ‰å€¼äº†ï¼Œè¿™æ · swapåˆ†åŒºä¹Ÿå…¨éƒ¨å®Œæˆ</span><br><span class="line">             total       used       free     shared    buffers     cached</span><br><span class="line">Mem:       1003456     928344      75112      15172        376     160888</span><br><span class="line">Low:       1003456     928344      75112</span><br><span class="line">High:            0          0          0</span><br><span class="line">-/+ buffers/cache:     767080     236376</span><br><span class="line">Swap:       524284          0     524284</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>é€šè¿‡æ–‡ä»¶æ¥æ„å»ºswapåˆ†åŒº</strong></p><p>1.çš„æ–¹æ³•é€‚åˆç£ç›˜ç•™æœ‰å‰©ä½™ç©ºé—´æ²¡æœ‰ä½¿ç”¨ã€‚ä½†å¦‚æœç£ç›˜ç©ºé—´å…¨éƒ¨åˆ†åŒºå®Œæ¯•ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•åˆ›å»ºswapåˆ†åŒºå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¶ä½œä¸€ä¸ªå¤§çš„æ–‡ä»¶æ¥æ„å»ºswapåˆ†åŒºã€‚è™½ç„¶ç£ç›˜çš„ç©ºé—´å·²ç»å…¨éƒ¨åˆ†å®Œäº†ï¼Œä½†åªè¦å…¶ä¸­ä»»æ„ä¸€ä¸ªåˆ†åŒºè¿˜æœ‰å‰©ä½™ç©ºé—´ï¼Œè¯¥æ–¹æ³•å°±å¯ä»¥ä½¿ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºswapç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> /var/swap</span><br><span class="line"><span class="comment">#åˆ›å»ºswapæ–‡ä»¶,è¿™é‡Œè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªswapfileæ–‡ä»¶ï¼Œæ–‡ä»¶å¤§å°countä¸º1G</span></span><br><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/var/swap/swapfile bs=1024 count=1000000</span><br><span class="line"></span><br><span class="line"><span class="comment">#è½¬æ¢ä¸ºswapæ–‡ä»¶</span></span><br><span class="line">mkswap /var/swap/swapfile</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‚è½½æ¿€æ´»swapæ–‡ä»¶</span></span><br><span class="line">swapon /var/swap/swapfile</span><br><span class="line"><span class="comment">#é™„ï¼šå¸è½½å‘½ä»¤</span></span><br><span class="line"><span class="comment">#swapoff /var/swap/swapfile</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;/var/swap/swapfile   swap  swap  defaults  0  0&quot;</span> &gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure><ul><li><p>ä¿®æ”¹å†…æ ¸ (ä¼˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰éœ€æ±‚åˆ™ä¸æ”¹)</p><p>vm.swappinesså‚æ•°å¦‚æœä¸º0ï¼Œè¡¨ç¤ºå…³é—­swapï¼Œå³ä½¿é…ç½®äº†swapä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦é…ç½®ä¸‹vm.swappinessçš„å€¼ã€‚</p><p>centos7é»˜è®¤vm.swappinessä¸º30ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„ç‰©ç†å†…å­˜ä½¿ç”¨åˆ°100-30=70%æ—¶ï¼Œå°±å¼€å§‹ä½¿ç”¨swapï¼Œå› ä¸ºå†…å­˜çš„é€Ÿåº¦è¦æ¯”ç£ç›˜çš„é€Ÿåº¦å¿«çš„å¤šï¼Œä¸€æ—¦ä½¿ç”¨åˆ°swapï¼Œä¼šåŠ å¤§ç£ç›˜IOï¼Œé€ æˆå¤§é‡é¡µçš„æ¢è¿›æ¢å‡ºï¼Œå½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œæ‰€ä»¥æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„ä½¿ç”¨ç‰©ç†å†…å­˜ï¼Œå‡å°‘å¯¹swapè™šæ‹Ÿå†…å­˜çš„ä½¿ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/sys/vm/swappiness</span><br><span class="line">æˆ–</span><br><span class="line">sysctl -a | grep swappiness</span><br></pre></td></tr></table></figure><p>æˆ‘è¿™é‡Œè°ƒæ•´å€¼ä¸º10</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysctl.conf</span><br><span class="line">vm.swappiness=10</span><br></pre></td></tr></table></figure><p>ä¿å­˜åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿å…¶ç”Ÿæ•ˆ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å°±æ˜¯è¯´ï¼Œå½“ç‰©ç†å†…å­˜ä½¿ç”¨åˆ°100-10=90%æ—¶ï¼Œå¼€å§‹ä½¿ç”¨swapã€‚</p></li></ul></li></ol><h4 id="8-9-25-æ·»åŠ ç£ç›˜åŠåˆ†åŒºæŒ‚è½½">8.9.25 æ·»åŠ ç£ç›˜åŠåˆ†åŒºæŒ‚è½½</h4><p>æŸ¥çœ‹åˆå§‹ç£ç›˜æƒ…å†µï¼šæ–¹æ³•1ï¼šæŸ¥çœ‹<code>/dev</code>ä¸‹sdå¼€å¤´çš„æ–‡ä»¶<code>ls /dev</code>ï¼Œæ²¡æœ‰sdbç£ç›˜ã€‚æ–¹æ³•2ï¼š<code>fdisk -l</code>å‘½ä»¤ æŸ¥çœ‹ç³»ç»Ÿä¸­çš„ç£ç›˜ä¿¡æ¯ï¼Œæ­¤æ—¶æ˜¯æ²¡æœ‰sdbç£ç›˜ã€‚</p><ol><li><p><strong>ä½¿ç”¨è™šæ‹Ÿæœºæ·»åŠ ç¡¬ç›˜</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/39a1089d38a0400fb7f62a07b10c76bf.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li><li><p>ä½¿ç”¨fdiskåˆ†åŒº</p><p>âš :å¦‚æœæç¤º <strong>â€œPermission deniedâ€</strong> åˆ™æ˜¯æ²¡æœ‰æƒé™ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ <strong><code>su</code></strong> å¹¶å¡«å†™å¯†ç è¿›å…¥åˆ°<strong>è¶…çº§ç®¡ç†å‘˜æ¨¡å¼</strong>å³å¯ã€‚</p><p>ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹åˆ†åŒºï¼š<code>fdisk -l</code></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/da9bf932811b424186a061792973b3b6.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¸Šå›¾çº¢è‰²éƒ¨åˆ†å°±æ˜¯æˆ‘ä»¬åœ¨ <strong>ç¬¬äºŒæ­¥</strong> æ–°å»ºçš„ç£ç›˜ åˆ†åŒºçš„è·¯å¾„åå­—ä¸º <code>/dev/sdb</code></p><p>å°†è¿™ä¸ªç©ºç™½åˆ†åŒºåˆ†ä¸ºä¸¤ä¸ª20Gçš„åˆ†åŒº,è¾“å…¥åˆ†åŒºçš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯ <strong><code>fdisk /dev/sdb</code></strong> è¿›å…¥åˆ°è¯¥åˆ†åŒºä¸‹ã€‚</p><p>åˆ‡æ¢åˆ°è¯¥åˆ†åŒºåæˆ‘ä»¬è¾“å…¥ <code>p</code> æŸ¥çœ‹å½“å‰çš„åˆ†åŒºçš„è¯¦ç»†ä¿¡æ¯ï¼š</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/a96b72eede464349a7ec4172635a44ef.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰40å¤šGçš„ç©ºç™½åˆ†åŒºæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ç£ç›˜è¿›è¡Œæ“ä½œï¼Œåˆ†å‡ºä¸¤ä¸ª <strong>20G</strong> çš„åˆ†åŒº</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/8eaff871f94e480e87bcf213e924efe6.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>æ³¨æ„: æ“ä½œå®Œæˆåï¼Œè¾“å…¥</strong> <code>w</code> <strong>ä¿å­˜å¹¶é€€å‡º</strong><br>è¿™æ ·æˆ‘ä»¬å°±å·²ç»æ–°å»ºäº†ä¸€ä¸ª<strong>20G</strong>çš„<strong>åˆ†åŒº</strong>ï¼Œé‡å¤ä¸Šè¿°æ“ä½œä¸¤æ¬¡å³å¯æ–°å»ºå‡ºä¸¤ä¸ª<strong>20G</strong>çš„<strong>åˆ†åŒº</strong>ã€‚</p><p>åœ¨æˆ‘ä»¬æ–°å»ºç¬¬äºŒå—åˆ†åŒºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸‹é¢çš„é—®é¢˜ã€‚å€¼è¶…å‡ºèŒƒå›´<code>Value out of range.</code>ã€‚</p><p>åˆ†åŒº<strong>çš„å¤§å°è¦å°äºä½ å®šä¹‰çš„</strong>è™šæ‹Ÿç£ç›˜**å¤§å°ã€‚é€‚å½“å‡å°‘ **1G å°±å¯ä»¥äº†ã€‚æ­¤æ—¶è¾“å…¥ <code>fdisk -l</code> æŸ¥çœ‹æ–°å»ºçš„åˆ†åŒº</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/91814c7ce1f54145af28d9aba2cb94e2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong><code>/dev/sdb1</code></strong> å’Œ <strong><code>/dev/sdb2</code></strong> å°±æ˜¯æˆ‘ä»¬æ–°å»ºçš„ä¸¤ä¸ªåˆ†åŒºäº†</p></li><li><p>æ ¼å¼åŒ–åˆ†åŒºå¹¶æŒ‚è½½ç¡¬ç›˜</p><p>è¾“å…¥ <code>df -TH</code> å¯ä»¥æŸ¥çœ‹å½“å‰ <strong>åˆ†åŒºæ ¼å¼</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/ab1e598cc8f747fcaf8c07729cb3c348.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ ¼å¼åŒ–æ”¹æˆ <strong>ext4</strong> æ ¼å¼,è¾“å…¥ <code>mkfs.ext4 /dev/sdb1</code> ä¸ <code>mkfs.ext4 /dev/sdb2</code> æŠŠè¿™ä¸¤ä¸ªåˆ†åŒºæ ¼å¼åŒ–ä¸€éã€‚</p><p>æŒ‚è½½åˆ†åŒºï¼Œè¾“å…¥ <code>mkdir /sdb1</code> ä¸ <code>mkdir /sdb2</code>ï¼Œå†è¾“å…¥ <code>mount /dev/sdb1 /sdb1</code> ä¸ <code>mount /dev/sdb2 /sdb2</code> å°†åˆ†åŒºæŒ‚è½½åˆ°è¿™ä¸¤ä¸ªç›®å½•ã€‚</p></li></ol><h3 id="8-10-ç³»ç»Ÿç®¡ç†">8.10 ç³»ç»Ÿç®¡ç†</h3><h4 id="8-10-1-è¿›ç¨‹ç®¡ç†">8.10.1 è¿›ç¨‹ç®¡ç†</h4><p>æ— è®ºæ˜¯ Linux ç³»ç»Ÿç®¡ç†å‘˜è¿˜æ˜¯æ™®é€šç”¨æˆ·ï¼Œç›‘è§†ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œæƒ…å†µå¹¶é€‚æ—¶ç»ˆæ­¢ä¸€äº›å¤±æ§çš„è¿›ç¨‹ï¼Œæ˜¯æ¯å¤©çš„ä¾‹è¡Œäº‹åŠ¡ã€‚å’Œ Linux ç³»ç»Ÿç›¸æ¯”ï¼Œè¿›ç¨‹ç®¡ç†åœ¨ Windows ä¸­æ›´åŠ ç›´è§‚ï¼Œå®ƒä¸»è¦æ˜¯ä½¿ç”¨&quot;ä»»åŠ¡ç®¡ç†å™¨&quot;æ¥è¿›è¡Œè¿›ç¨‹ç®¡ç†çš„ã€‚</p><ul><li><p><strong>ä½¿ç”¨&quot;ä»»åŠ¡ç®¡ç†å™¨&quot;ç›®çš„</strong></p><ol><li><p>åˆ©ç”¨&quot;åº”ç”¨ç¨‹åº&quot;å’Œ&quot;è¿›ç¨‹&quot;æ ‡ç­¾æ¥æŸ»çœ‹ç³»ç»Ÿä¸­åˆ°åº•è¿è¡Œäº†å“ªäº›ç¨‹åºå’Œè¿›ç¨‹ï¼›</p></li><li><p>åˆ©ç”¨&quot;æ€§èƒ½&quot;å’Œ&quot;ç”¨æˆ·&quot;æ ‡ç­¾æ¥åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶æ€ï¼›</p></li><li><p>åœ¨&quot;åº”ç”¨ç¨‹åº&quot;å’Œ&quot;è¿›ç¨‹&quot;æ ‡ç­¾ä¸­å¼ºåˆ¶ä¸­æ­¢ä»»åŠ¡å’Œè¿›ç¨‹ï¼›</p></li></ol></li><li><p><strong>è¿›ç¨‹å’Œç¨‹åº</strong></p><p>è¿›ç¨‹æ˜¯æ­£åœ¨æ‰§è¡Œçš„ä¸€ä¸ªç¨‹åºæˆ–å‘½ä»¤ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯ä¸€ä¸ªè¿è¡Œçš„å®ä½“ï¼Œéƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼Œå¹¶å ç”¨ä¸€å®šçš„ç³»ç»Ÿèµ„æºã€‚ç¨‹åºæ˜¯äººä½¿ç”¨è®¡ç®—æœºè¯­è¨€ç¼–å†™çš„å¯ä»¥å®ç°ç‰¹å®šç›®æ ‡æˆ–è§£å†³ç‰¹å®šé—®é¢˜çš„ä»£ç é›†åˆã€‚</p><p>è¿™ä¹ˆè®²å¾ˆéš¾ç†è§£ï¼Œé‚£æˆ‘ä»¬æ¢ä¸€ç§è¯´æ³•ã€‚ç¨‹åºæ˜¯äººä½¿ç”¨è®¡ç®—æœºè¯­è¨€ç¼–å†™çš„ï¼Œå¯ä»¥å®ç°ä¸€å®šåŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥æ‰§è¡Œçš„ä»£ç é›†åˆã€‚è€Œè¿›ç¨‹æ˜¯æ­£åœ¨æ‰§è¡Œä¸­çš„ç¨‹åºã€‚å½“ç¨‹åºè¢«æ‰§è¡Œæ—¶ï¼Œæ‰§è¡Œäººçš„æƒé™å’Œå±æ€§ï¼Œä»¥åŠç¨‹åºçš„ä»£ç éƒ½ä¼šè¢«åŠ è½½å…¥å†…å­˜ï¼Œæ“ä½œç³»ç»Ÿç»™è¿™ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ª IDï¼Œç§°ä¸º PIDï¼ˆè¿›ç¨‹ IDï¼‰ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰å¯ä»¥æ‰§è¡Œçš„ç¨‹åºä¸å‘½ä»¤éƒ½ä¼šäº§ç”Ÿè¿›ç¨‹ã€‚åªæ˜¯æœ‰äº›ç¨‹åºå’Œå‘½ä»¤éå¸¸ç®€å•ï¼Œå¦‚ ls å‘½ä»¤ã€touch å‘½ä»¤ç­‰ï¼Œå®ƒä»¬åœ¨æ‰§è¡Œå®Œåå°±ä¼šç»“æŸï¼Œç›¸åº”çš„è¿›ç¨‹ä¹Ÿå°±ä¼šç»ˆç»“ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆéš¾æ•æ‰åˆ°è¿™äº›è¿›ç¨‹ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€äº›ç¨‹å’Œå‘½ä»¤ï¼Œæ¯”å¦‚ httpd è¿›ç¨‹ï¼Œå¯åŠ¨ä¹‹åå°±ä¼šä¸€ç›´é©»ç•™åœ¨ç³»ç»Ÿå½“ä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„è¿›ç¨‹ç§°ä½œå¸¸é©»å†…å­˜è¿›ç¨‹ã€‚</p><p>æŸäº›è¿›ç¨‹ä¼šäº§ç”Ÿä¸€äº›æ–°çš„è¿›ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™äº›è¿›ç¨‹ç§°ä½œå­è¿›ç¨‹ï¼Œè€ŒæŠŠè¿™ä¸ªè¿›ç¨‹æœ¬èº«ç§°ä½œçˆ¶è¿›ç¨‹ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¿…é¡»æ­£å¸¸ç™»å½•åˆ° Shell ç¯å¢ƒä¸­æ‰èƒ½æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œ Linux çš„æ ‡å‡† Shell æ˜¯ bashã€‚æˆ‘ä»¬åœ¨ bash å½“ä¸­æ‰§è¡Œäº† ls å‘½ä»¤ï¼Œé‚£ä¹ˆ bash å°±æ˜¯çˆ¶è¿›ç¨‹ï¼Œè€Œ ls å‘½ä»¤æ˜¯åœ¨ bash è¿›ç¨‹ä¸­äº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ‰€ä»¥ ls è¿›ç¨‹æ˜¯ bash è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­è¿›ç¨‹æ˜¯ä¾èµ–çˆ¶è¿›ç¨‹è€Œäº§ç”Ÿçš„ï¼Œå¦‚æœçˆ¶è¿›ç¨‹ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå­è¿›ç¨‹ä¹Ÿä¸å­˜åœ¨äº†ã€‚</p></li><li><p><strong>è¿›ç¨‹ç®¡ç†çš„ä½œç”¨</strong></p><p>åœ¨ä½¿ç”¨ Windows ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ä¸ºäº†å¼ºåˆ¶å…³é—­â€œæœªååº”â€çš„è½¯ä»¶ï¼Œä¹Ÿå°±æ˜¯æ€æ­»è¿›ç¨‹ã€‚çš„ç¡®ï¼Œè¿™æ˜¯å¾ˆå¤šä½¿ç”¨è¿›ç¨‹ç®¡ç†å·¥å…·æˆ–è¿›ç¨‹ç®¡ç†å‘½ä»¤çš„äººæœ€å¸¸è§çš„ä½¿ç”¨æ–¹æ³•ã€‚ä¸è¿‡ï¼Œæ€æ­»è¿›ç¨‹ï¼ˆå¼ºåˆ¶ä¸­æ­¢è¿›ç¨‹ï¼‰åªæ˜¯è¿›ç¨‹ç®¡ç†å·¥ä½œä¸­æœ€ä¸å¸¸ç”¨çš„æ‰‹æ®µï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±æ­£ç¡®çš„ç»“æŸæ–¹æ³•ï¼Œè€Œæ€æ­»è¿›ç¨‹æ˜¯åœ¨æ­£å¸¸æ–¹æ³•å·²ç»å¤±æ•ˆçš„æƒ…å†µä¸‹çš„åå¤‡æ‰‹æ®µã€‚</p><p>è¿›ç¨‹ç®¡ç†ä¸»è¦æœ‰ä»¥ä¸‹ 3 ä¸ªä½œç”¨ï¼š</p><ol><li><p>åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶æ€</p><p>è¿ç»´å·¥ç¨‹å¸ˆæœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯ä¿è¯æœåŠ¡å™¨å®‰å…¨ã€ç¨³å®šåœ°è¿è¡Œã€‚ç†æƒ³çš„çŠ¶æ€æ˜¯ï¼Œåœ¨æœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰é€ æˆæœåŠ¡å™¨å®•æœºæˆ–åœæ­¢æœåŠ¡æ—¶ï¼Œå°±äººä¸ºå¹²é¢„è§£å†³äº†é—®é¢˜ã€‚</p><p>è¿›ç¨‹ç®¡ç†æœ€ä¸»è¦çš„å·¥ä½œå°±æ˜¯åˆ¤æ–­æœåŠ¡å™¨å½“å‰è¿è¡Œæ˜¯å¦å¥åº·ï¼Œæ˜¯å¦éœ€è¦äººä¸ºå¹²é¢„ã€‚å¦‚æœæœåŠ¡å™¨çš„ CPU å ç”¨ç‡ã€å†…å­˜å ç”¨ç‡è¿‡é«˜ï¼Œå°±éœ€è¦äººä¸ºä»‹å…¥è§£å†³é—®é¢˜äº†ã€‚è¿™åˆå‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å‘ç°æœåŠ¡å™¨çš„ CPU æˆ–å†…å­˜å ç”¨ç‡å¾ˆé«˜ï¼Œè¯¥å¦‚ä½•ä»‹å…¥å‘¢ï¼Ÿæ˜¯ç›´æ¥ç»ˆæ­¢é«˜è´Ÿè½½çš„è¿›ç¨‹å—ï¼Ÿ</p><p>å½“ç„¶ä¸æ˜¯ï¼Œåº”è¯¥åˆ¤æ–­è¿™ä¸ªè¿›ç¨‹æ˜¯å¦æ˜¯æ­£å¸¸è¿›ç¨‹ï¼Œå¦‚æœæ˜¯æ­£å¸¸è¿›ç¨‹ï¼Œåˆ™è¯´æ˜ä½ çš„æœåŠ¡å™¨å·²ç»ä¸èƒ½æ»¡è¶³åº”ç”¨éœ€æ±‚ï¼Œä½ éœ€è¦æ›´å¥½çš„ç¡¬ä»¶æˆ–æ­å»ºé›†ç¾¤äº†ï¼›å¦‚æœæ˜¯éæ³•è¿›ç¨‹å ç”¨äº†ç³»ç»Ÿèµ„æºï¼Œåˆ™æ›´ä¸èƒ½ç›´æ¥ä¸­æ­¢è¿›ç¨‹ï¼Œè€Œè¦åˆ¤æ–­éæ³•è¿›ç¨‹çš„æ¥æºã€ä½œç”¨å’Œæ‰€åœ¨ä½ç½®ï¼Œä»è€ŒæŠŠå®ƒå½»åº•æ¸…é™¤ã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœæœåŠ¡å™¨æ•°é‡å¾ˆå°‘ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥äººä¸ºé€šè¿‡è¿›ç¨‹ç®¡ç†å‘½ä»¤æ¥è¿›è¡Œç›‘æ§ä¸å¹²é¢„ï¼Œä½†å¦‚æœæœåŠ¡å™¨æ•°é‡è¾ƒå¤šï¼Œé‚£ä¹ˆäººä¸ºæ‰‹å·¥ç›‘æ§å°±å˜å¾—éå¸¸å›°éš¾äº†ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ç›¸åº”çš„ç›‘æ§æœåŠ¡ï¼Œå¦‚ cacti æˆ– nagiosã€‚æ€»ä¹‹ï¼Œè¿›ç¨‹ç®¡ç†å·¥ä½œä¸­æœ€é‡è¦çš„å·¥ä½œå°±æ˜¯åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶ æ€ï¼Œæœ€ç†æƒ³çš„çŠ¶æ€æ˜¯æœåŠ¡å™¨å®•æœºä¹‹å‰å°±è§£å†³é—®é¢˜ï¼Œä»è€Œé¿å…æœåŠ¡å™¨çš„å®•æœºã€‚</p></li><li><p>æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹</p><p>æˆ‘ä»¬éœ€è¦æŸ¥çœ‹çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œé€šè¿‡è¿™äº›è¿›ç¨‹å¯ä»¥åˆ¤æ–­ç³»ç»Ÿä¸­è¿è¡Œäº†å“ªäº›æœåŠ¡ã€æ˜¯å¦æœ‰éæ³•æœåŠ¡åœ¨è¿è¡Œã€‚</p></li><li><p>æ€æ­»è¿›ç¨‹</p><p>è¿™æ˜¯è¿›ç¨‹ç®¡ç†ä¸­æœ€ä¸å¸¸ç”¨çš„æ‰‹æ®µã€‚å½“éœ€è¦åœæ­¢æœåŠ¡æ—¶ï¼Œä¼šé€šè¿‡æ­£ç¡®å…³é—­å‘½ä»¤æ¥åœæ­¢æœåŠ¡ï¼ˆå¦‚ apache æœåŠ¡å¯ä»¥é€šè¿‡ service httpd stop å‘½ä»¤æ¥å…³é—­ï¼‰ã€‚åªæœ‰åœ¨æ­£ç¡®ç»ˆæ­¢è¿›ç¨‹çš„æ‰‹æ®µå¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šè€ƒè™‘ä½¿ç”¨ kill å‘½ä»¤æ€æ­»è¿›ç¨‹ã€‚</p><p>å…¶å®ï¼Œè¿›ç¨‹ç®¡ç†å’Œ Windows ä¸­ä»»åŠ¡ç®¡ç†å™¨çš„ä½œç”¨éå¸¸ç±»ä¼¼ï¼Œä¸è¿‡å¤§å®¶åœ¨ä½¿ç”¨ä»»åŠ¡ç®¡ç†å™¨æ—¶æ˜¯ä¸ºäº†æ€æ­»è¿›ç¨‹ï¼Œè€Œä¸æ˜¯ä¸ºäº†åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶æ€ã€‚</p></li></ol></li></ul><h4 id="8-10-2-ps-æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹">8.10.2 ps æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server0 ~]# ps [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><p>ps å‘½ä»¤æœ‰äº›ä¸ä¼—ä¸åŒï¼Œå®ƒçš„éƒ¨åˆ†é€‰é¡¹ä¸èƒ½åŠ å…¥&quot;-â€œï¼Œæ¯”å¦‚å‘½ä»¤&quot;ps auxâ€ï¼Œå…¶ä¸­&quot;aux&quot;æ˜¯é€‰é¡¹ï¼Œä½†æ˜¯å‰é¢ä¸èƒ½å¸¦â€œ-â€ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps aux</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œä½¿ç”¨ BS æ“ä½œç³»ç»Ÿæ ¼å¼</span></span><br><span class="line">[root@localhost ~]# ps -l</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å½“å‰ç™»å½•äº§ç”Ÿçš„è¿›ç¨‹</span></span><br><span class="line">[root@localhost ~]# ps -le</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œä½¿ç”¨ Linux æ ‡å‡†å‘½ä»¤æ ¼å¼</span></span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>a</td><td>æ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé™¤ä¼šè¯å¼•çº¿å¤–ï¼›</td></tr><tr><td>u</td><td>æ˜¾ç¤ºè¿›ç¨‹çš„å½’å±ç”¨æˆ·åŠå†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼›</td></tr><tr><td>x</td><td>æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼›</td></tr><tr><td>-l</td><td>é•¿æ ¼å¼æ˜¾ç¤ºæ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼›</td></tr><tr><td>-e</td><td>æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼›</td></tr><tr><td>-f</td><td>æŸ¥çœ‹å­çˆ¶è¿›ç¨‹çš„å…³ç³»ï¼›</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p><code>aux</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps aux</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹</span></span><br><span class="line">USER PID %CPU %MEM  VSZ  RSS   TTY STAT START TIME COMMAND</span><br><span class="line">root   1  0.0  0.2 2872 1416   ?   Ss   Jun04 0:02 /sbin/init</span><br><span class="line">root   2  0.0  0.0    0    0   ?    S   Jun04 0:00 [kthreadd]</span><br><span class="line">root   3  0.0  0.0    0    0   ?    S   Jun04 0:00 [migration/0]</span><br><span class="line">root   4  0.0  0.0    0    0   ?    S   Jun04 0:00 [ksoftirqd/0]</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure><table><thead><tr><th>è¡¨å¤´</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>USER</td><td>è¯¥è¿›ç¨‹æ˜¯ç”±å“ªä¸ªç”¨æˆ·äº§ç”Ÿçš„ã€‚</td></tr><tr><td>PID</td><td>è¿›ç¨‹çš„ IDã€‚</td></tr><tr><td>%CPU</td><td>è¯¥è¿›ç¨‹å ç”¨ CPU èµ„æºçš„ç™¾åˆ†æ¯”ï¼Œå ç”¨çš„ç™¾åˆ†æ¯”è¶Šé«˜ï¼Œè¿›ç¨‹è¶Šè€—è´¹èµ„æºã€‚</td></tr><tr><td>%MEM</td><td>è¯¥è¿›ç¨‹å ç”¨ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”ï¼Œå ç”¨çš„ç™¾åˆ†æ¯”è¶Šé«˜ï¼Œè¿›ç¨‹è¶Šè€—è´¹èµ„æºã€‚</td></tr><tr><td>VSZ</td><td>è¯¥è¿›ç¨‹å ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</td></tr><tr><td>RSS</td><td>è¯¥è¿›ç¨‹å ç”¨å®é™…ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</td></tr><tr><td>TTY</td><td>è¯¥è¿›ç¨‹æ˜¯åœ¨å“ªä¸ªç»ˆç«¯è¿è¡Œçš„ã€‚å…¶ä¸­ï¼Œtty1 ~ tty7 ä»£è¡¨æœ¬åœ°æ§åˆ¶å°ç»ˆç«¯ï¼ˆå¯ä»¥é€šè¿‡ Alt+F1 ~ F7 å¿«æ·é”®åˆ‡æ¢ä¸åŒçš„ç»ˆç«¯ï¼‰ï¼Œtty1~tty6 æ˜¯æœ¬åœ°çš„å­—ç¬¦ç•Œé¢ç»ˆç«¯ï¼Œtty7 æ˜¯å›¾å½¢ç»ˆç«¯ã€‚pts/0 ~ 255 ä»£è¡¨è™šæ‹Ÿç»ˆç«¯ï¼Œä¸€èˆ¬æ˜¯è¿œç¨‹è¿æ¥çš„ç»ˆç«¯ï¼Œç¬¬ä¸€ä¸ªè¿œç¨‹è¿æ¥å ç”¨ pts/0ï¼Œç¬¬äºŒä¸ªè¿œç¨‹è¿æ¥å ç”¨ pts/1ï¼Œä¾æ¬¡å¢—é•¿ã€‚</td></tr><tr><td>STAT</td><td>è¿›ç¨‹çŠ¶æ€ã€‚å¸¸è§çš„çŠ¶æ€æœ‰ä»¥ä¸‹å‡ ç§ï¼š-Dï¼šä¸å¯è¢«å”¤é†’çš„ç¡çœ çŠ¶æ€ï¼Œé€šå¸¸ç”¨äº I/O æƒ…å†µã€‚-Rï¼šè¯¥è¿›ç¨‹æ­£åœ¨è¿è¡Œã€‚-Sï¼šè¯¥è¿›ç¨‹å¤„äºç¡çœ çŠ¶æ€ï¼Œå¯è¢«å”¤é†’ã€‚-Tï¼šåœæ­¢çŠ¶æ€ï¼Œå¯èƒ½æ˜¯åœ¨åå°æš‚åœæˆ–è¿›ç¨‹å¤„äºé™¤é”™çŠ¶æ€ã€‚-Wï¼šå†…å­˜äº¤äº’çŠ¶æ€ï¼ˆä» 2.6 å†…æ ¸å¼€å§‹æ— æ•ˆï¼‰ã€‚-Xï¼šæ­»æ‰çš„è¿›ç¨‹ï¼ˆåº”è¯¥ä¸ä¼šå‡ºç°ï¼‰ã€‚-Zï¼šåƒµå°¸è¿›ç¨‹ã€‚è¿›ç¨‹å·²ç»ä¸­æ­¢ï¼Œä½†æ˜¯éƒ¨åˆ†ç¨‹åºè¿˜åœ¨å†…å­˜å½“ä¸­ã€‚-&lt;ï¼šé«˜ä¼˜å…ˆçº§ï¼ˆä»¥ä¸‹çŠ¶æ€åœ¨ BSD æ ¼å¼ä¸­å‡ºç°ï¼‰ã€‚-Nï¼šä½ä¼˜å…ˆçº§ã€‚-Lï¼šè¢«é”å…¥å†…å­˜ã€‚-sï¼šåŒ…å«å­è¿›ç¨‹ã€‚-lï¼šå¤šçº¿ç¨‹ï¼ˆå°å†™ Lï¼‰ã€‚-+ï¼šä½äºåå°ã€‚</td></tr><tr><td>START</td><td>è¯¥è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ã€‚</td></tr><tr><td>TIME</td><td>è¯¥è¿›ç¨‹å ç”¨ CPU çš„è¿ç®—æ—¶é—´ï¼Œæ³¨æ„ä¸æ˜¯ç³»ç»Ÿæ—¶é—´ã€‚</td></tr><tr><td>COMMAND</td><td>äº§ç”Ÿæ­¤è¿›ç¨‹çš„å‘½ä»¤åã€‚</td></tr></tbody></table></li><li><p><code>-le</code></p><p>&quot;ps aux&quot;å‘½ä»¤å¯ä»¥çœ‹åˆ°ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œ&quot;ps -le&quot;å‘½ä»¤ä¹Ÿèƒ½çœ‹åˆ°ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚ç”±äº â€œ-lâ€ é€‰é¡¹çš„ä½œç”¨ï¼Œæ‰€ä»¥ â€œps -leâ€ å‘½ä»¤èƒ½å¤Ÿçœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚çˆ¶è¿›ç¨‹çš„ PIDã€ä¼˜å…ˆçº§ç­‰ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ªå‘½ä»¤çš„åŸºæœ¬ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼ŒæŒæ¡å…¶ä¸­ä¸€ä¸ªå°±è¶³å¤Ÿäº†ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps -le</span><br><span class="line">F S UID PID PPID C  PRI Nl ADDR  SZ WCHAN TTY      TIME  CMD</span><br><span class="line">4 S   0   1    0 0  80   0 -    718 -     ?    00:00:02  init</span><br><span class="line">1 S   0   2    0 0  80   0 -      0 -     ?    00:00:00  kthreadd</span><br><span class="line">1 S   0   3    2 0 -40   - -      0 -     ?    00:00:00  migration/0</span><br><span class="line">1 S   0   4    2 0  80   0 -      0 -     ?    00:00:00  ksoflirqd/0</span><br><span class="line">1 S   0   5    2 0 -40   - -      0 -     ?    00:00:00  migration/0</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure><table><thead><tr><th>è¡¨å¤´</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>F</td><td>è¿›ç¨‹æ ‡å¿—ï¼Œè¯´æ˜è¿›ç¨‹çš„æƒé™ï¼Œå¸¸è§çš„æ ‡å¿—æœ‰ä¸¤ä¸ª: 1ï¼šè¿›ç¨‹å¯ä»¥è¢«å¤åˆ¶ï¼Œä½†æ˜¯ä¸èƒ½è¢«æ‰§è¡Œï¼›4ï¼šè¿›ç¨‹ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼›</td></tr><tr><td>S</td><td>è¿›ç¨‹çŠ¶æ€ã€‚å…·ä½“çš„çŠ¶æ€å’Œ&quot;psaux&quot;å‘½ä»¤ä¸­çš„ STAT çŠ¶æ€ä¸€è‡´ï¼›</td></tr><tr><td>UID</td><td>è¿è¡Œæ­¤è¿›ç¨‹çš„ç”¨æˆ·çš„ IDï¼›</td></tr><tr><td>PID</td><td>è¿›ç¨‹çš„ IDï¼›</td></tr><tr><td>PPID</td><td>çˆ¶è¿›ç¨‹çš„ IDï¼›</td></tr><tr><td>C</td><td>è¯¥è¿›ç¨‹çš„ CPU ä½¿ç”¨ç‡ï¼Œå•ä½æ˜¯ç™¾åˆ†æ¯”ï¼›</td></tr><tr><td>PRI</td><td>è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œè¯¥è¿›ç¨‹çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šæ—©è¢« CPU æ‰§è¡Œï¼›</td></tr><tr><td>NI</td><td>è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œè¯¥è¿›ç¨‹è¶Šæ—©è¢«æ‰§è¡Œï¼›</td></tr><tr><td>ADDR</td><td>è¯¥è¿›ç¨‹åœ¨å†…å­˜çš„å“ªä¸ªä½ç½®ï¼›</td></tr><tr><td>SZ</td><td>è¯¥è¿›ç¨‹å ç”¨å¤šå¤§å†…å­˜ï¼›</td></tr><tr><td>WCHAN</td><td>è¯¥è¿›ç¨‹æ˜¯å¦è¿è¡Œã€‚&quot;-&quot;ä»£è¡¨æ­£åœ¨è¿è¡Œï¼›</td></tr><tr><td>TTY</td><td>è¯¥è¿›ç¨‹ç”±å“ªä¸ªç»ˆç«¯äº§ç”Ÿï¼›</td></tr><tr><td>TIME</td><td>è¯¥è¿›ç¨‹å ç”¨ CPU çš„è¿ç®—æ—¶é—´ï¼Œæ³¨æ„ä¸æ˜¯ç³»ç»Ÿæ—¶é—´ï¼›</td></tr><tr><td>CMD</td><td>äº§ç”Ÿæ­¤è¿›ç¨‹çš„å‘½ä»¤åï¼›</td></tr></tbody></table></li></ol></li></ul><h4 id="8-10-3-top-æŒç»­ç›‘å¬è¿›ç¨‹è¿è¡ŒçŠ¶æ€">8.10.3 top æŒç»­ç›‘å¬è¿›ç¨‹è¿è¡ŒçŠ¶æ€</h4><p>top å‘½ä»¤å¯ä»¥åŠ¨æ€åœ°æŒç»­ç›‘å¬è¿›ç¨‹åœ°è¿è¡ŒçŠ¶æ€ï¼Œä¸æ­¤åŒæ—¶ï¼Œè¯¥å‘½ä»¤è¿˜æä¾›äº†ä¸€ä¸ªäº¤äº’ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦ï¼Œäººæ€§åŒ–åœ°å®šåˆ¶è‡ªå·±çš„è¾“å‡ºï¼Œè¿›è€Œæ›´æ¸…æ¥šåœ°äº†è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# top [é€‰é¡¹]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-d ç§’æ•°</td><td>æŒ‡å®š top å‘½ä»¤æ¯éš”å‡ ç§’æ›´æ–°ã€‚é»˜è®¤æ˜¯ 3 ç§’ï¼›</td></tr><tr><td>-b</td><td>ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼è¾“å‡ºã€‚ä¸€èˆ¬å’Œ&quot;-n&quot;é€‰é¡¹åˆç”¨ï¼Œç”¨äºæŠŠ top å‘½ä»¤é‡å®šå‘åˆ°æ–‡ä»¶ä¸­ï¼›</td></tr><tr><td>-n æ¬¡æ•°</td><td>æŒ‡å®š top å‘½ä»¤æ‰§è¡Œçš„æ¬¡æ•°ã€‚ä¸€èˆ¬å’Œ&quot;-&quot;é€‰é¡¹åˆç”¨ï¼›</td></tr><tr><td>-p è¿›ç¨‹PID</td><td>ä»…æŸ¥çœ‹æŒ‡å®š ID çš„è¿›ç¨‹ï¼›</td></tr><tr><td>-s</td><td>ä½¿ top å‘½ä»¤åœ¨å®‰å…¨æ¨¡å¼ä¸­è¿è¡Œï¼Œé¿å…åœ¨äº¤äº’æ¨¡å¼ä¸­å‡ºç°é”™è¯¯ï¼›</td></tr><tr><td>-u ç”¨æˆ·å</td><td>åªç›‘å¬æŸä¸ªç”¨æˆ·çš„è¿›ç¨‹ï¼›</td></tr></tbody></table></li><li><p>äº¤äº’å‘½ä»¤</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>?ï¼šh</td><td>æ˜¾ç¤ºäº¤äº’æ¨¡å¼çš„å¸®åŠ©ï¼›</td></tr><tr><td>P</td><td>æŒ‰ç…§ CPU çš„ä½¿ç”¨ç‡æ’åºï¼Œé»˜è®¤å°±æ˜¯æ­¤é€‰é¡¹ï¼›</td></tr><tr><td>M</td><td>æŒ‰ç…§å†…å­˜çš„ä½¿ç”¨ç‡æ’åºï¼›</td></tr><tr><td>N</td><td>æŒ‰ç…§ PID æ’åºï¼›</td></tr><tr><td>T</td><td>æŒ‰ç…§ CPU çš„ç´¯ç§¯è¿ç®—æ—¶é—´æ’åºï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ TIME+ é¡¹æ’åºï¼›</td></tr><tr><td>k</td><td>æŒ‰ç…§ PID ç»™äºˆæŸä¸ªè¿›ç¨‹ä¸€ä¸ªä¿¡å·ã€‚ä¸€èˆ¬ç”¨äºä¸­æ­¢æŸä¸ªè¿›ç¨‹ï¼Œä¿¡å· 9 æ˜¯å¼ºåˆ¶ä¸­æ­¢çš„ä¿¡å·ï¼›</td></tr><tr><td>r</td><td>æŒ‰ç…§ PID ç»™æŸä¸ªè¿›ç¨‹é‡è®¾ä¼˜å…ˆçº§ï¼ˆNiceï¼‰å€¼ï¼›</td></tr><tr><td>q</td><td>é€€å‡º top å‘½ä»¤ï¼›</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>top å‘½ä»¤çš„æ‰§è¡Œç»“æœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# top</span><br><span class="line">top - 12:26:46 up 1 day, 13:32, 2 users, load average: 0.00, 0.00, 0.00</span><br><span class="line">Tasks: 95 total, 1 running, 94 sleeping, 0 stopped, 0 zombie</span><br><span class="line">Cpu(s): 0.1%us, 0.1%sy, 0.0%ni, 99.7%id, 0.1%wa, 0.0%hi, 0.1%si, 0.0%st</span><br><span class="line">Mem: 625344k total, 571504k used, 53840k free, 65800k buffers</span><br><span class="line">Swap: 524280k total, 0k used, 524280k free, 409280k cached</span><br><span class="line">PID   USER PR NI VIRT  RES  SHR S %CPU %MEM   TIME+ COMMAND</span><br><span class="line">19002 root 20  0 2656 1068  856 R  0.3  0.2 0:01.87 top</span><br><span class="line">1     root 20  0 2872 1416 1200 S  0.0  0.2 0:02.55 init</span><br><span class="line">2     root 20  0    0    0    0 S  0.0  0.0 0:00.03 kthreadd</span><br><span class="line">3     root RT  0    0    0    0 S  0.0  0.0 0:00.00 migration/0</span><br><span class="line">4     root 20  0    0    0    0 S  0.0  0.0 0:00.15 ksoftirqd/0</span><br><span class="line">5     root RT  0    0    0    0 S  0.0  0.0 0:00.00 migration/0</span><br><span class="line">6     root RT  0    0    0    0 S  0.0  0.0 0:10.01 watchdog/0</span><br><span class="line">7     root 20  0    0    0    0 S  0.0  0.0 0:05.01 events/0</span><br><span class="line">8     root 20  0    0    0    0 S  0.0  0.0 0:00.00 cgroup</span><br><span class="line">9     root 20  0    0    0    0 S  0.0  0.0 0:00.00 khelper</span><br><span class="line">10    root 20  0    0    0    0 S  0.0  0.0 0:00.00 netns</span><br><span class="line">11    root 20  0    0    0    0 S  0.0  0.0 0:00.00 async/mgr</span><br><span class="line">12    root 20  0    0    0    0 S  0.0  0.0 0:00.00 pm</span><br><span class="line">13    root 20  0    0    0    0 S  0.0  0.0 0:01.70 sync_supers</span><br><span class="line">14    root 20  0    0    0    0 S  0.0  0.0 0:00.63 bdi-default</span><br><span class="line">15    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kintegrityd/0</span><br><span class="line">16    root 20  0    0    0    0 S  0.0  0.0 0:02.52 kblockd/0</span><br><span class="line">17    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kacpid</span><br><span class="line">18    root 20  0    0    0    0 S  0.0  0.0 0:00.00 kacpi_notify</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è§£é‡Šä¸€ä¸‹å‘½ä»¤çš„è¾“å‡ºã€‚top å‘½ä»¤çš„è¾“å‡ºå†…å®¹æ˜¯åŠ¨æ€çš„ï¼Œé»˜è®¤æ¯éš” 3 ç§’åˆ·æ–°ä¸€æ¬¡ã€‚å‘½ä»¤çš„è¾“å‡ºä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p><ol><li><p>ç¬¬ä¸€éƒ¨åˆ†æ˜¯å‰äº”è¡Œï¼ˆæ˜¾ç¤ºçš„æ˜¯æ•´ä¸ªç³»ç»Ÿçš„èµ„æºä½¿ç”¨çŠ¶å†µï¼Œæˆ‘ä»¬å°±æ˜¯é€šè¿‡è¿™äº›è¾“å‡ºæ¥åˆ¤æ–­æœåŠ¡å™¨çš„èµ„æºä½¿ç”¨çŠ¶æ€çš„ï¼‰</p><p>1.1 ç¬¬ä¸€è¡Œä¸ºä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯</p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>12:26:46</td><td>ç³»ç»Ÿå½“å‰æ—¶é—´</td></tr><tr><td>up 1 day, 13:32</td><td>ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´.æœ¬æœºå·±ç»è¿è¡Œ 1 å¤© 13 å°æ—¶ 32 åˆ†é’Ÿ</td></tr><tr><td>2 users</td><td>å½“å‰ç™»å½•äº†ä¸¤ä¸ªç”¨æˆ·</td></tr><tr><td>load average: 0.00,0.00ï¼Œ0.00</td><td>ç³»ç»Ÿåœ¨ä¹‹å‰ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚å¦‚æœ CPU æ˜¯å•æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 1 å°±æ˜¯é«˜è´Ÿè½½ï¼šå¦‚æœ CPU æ˜¯å››æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 4 å°±æ˜¯é«˜è´Ÿè½½ ï¼ˆè¿™ä¸ªå¹³å‡è´Ÿè½½å®Œå…¨æ˜¯ä¾æ®ä¸ªäººç»éªŒæ¥è¿›è¡Œåˆ¤æ–­çš„ï¼Œä¸€èˆ¬è®¤ä¸ºä¸åº”è¯¥è¶…è¿‡æœåŠ¡å™¨ CPU çš„æ ¸æ•°ï¼‰</td></tr></tbody></table><p>1.2 ç¬¬äºŒè¡Œä¸ºè¿›ç¨‹ä¿¡æ¯</p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Tasks: 95 total</td><td>ç³»ç»Ÿä¸­çš„è¿›ç¨‹æ€»æ•°</td></tr><tr><td>1 running</td><td>æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°</td></tr><tr><td>94 sleeping</td><td>ç¡çœ çš„è¿›ç¨‹æ•°</td></tr><tr><td>0 stopped</td><td>æ­£åœ¨åœæ­¢çš„è¿›ç¨‹æ•°</td></tr><tr><td>0 zombie</td><td>åƒµå°¸è¿›ç¨‹æ•°ã€‚å¦‚æœä¸æ˜¯ 0ï¼Œåˆ™éœ€è¦æ‰‹å·¥æ£€æŸ¥åƒµå°¸è¿›ç¨‹</td></tr></tbody></table><p>1.3 ç¬¬ä¸‰è¡Œä¸º CPU ä¿¡æ¯</p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Cpu(s): 0.1 %us</td><td>ç”¨æˆ·æ¨¡å¼å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%sy</td><td>ç³»ç»Ÿæ¨¡å¼å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%ni</td><td>æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„ç”¨æˆ·è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>99.7%id</td><td>ç©ºé—² CPU å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%wa</td><td>ç­‰å¾…è¾“å…¥/è¾“å‡ºçš„è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%hi</td><td>ç¡¬ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.1%si</td><td>è½¯ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td>0.0%st</td><td>stï¼ˆsteal timeï¼‰æ„ä¸ºè™šæ‹Ÿæ—¶é—´ç™¾åˆ†æ¯”ï¼Œå°±æ˜¯å½“æœ‰è™šæ‹Ÿæœºæ—¶ï¼Œè™šæ‹Ÿ CPU ç­‰å¾…å®é™… CPU çš„æ—¶é—´ç™¾åˆ†æ¯”</td></tr></tbody></table><p>1.4 ç¬¬å››è¡Œä¸ºç‰©ç†å†…å­˜ä¿¡æ¯</p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Mem: 625344k total</td><td>ç‰©ç†å†…å­˜çš„æ€»é‡ï¼Œå•ä½ä¸ºKB</td></tr><tr><td>571504k used</td><td>å·±ç»ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ•°é‡</td></tr><tr><td>53840k&amp;ee</td><td>ç©ºé—²çš„ç‰©ç†å†…å­˜æ•°é‡ã€‚æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œå…±åˆ†é…äº† 628MBå†…å­˜ï¼Œæ‰€ä»¥åªæœ‰53MBçš„ç©ºé—²å†…å­˜</td></tr><tr><td>65800k buffers</td><td>ä½œä¸ºç¼“å†²çš„å†…å­˜æ•°é‡</td></tr></tbody></table><p>1.5 ç¬¬äº”è¡Œä¸ºäº¤æ¢åˆ†åŒºï¼ˆswapï¼‰ä¿¡æ¯</p><table><thead><tr><th>å†… å®¹</th><th>è¯´ æ˜</th></tr></thead><tbody><tr><td>Swap: 524280k total</td><td>äº¤æ¢åˆ†åŒºï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰çš„æ€»å¤§å°</td></tr><tr><td>Ok used</td><td>å·²ç»ä½¿ç”¨çš„äº¤æ¢åˆ†åŒºçš„å¤§å°</td></tr><tr><td>524280k free</td><td>ç©ºé—²äº¤æ¢åˆ†åŒºçš„å¤§å°</td></tr><tr><td>409280k cached</td><td>ä½œä¸ºç¼“å­˜çš„äº¤æ¢åˆ†åŒºçš„å¤§å°</td></tr></tbody></table><p>æˆ‘ä»¬é€šè¿‡ top å‘½ä»¤çš„ç¬¬ä¸€éƒ¨åˆ†å°±å¯ä»¥åˆ¤æ–­æœåŠ¡å™¨çš„å¥åº·çŠ¶æ€ã€‚å¦‚æœ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½é«˜äº 1ï¼Œåˆ™è¯æ˜ç³»ç»Ÿå‹åŠ›è¾ƒå¤§ã€‚å¦‚æœ CPU çš„ä½¿ç”¨ç‡è¿‡é«˜æˆ–ç©ºé—²ç‡è¿‡ä½ï¼Œåˆ™è¯æ˜ç³»ç»Ÿå‹åŠ›è¾ƒå¤§ã€‚å¦‚æœç‰©ç†å†…å­˜çš„ç©ºé—²å†…å­˜è¿‡å°ï¼Œåˆ™ä¹Ÿè¯æ˜ç³»ç»Ÿå‹åŠ›è¾ƒå¤§ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±åº”è¯¥åˆ¤æ–­æ˜¯ä»€ä¹ˆè¿›ç¨‹å ç”¨äº†ç³»ç»Ÿèµ„æºã€‚å¦‚æœæ˜¯ä¸å¿…è¦çš„è¿›ç¨‹ï¼Œå°±åº”è¯¥ç»“æŸè¿™äº›è¿›ç¨‹ï¼›å¦‚æœæ˜¯å¿…éœ€è¿›ç¨‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¢—åŠ æœåŠ¡å™¨èµ„æºï¼ˆæ¯”å¦‚å¢—åŠ è™šæ‹Ÿæœºå†…å­˜ï¼‰ï¼Œæˆ–è€…å»ºç«‹é›†ç¾¤æœåŠ¡å™¨ã€‚</p><p>&lt;----&gt;</p><p>è§£é‡Šä¸€ä¸‹ç¼“å†²ï¼ˆbufferï¼‰å’Œç¼“å­˜ï¼ˆcacheï¼‰çš„åŒºåˆ«ï¼š<font style="color:red;">ï¼ˆç¼“å­˜ï¼ˆcacheï¼‰æ˜¯ç”¨æ¥åŠ é€Ÿæ•°æ®ä»ç¡¬ç›˜ä¸­&quot;è¯»å–&quot;çš„ï¼Œè€Œç¼“å†²ï¼ˆbufferï¼‰æ˜¯ç”¨æ¥åŠ é€Ÿæ•°æ®&quot;å†™å…¥&quot;ç¡¬ç›˜çš„ï¼‰</font></p><ul><li>ç¼“å­˜ï¼ˆcacheï¼‰æ˜¯åœ¨è¯»å–ç¡¬ç›˜ä¸­çš„æ•°æ®æ—¶ï¼ŒæŠŠæœ€å¸¸ç”¨çš„æ•°æ®ä¿å­˜åœ¨å†…å­˜çš„ç¼“å­˜åŒºä¸­ï¼Œå†æ¬¡è¯»å–è¯¥æ•°æ®æ—¶ï¼Œå°±ä¸å»ç¡¬ç›˜ä¸­è¯»å–äº†ï¼Œè€Œåœ¨ç¼“å­˜ä¸­è¯»å–ã€‚</li><li>ç¼“å†²ï¼ˆbufferï¼‰æ˜¯åœ¨å‘ç¡¬ç›˜å†™å…¥æ•°æ®æ—¶ï¼Œå…ˆæŠŠæ•°æ®æ”¾å…¥ç¼“å†²åŒº,ç„¶åå†ä¸€èµ·å‘ç¡¬ç›˜å†™å…¥ï¼ŒæŠŠåˆ†æ•£çš„å†™æ“ä½œé›†ä¸­è¿›è¡Œï¼Œå‡å°‘ç£ç›˜ç¢ç‰‡å’Œç¡¬ç›˜çš„åå¤å¯»é“ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</li></ul></li><li><p>ç¬¬äºŒéƒ¨åˆ†ä»ç¬¬å…­è¡Œå¼€å§‹ï¼ˆæ˜¾ç¤ºçš„æ˜¯ç³»ç»Ÿä¸­è¿›ç¨‹çš„ä¿¡æ¯ï¼‰</p><ul><li><p>PIDï¼šè¿›ç¨‹çš„ IDã€‚</p></li><li><p>USERï¼šè¯¥è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·ã€‚</p></li><li><p>PRï¼šä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚</p></li><li><p>NIï¼šä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ã€ä¼˜å…ˆçº§è¶Šé«˜ã€‚</p></li><li><p>VIRTï¼šè¯¥è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</p></li><li><p>RESï¼šè¯¥è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚</p></li><li><p>SHRï¼šå…±äº«å†…å­˜å¤§å°ï¼Œå•ä½ä¸º KBã€‚</p></li><li><p>Sï¼šè¿›ç¨‹çŠ¶æ€ã€‚</p></li><li><p>%CPUï¼šè¯¥è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚</p></li><li><p>%MEMï¼šè¯¥è¿›ç¨‹å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”ã€‚</p></li><li><p>TIME+ï¼šè¯¥è¿›ç¨‹å…±å ç”¨çš„ CPU æ—¶é—´ã€‚</p></li><li><p>COMMANDï¼šè¿›ç¨‹çš„å‘½ä»¤åã€‚</p></li></ul></li></ol></li><li><p>top å‘½ä»¤ä¸­æ­¢æŸä¸ªè¿›ç¨‹</p><p>è¿›å…¥äº¤äº’åæŒ‰ <code>k</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# top</span><br><span class="line">top - 14:10:15 up 1 day, 15:15ï¼Œ 3 users, load average: 0.00ï¼Œ0.00, 0.00</span><br><span class="line">Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie</span><br><span class="line">Cpu(s): 0.0%us, 0.0%sy, 0.0%ni,100.0%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st</span><br><span class="line">Mem: 625344k total, 574248k used, 51096k free, 66840k buffers</span><br><span class="line">Swap: 524280k total, Ok used, 524280k free, 409324k cached</span><br><span class="line">PID to kill:15273</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‰<span class="string">&quot;k&quot;</span>é”®ï¼Œä¼šæç¤ºè¾“å…¥è¦æ€æ­»è¿›ç¨‹çš„PID</span></span><br><span class="line">PID     USER PR NI VIRT  RES SHR S %CPU %MEM   TIME+ COMMAND</span><br><span class="line">15273 daemon 20  0 4520 1192 580 S  0.0 0.2  0:00.00 httpd</span><br><span class="line">..çœç•¥éƒ¨åˆ†è¾“å‡º...</span><br></pre></td></tr></table></figure><p>è¾“å…¥è¦ä¸­æ­¢è¿›ç¨‹çš„ PIDï¼Œæ¯”å¦‚è¦ä¸­æ­¢ <code>15273</code> è¿™ä¸ª apache è¿›ç¨‹ï¼Œæ¥ä¸‹æ¥ top å‘½ä»¤æç¤ºæˆ‘ä»¬è¾“å…¥ä¿¡å·ï¼Œä¿¡å· <code>9</code> ä»£è¡¨å¼ºåˆ¶ä¸­æ­¢ï¼Œè¿™æ—¶å°±èƒ½å¤Ÿå¼ºåˆ¶ä¸­æ­¢ 15273 è¿›ç¨‹äº†ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">top - 14:11:42 up 1 day, 15:17ï¼Œ 3 users, load average: 0.00ï¼Œ0.00, 0.00</span><br><span class="line">Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie</span><br><span class="line">Cpu(s): 0.0%us, 0.3%sy, 0.0%ni, 99.7%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st</span><br><span class="line">Mem: 625344k total, 574248k used, 51096k free, 66856k buffers</span><br><span class="line">Swap: 524280k total, 0k used, 524280k free, 409324k cached</span><br><span class="line">Kill PID 15273 with signal [15]:9</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æç¤ºè¾“å…¥ä¿¡å·ï¼Œä¿¡å·9ä»£è¡¨å¼ºåˆ¶ä¸­æ­¢</span></span><br><span class="line">PID     USER PR NI VIRT  RES SHR S %CPU %MEM   TIME+ COMMAND</span><br><span class="line">15273 daemon 20  0 4520 1192 580 S 0.0   0.2 0:00.00 httpd</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure></li><li><p>æ”¹å˜æŸä¸ªè¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå°±è¦åˆ©ç”¨ <code>r</code> äº¤äº’å‘½ä»¤ï¼šéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä¿®æ”¹çš„åªæœ‰ NIï¼ˆNiceï¼‰ çš„ä¼˜å…ˆçº§ï¼Œè€Œä¸èƒ½ä¿®æ”¹ PRï¼ˆPriorityï¼‰ çš„ä¼˜å…ˆçº§ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# top -p 18977</span><br><span class="line">top - 14:17:09 up 1 day, 15:22, 3 users, load average: 0.00ï¼Œ0.00, 0.00</span><br><span class="line">Tasks: 97 total, 1 running, 96 sleeping, 0 stopped, 0 zombie</span><br><span class="line">Cpu(s): 0.3%us, 0.0%sy, 0.0%ni, 99.7%id, 0.0%wa, 0.0%hi, 0.0%si, 0.0%st</span><br><span class="line">Mem: 625344k total, 574124k used, 51220k free, 66896k buffers</span><br><span class="line">Swap: 524280k total, 0k used, 524280k free, 409324k cached</span><br><span class="line">PID to renice:</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å…¥<span class="string">&quot;r&quot;</span>äº¤äº’å‘½ä»¤ä¹‹åï¼Œæç¤ºè¾“å…¥è¦ä¿®æ”¹ä¼˜å…ˆçº§çš„è¿›ç¨‹çš„PID</span></span><br><span class="line">PID   USER PR NI  VIRT  RES SHR  S %CPU %MEM   TIME+ COMMAND</span><br><span class="line">18977 root 20 0  11592 3304 2572 S  0.0 0.5  0:04.37 sshd</span><br></pre></td></tr></table></figure><p>è¾“å…¥ â€œrâ€ äº¤äº’å‘½ä»¤ï¼Œä¼šæç¤ºè¾“å…¥éœ€è¦ä¿®æ”¹ä¼˜å…ˆçº§çš„è¿›ç¨‹çš„ PID:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Renice PID 18977 to value: 10</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å…¥PIDåï¼Œéœ€è¦è¾“å…¥Niceçš„ä¼˜å…ˆçº§å·</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æˆ‘ä»¬æŠŠ18977è¿›ç¨‹çš„ä¼˜å…ˆçº§è°ƒæ•´ä¸º10,å›è½¦åå°±èƒ½çœ‹åˆ°</span></span><br><span class="line">PID   USER PR NI  VIRT  RES SHR  S %CPU %MEM   TIME+ COMMAND</span><br><span class="line">18977 root 30 10 11592 3304 2572 R  0.0 0.5  0:04.38 sshd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">18977è¿›ç¨‹çš„ä¼˜å…ˆçº§å·²ç»è¢«ä¿®æ”¹äº†</span></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœåœ¨æ“ä½œç»ˆç«¯æ‰§è¡Œ top å‘½ä»¤ï¼Œåˆ™å¹¶ä¸èƒ½çœ‹åˆ°ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œé»˜è®¤çœ‹åˆ°çš„åªæ˜¯ CPU å æ¯”é å‰çš„è¿›ç¨‹ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦çœ‹åˆ°æ‰€æœ‰çš„è¿›ç¨‹ï¼Œåˆ™å¯ä»¥æŠŠ top å‘½ä»¤çš„æ‰§è¡Œç»“æœé‡å®šå‘åˆ°æ–‡ä»¶ä¸­ã€‚ä¸è¿‡ top å‘½ä»¤æ˜¯æŒç»­è¿è¡Œçš„ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ â€œ-bâ€ å’Œ â€œ-nâ€ é€‰é¡¹äº†ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# top -b -n 1 &gt; /root/top.log</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è®©topå‘½ä»¤åªæ‰§è¡Œä¸€æ¬¡ï¼Œç„¶åæŠŠæ‰§è¡Œç»“æœä¿å­˜åˆ°top.logæ–‡ä»¶ä¸­ï¼Œè¿™æ ·å°±èƒ½çœ‹åˆ°æ‰€æœ‰çš„è¿›ç¨‹äº†</span></span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="8-10-5-lsof">8.10.5 lsof</h4><p>lsof å‘½ä»¤ï¼Œâ€œlist opened filesâ€çš„ç¼©å†™ï¼Œç›´è¯‘è¿‡æ¥ï¼Œå°±æ˜¯åˆ—ä¸¾ç³»ç»Ÿä¸­å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶ã€‚é€šè¿‡ lsof å‘½ä»¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æ–‡ä»¶æ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è¿›ç¨‹ä¿¡æ¯æ‰¾åˆ°è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# lsof [options]</span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>-c å­—ç¬¦ä¸²</code></td><td>åªåˆ—å‡ºä»¥å­—ç¬¦ä¸²å¼€å¤´çš„è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚</td></tr><tr><td><code>+d ç›®å½•å</code></td><td>åˆ—å‡ºæŸä¸ªç›®å½•ä¸­æ‰€æœ‰è¢«è¿›ç¨‹è°ƒç”¨çš„æ–‡ä»¶ã€‚</td></tr><tr><td><code>-u ç”¨æˆ·å</code></td><td>åªåˆ—å‡ºæŸä¸ªç”¨æˆ·çš„è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚</td></tr><tr><td><code>-p pid</code></td><td>åˆ—å‡ºæŸä¸ª PID è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p><code>lsof</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# lsof | more</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹è°ƒç”¨çš„æ–‡ä»¶</span></span><br><span class="line">COMMAND PID  USER  FD    TYPE  DEVICE  SIZE/OFF  NODE  NAME</span><br><span class="line">init               1      root    cwd  DIR    8ï¼Œ3       4096        2           /</span><br><span class="line">init               1      root    rtd    DIR    8ï¼Œ3       4096        2           /</span><br><span class="line">init               1      root    txt     REG   8ï¼Œ3       145180    130874 /sbin/init</span><br><span class="line">init               1      root    mem REG   8ï¼Œ3       142472    665291 /lib/ld-2.12.so</span><br><span class="line">init               1      root    mem REG   8ï¼Œ3       58704      655087 /lib/libnss_files-2.12.so</span><br><span class="line">â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºéå¸¸å¤šã€‚å®ƒä¼šæŒ‰ç…§ PIDï¼Œä» 1 å·è¿›ç¨‹å¼€å§‹åˆ—å‡ºç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹æ­£åœ¨è°ƒç”¨çš„æ–‡ä»¶åã€‚</p></li><li><p><code>lsof è·¯å¾„</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# lsof /sbin/init</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢æŸä¸ªæ–‡ä»¶è¢«å“ªä¸ªè¿›ç¨‹è°ƒç”¨</span></span><br><span class="line">COMMAND PID USER  FD  TYPE  DEVICE  SIZE/OFF  NODE    NAME</span><br><span class="line">init               1     root    txt  REG   8ï¼Œ3      145180     130874   /sbin/init</span><br></pre></td></tr></table></figure><p>sof å‘½ä»¤ä¹Ÿå¯ä»¥åè¿‡æ¥æŸ¥è¯¢æŸä¸ªæ–‡ä»¶è¢«å“ªä¸ªè¿›ç¨‹è°ƒç”¨ã€‚è¿™ä¸ªä¾‹å­å°±æŸ¥è¯¢åˆ° /sbin/init æ–‡ä»¶æ˜¯è¢« init è¿›ç¨‹è°ƒç”¨çš„ã€‚</p></li></ol></li></ul><h4 id="8-10-4-pstree-æŸ¥çœ‹è¿›ç¨‹æ ‘">8.10.4 pstree æŸ¥çœ‹è¿›ç¨‹æ ‘</h4><p>Linux pstree(è‹±æ–‡å…¨ç§°ï¼šdisplay a tree of processesï¼‰) å‘½ä»¤å°†æ‰€æœ‰è¿›ç¨‹ä»¥æ ‘çŠ¶å›¾æ˜¾ç¤ºï¼Œæ ‘çŠ¶å›¾å°†ä¼šä»¥ pid (å¦‚æœæœ‰æŒ‡å®š) æˆ–æ˜¯ä»¥ init è¿™ä¸ªåŸºæœ¬è¿›ç¨‹ä¸ºæ ¹ (root)ï¼Œå¦‚æœæœ‰æŒ‡å®šä½¿ç”¨è€… idï¼Œåˆ™æ ‘çŠ¶å›¾ä¼šåªæ˜¾ç¤ºè¯¥ä½¿ç”¨è€…æ‰€æ‹¥æœ‰çš„è¿›ç¨‹ã€‚</p><ul><li><p>yum å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install psmisc</span><br></pre></td></tr></table></figure></li><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# pstree [options] [[PID][userName]</span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-a</td><td>æ˜¾ç¤ºå¯åŠ¨æ¯ä¸ªè¿›ç¨‹å¯¹åº”çš„å®Œæ•´æŒ‡ä»¤ï¼ŒåŒ…æ‹¬å¯åŠ¨è¿›ç¨‹çš„è·¯å¾„ã€å‚æ•°ç­‰ã€‚</td></tr><tr><td>-c</td><td>ä¸ä½¿ç”¨ç²¾ç®€æ³•æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œå³æ˜¾ç¤ºçš„è¿›ç¨‹ä¸­åŒ…å«å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹ã€‚</td></tr><tr><td>-n</td><td>æ ¹æ®è¿›ç¨‹ PID å·æ¥æ’åºè¾“å‡ºï¼Œé»˜è®¤æ˜¯ä»¥ç¨‹åºåæ’åºè¾“å‡ºçš„ã€‚</td></tr><tr><td>-p</td><td>æ˜¾ç¤ºè¿›ç¨‹çš„ PIDã€‚</td></tr><tr><td>-u</td><td>æ˜¾ç¤ºè¿›ç¨‹å¯¹åº”çš„ç”¨æˆ·åç§°ã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p><code>-p</code> æ˜¾ç¤ºè¿›ç¨‹çš„ PID</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# pstree -p</span><br><span class="line">systemd(1)â”€â”¬â”€NetworkManager(542)â”€â”¬â”€dhclient(628)</span><br><span class="line">           â”‚                     â”œâ”€&#123;NetworkManager&#125;(563)</span><br><span class="line">           â”‚                     â””â”€&#123;NetworkManager&#125;(567)</span><br><span class="line">...çœç•¥éƒ¨åˆ†è¾“å‡º...</span><br><span class="line">           â”œâ”€sshd(893)â”€â”€â”€sshd(1146)â”€â”¬â”€bash(1150)â”€â”€â”€pstree(8599)#Pstreeå‘½ä»¤è¿›ç¨‹æ˜¯åœ¨è¿œç¨‹è¿æ¥ä¸­è¢«æ‰§è¡Œçš„</span><br><span class="line">           â”‚                        â”œâ”€bash(1171)â”€â”€â”€top(1248)</span><br><span class="line">           â”‚                        â”œâ”€bash(8589)â”€â”€â”€sleep(8598)</span><br><span class="line">           â”‚                        â””â”€sftp-server(1165)</span><br><span class="line">           â”œâ”€systemd-journal(367)</span><br><span class="line">           â”œâ”€systemd-logind(547)</span><br><span class="line">           â”œâ”€systemd-udevd(397)</span><br><span class="line">           â”œâ”€tuned(891)â”€â”¬â”€&#123;tuned&#125;(1139)</span><br><span class="line">           â”‚            â”œâ”€&#123;tuned&#125;(1140)</span><br><span class="line">           â”‚            â”œâ”€&#123;tuned&#125;(1142)</span><br><span class="line">           â”‚            â””â”€&#123;tuned&#125;(1143)</span><br><span class="line">           â””â”€vmtoolsd(535)â”€â”¬â”€&#123;vmtoolsd&#125;(562)</span><br><span class="line">                           â””â”€&#123;vmtoolsd&#125;(575)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæƒ³çŸ¥é“æŸä¸ªç”¨æˆ·éƒ½å¯åŠ¨äº†å“ªäº›è¿›ç¨‹ï¼Œä½¿ç”¨ pstree å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“å®ç°ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@1ocalhost ~]# pstree mysql</span><br><span class="line">mysqid---6*[&#123;mysqid&#125;]</span><br></pre></td></tr></table></figure><p>æ­¤è¾“å‡ºç»“æœæ˜¾ç¤ºäº† mysql ç”¨æˆ·å¯¹åº”çš„è¿›ç¨‹ä¸º mysqidï¼Œå¹¶ä¸” mysqid è¿›ç¨‹æ‹¥æœ‰ 5 ä¸ªå­è¿›ç¨‹ï¼ˆå¤–åŠ  1 ä¸ªçˆ¶è¿›ç¨‹ï¼Œå…±è®¡ 6 ä¸ªè¿›ç¨‹ï¼‰ã€‚</p></li></ol></li></ul><h4 id="8-10-6-kill-ç»ˆæ­¢è¿›ç¨‹">8.10.6 kill ç»ˆæ­¢è¿›ç¨‹</h4><p>kill å‘½ä»¤çš„æ‰§è¡ŒåŸç†æ˜¯è¿™æ ·çš„ï¼Œkill å‘½ä»¤ä¼šå‘æ“ä½œç³»ç»Ÿå†…æ ¸å‘é€ä¸€ä¸ªä¿¡å·ï¼ˆå¤šæ˜¯ç»ˆæ­¢ä¿¡å·ï¼‰å’Œç›®æ ‡è¿›ç¨‹çš„ PIDï¼Œç„¶åç³»ç»Ÿå†…æ ¸æ ¹æ®æ”¶åˆ°çš„ä¿¡å·ç±»å‹ï¼Œå¯¹æŒ‡å®šè¿›ç¨‹è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚</p><p><strong><font style="color:red;">æ³¨æ„<code>/user/sbin/sshd -D</code> æ­¤å®ˆæŠ¤è¿›ç¨‹ä¸èƒ½å…³é—­ï¼Œå¦åˆ™å°†æ— æ³•è¿œç¨‹ç™»å½•ï¼Œéœ€è¦å»æœºæˆ¿é‡å¯sshdæœåŠ¡å®ˆæŠ¤è¿›ç¨‹è¦è°¨æ…çš„å¤„ç†å¦åˆ™å¯èƒ½ä¼šé€ æˆé‡å¤§æ•…éšœï¼</font></strong></p><p>kill å‘½ä»¤åªæ˜¯â€œå‘é€â€ä¸€ä¸ªä¿¡å·ï¼Œå› æ­¤ï¼Œåªæœ‰å½“ä¿¡å·è¢«ç¨‹åºæˆåŠŸâ€œæ•è·â€ï¼Œç³»ç»Ÿæ‰ä¼šæ‰§è¡Œ kill å‘½ä»¤æŒ‡å®šçš„æ“ä½œï¼›åä¹‹ï¼Œå¦‚æœä¿¡å·è¢«â€œå°é”â€æˆ–è€…â€œå¿½ç•¥â€ï¼Œåˆ™ kill å‘½ä»¤å°†ä¼šå¤±æ•ˆã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# kill [options] PID</span><br></pre></td></tr></table></figure><p>kill å‘½ä»¤æ˜¯æŒ‰ç…§ PID æ¥ç¡®å®šè¿›ç¨‹çš„ï¼Œæ‰€ä»¥ kill å‘½ä»¤åªèƒ½è¯†åˆ« PIDï¼Œè€Œä¸èƒ½è¯†åˆ«è¿›ç¨‹åã€‚Linux å®šä¹‰äº†å‡ åç§ä¸åŒç±»å‹çš„ä¿¡å·ï¼Œè¯»è€…å¯ä»¥ä½¿ç”¨ kill -l å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰ä¿¡å·åŠå…¶ç¼–å·ï¼Œè¿™é‡Œä»…åˆ—å‡ºå‡ ä¸ªå¸¸ç”¨çš„ä¿¡å·ï¼Œå¦‚è¡¨ 1 æ‰€ç¤ºã€‚</p></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-l &lt;ä¿¡æ¯ç¼–å·&gt;</code></td><td>æ‰“å°æŒ‡å®šç¼–å·çš„ä¿¡æ¯åç§°ï¼›<br />è‹¥ä¸åŠ &lt;ä¿¡æ¯ç¼–å·&gt;é€‰é¡¹ï¼Œåˆ™ -l å‚æ•°ä¼šåˆ—å‡ºå…¨éƒ¨çš„ä¿¡æ¯åç§°</td></tr><tr><td><code>-&lt;ä¿¡æ¯åç§°æˆ–ç¼–å·&gt; &lt;ç¨‹åº&gt;</code><br /><code>-s &lt;ä¿¡æ¯åç§°æˆ–ç¼–å·&gt; &lt;ç¨‹åº&gt;</code></td><td>æŒ‡å®šè¦é€å‡ºçš„ä¿¡æ¯ã€‚<br /><code>-1 nginx</code>    #ï¼ˆä»¥ä¿¡æ¯1ä¸ºä¾‹ï¼‰nginx è¿›ç¨‹é‡å¯ã€‚<br />è¯¦æƒ…è¯·çœ‹å¸¸ç”¨ä¿¡æ¯åç§°è¡¨ã€‚<br />&lt;ç¨‹åº&gt;å¯ä»¥æ˜¯ç¨‹åºçš„PIDæˆ–æ˜¯PGIDï¼Œä¹Ÿå¯ä»¥æ˜¯å·¥ä½œç¼–å·ã€‚</td></tr></tbody></table></li><li><p>ä¿¡æ¯åç§°è¡¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# kill -l</span><br><span class="line"> 1) SIGHUP       2) SIGINT       3) SIGQUIT      4) SIGILL       5) SIGTRAP</span><br><span class="line"> 6) SIGABRT      7) SIGBUS       8) SIGFPE       9) SIGKILL     10) SIGUSR1</span><br><span class="line">11) SIGSEGV     12) SIGUSR2     13) SIGPIPE     14) SIGALRM     15) SIGTERM</span><br><span class="line">16) SIGSTKFLT   17) SIGCHLD     18) SIGCONT     19) SIGSTOP     20) SIGTSTP</span><br><span class="line">21) SIGTTIN     22) SIGTTOU     23) SIGURG      24) SIGXCPU     25) SIGXFSZ</span><br><span class="line">26) SIGVTALRM   27) SIGPROF     28) SIGWINCH    29) SIGIO       30) SIGPWR</span><br><span class="line">31) SIGSYS      34) SIGRTMIN    35) SIGRTMIN+1  36) SIGRTMIN+2  37) SIGRTMIN+3</span><br><span class="line">38) SIGRTMIN+4  39) SIGRTMIN+5  40) SIGRTMIN+6  41) SIGRTMIN+7  42) SIGRTMIN+8</span><br><span class="line">43) SIGRTMIN+9  44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13</span><br><span class="line">48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12</span><br><span class="line">53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9  56) SIGRTMAX-8  57) SIGRTMAX-7</span><br><span class="line">58) SIGRTMAX-6  59) SIGRTMAX-5  60) SIGRTMAX-4  61) SIGRTMAX-3  62) SIGRTMAX-2</span><br><span class="line">63) SIGRTMAX-1  64) SIGRTMAX   </span><br></pre></td></tr></table></figure><p>å¸¸ç”¨ä¿¡æ¯åç§°è¡¨ï¼š</p><table><thead><tr><th>ä¿¡æ¯ç¼–å·</th><th>ä¿¡æ¯å</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>0</td><td>EXIT</td><td>ç¨‹åºé€€å‡ºæ—¶æ”¶åˆ°è¯¥ä¿¡æ¯ã€‚</td></tr><tr><td>1</td><td>HUP</td><td>æŒ‚æ‰ç”µè¯çº¿æˆ–ç»ˆç«¯è¿æ¥çš„æŒ‚èµ·ä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·ä¹Ÿä¼šé€ æˆæŸäº›è¿›ç¨‹åœ¨æ²¡æœ‰ç»ˆæ­¢çš„æƒ…å†µä¸‹é‡æ–°åˆå§‹åŒ–ã€‚</td></tr><tr><td>2</td><td>INT</td><td>è¡¨ç¤ºç»“æŸè¿›ç¨‹ï¼Œä½†å¹¶ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œå¸¸ç”¨çš„ â€œCtrl+Câ€ ç»„åˆé”®å‘å‡ºå°±æ˜¯ä¸€ä¸ª kill -2 çš„ä¿¡å·ã€‚</td></tr><tr><td>3</td><td>QUIT</td><td>é€€å‡ºã€‚</td></tr><tr><td>9</td><td>KILL</td><td>æ€æ­»è¿›ç¨‹ï¼Œå³å¼ºåˆ¶ç»“æŸè¿›ç¨‹ã€‚</td></tr><tr><td>11</td><td>SEGV</td><td>æ®µé”™è¯¯ã€‚</td></tr><tr><td>15</td><td>TERM</td><td>æ­£å¸¸ç»“æŸè¿›ç¨‹ï¼Œæ˜¯ kill å‘½ä»¤çš„é»˜è®¤ä¿¡å·ã€‚</td></tr><tr><td>19</td><td>STOP</td><td>è®©è¿›ç¨‹æš‚åœ</td></tr></tbody></table><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¡¨ä¸­çœç•¥äº†å„ä¸ªä¿¡å·åç§°çš„å‰ç¼€ SIGï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒSIGTERM å’Œ TERM è¿™ä¸¤ç§å†™æ³•éƒ½å¯¹ï¼Œkill å‘½ä»¤éƒ½å¯ä»¥ç†è§£ã€‚</p></li></ul><h4 id="8-10-7-killall-ç»ˆæ­¢ç‰¹å®šçš„ä¸€ç±»è¿›ç¨‹">8.10.7 killall ç»ˆæ­¢ç‰¹å®šçš„ä¸€ç±»è¿›ç¨‹</h4><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# killall [é€‰é¡¹] [ä¿¡å·] è¿›ç¨‹å</span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-i</code></td><td>äº¤äº’å¼ï¼Œè¯¢é—®æ˜¯å¦è¦æ€æ­»æŸä¸ªè¿›ç¨‹</td></tr><tr><td><code>-l</code></td><td>å¿½ç•¥è¿›ç¨‹åçš„å¤§å°å†™</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><ol><li><p>æ€æ­» httpd è¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# service httpd start</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯åŠ¨RPMåŒ…é»˜è®¤å®‰è£…çš„apacheæœåŠ¡</span></span><br><span class="line">[root@localhost ~]# ps aux | grep &quot;httpd&quot; | grep -v &quot;grep&quot;</span><br><span class="line">root 1600 0.0 0.2 4520 1696? Ss 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line">daemon 1601 0.0 0.1 4520 1188? S 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line">daemon 1602 0.0 0.1 4520 1188? S 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line">daemon 1603 0.0 0.1 4520 1188? S 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line">daemon 1604 0.0 0.1 4520 1188? S 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line">daemon 1605 0.0 0.1 4520 1188? S 19:42 0:00 /usr/local/apache2/bin/httpd -k start</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹httpdè¿›ç¨‹</span></span><br><span class="line">[root@localhost ~]# killall httpd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ€æ­»æ‰€æœ‰è¿›ç¨‹åæ˜¯httpdçš„è¿›ç¨‹</span></span><br><span class="line">[root@localhost ~]# ps aux | grep &quot;httpd&quot; | grep -v &quot;grep&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢å‘ç°æ‰€æœ‰çš„httpdè¿›ç¨‹éƒ½æ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure></li><li><p>äº¤äº’å¼æ€æ­» sshd è¿›ç¨‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps aux | grep &quot;sshd&quot; | grep -v &quot;grep&quot;</span><br><span class="line">root 1733 0.0 0.1 8508 1008? Ss 19:47 0:00/usr/sbin/sshd</span><br><span class="line">root 1735 0.1 0.5 11452 3296? Ss 19:47 0:00 sshd: root@pts/0</span><br><span class="line">root 1758 0.1 0.5 11452 3296? Ss 19:47 0:00 sshd: root@pts/1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥è¯¢ç³»ç»Ÿä¸­æœ‰3ä¸ªsshdè¿›ç¨‹ã€‚1733æ˜¯sshdæœåŠ¡çš„è¿›ç¨‹ï¼Œ1735å’Œ1758æ˜¯ä¸¤ä¸ªè¿œç¨‹è¿æ¥çš„è¿›ç¨‹</span></span><br><span class="line">[root@localhost ~]# killall -i sshd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">äº¤äº’å¼æ€æ­»sshdè¿›ç¨‹</span></span><br><span class="line">æ€æ­»sshd(1733)?(y/N)n</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿™ä¸ªè¿›ç¨‹æ˜¯sshdçš„æœåŠ¡è¿›ç¨‹ï¼Œå¦‚æœæ€æ­»ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„sshdè¿æ¥éƒ½ä¸èƒ½ç™»é™†</span></span><br><span class="line">æ€æ­» sshd(1735)?(y/N)n</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿™æ˜¯å½“å‰ç™»å½•ç»ˆç«¯ï¼Œä¸èƒ½æ€æ­»æˆ‘è‡ªå·±å§</span></span><br><span class="line">æ€æ­» sshd(1758)?(y/N)y</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ€æ­»å¦ä¸€ä¸ªsshdç™»é™†ç»ˆç«¯</span></span><br></pre></td></tr></table></figure></li></ol></li></ul><h4 id="8-10-8-crontab-å¾ªç¯æ‰§è¡Œå®šæ—¶ä»»åŠ¡">8.10.8 crontab å¾ªç¯æ‰§è¡Œå®šæ—¶ä»»åŠ¡</h4><p>Linux crontab æ˜¯ç”¨æ¥å®šæœŸæ‰§è¡Œç¨‹åºçš„å‘½ä»¤ã€‚</p><p>crontab å‘½ä»¤éœ€è¦ crond æœåŠ¡æ”¯æŒã€‚crond æ˜¯ Linux ä¸‹ç”¨æ¥å‘¨æœŸåœ°æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›äº‹ä»¶çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œå’Œ Windows ä¸­çš„è®¡åˆ’ä»»åŠ¡æœ‰äº›ç±»ä¼¼ã€‚</p><p>åœ¨å®‰è£…å®Œæˆæ“ä½œç³»ç»Ÿåï¼Œé»˜è®¤ä¼šå®‰è£… crond æœåŠ¡å·¥å…·ï¼Œä¸” crond æœåŠ¡é»˜è®¤å°±æ˜¯è‡ªå¯åŠ¨çš„ã€‚crond è¿›ç¨‹æ¯åˆ†é’Ÿä¼šå®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# crontab [options] [file]</span><br></pre></td></tr></table></figure><p>ä½äº<code>/var/spool/cron/</code></p></li><li><p><strong>é€šè¿‡ <code>/etc/cron.allow</code> å’Œ <code>/etc/cron.deny</code> æ–‡ä»¶æ¥é™åˆ¶æŸäº›ç”¨æˆ·æ˜¯å¦å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤:</strong></p><ul><li>å½“ç³»ç»Ÿä¸­æœ‰ <code>/etc/cron.allow</code> æ–‡ä»¶æ—¶ï¼Œåªæœ‰å†™å…¥æ­¤æ–‡ä»¶çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤ï¼Œæ²¡æœ‰å†™å…¥çš„ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ crontab å‘½ä»¤ã€‚åŒæ ·ï¼Œå¦‚æœæœ‰æ­¤æ–‡ä»¶ï¼Œ<code>/etc/cron.deny</code> æ–‡ä»¶ä¼šè¢«å¿½ç•¥ï¼Œå› ä¸º <code>/etc/cron.allow</code> æ–‡ä»¶çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚</li><li>å½“ç³»ç»Ÿä¸­åªæœ‰ /etc/cron.deny æ–‡ä»¶æ—¶ï¼Œå†™å…¥æ­¤æ–‡ä»¶çš„ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ crontab å‘½ä»¤ï¼Œæ²¡æœ‰å†™å…¥æ–‡ä»¶çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤ã€‚</li><li>è¿™ä¸ªè§„åˆ™åŸºæœ¬å’Œ at å‘½ä»¤çš„è§„åˆ™ä¸€è‡´ï¼ŒåŒæ ·æ˜¯ <code>/etc/cron.allow</code> æ–‡ä»¶æ¯” <code>/etc/cron.deny</code> æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜ï¼ŒLinux ç³»ç»Ÿä¸­é»˜è®¤åªæœ‰ <code>/etc/cron.deny</code> æ–‡ä»¶ã€‚</li></ul></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>-u user</td><td>ç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„ crontab æœåŠ¡ï¼Œä¾‹å¦‚ â€œ-u demoâ€ è¡¨ç¤ºè®¾å¤‡ demo ç”¨æˆ·çš„ crontab æœåŠ¡ï¼Œæ­¤é€‰é¡¹ä¸€èˆ¬æœ‰ root ç”¨æˆ·æ¥è¿è¡Œã€‚</td></tr><tr><td>-e</td><td>ç¼–è¾‘æŸä¸ªç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚</td></tr><tr><td>-l</td><td>æ˜¾ç¤ºæŸç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>-r</td><td>ä» /var/spool/cron åˆ é™¤æŸç”¨æˆ·çš„ crontab æ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚</td></tr><tr><td>-i</td><td>åœ¨åˆ é™¤ç”¨æˆ·çš„ crontab æ–‡ä»¶æ—¶ï¼Œç»™ç¡®è®¤æç¤ºã€‚</td></tr></tbody></table><p>æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥å®ç°è‡ªå·±çš„ crontab å®šæ—¶ä»»åŠ¡ï¼Œåªéœ€ä½¿ç”¨è¿™ä¸ªç”¨æˆ·èº«ä»½æ‰§è¡Œâ€œ<code>crontab -e</code>â€å‘½ä»¤å³å¯ã€‚å½“ç„¶ï¼Œè¿™ä¸ªç”¨æˆ·ä¸èƒ½å†™å…¥ <code>/etc/cron.deny</code> æ–‡ä»¶ã€‚</p></li><li><p><strong>å…¶å® crontab å®šæ—¶ä»»åŠ¡éå¸¸ç®€å•ï¼Œåªéœ€æ‰§è¡Œâ€œcrontab -eâ€å‘½ä»¤ï¼Œç„¶åè¾“å…¥æƒ³è¦å®šæ—¶æ‰§è¡Œçš„ä»»åŠ¡å³å¯ã€‚ä¸è¿‡ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œâ€œcrontab -eâ€å‘½ä»¤æ—¶ï¼Œæ‰“å¼€çš„æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œè€Œä¸”æ“ä½œæ–¹æ³•å’Œ Vim æ˜¯ä¸€è‡´çš„ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼æ‰æ˜¯æˆ‘ä»¬çœŸæ­£éœ€è¦å­¦ä¹ çš„å†…å®¹ã€‚æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ï¼]# crontab -e</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥ crontab ç¼–è¾‘ç•Œé¢ã€‚ä¼šæ‰“å¼€Vimç¼–è¾‘ä½ çš„ä»»åŠ¡</span></span><br><span class="line">* * * * * æ‰§è¡Œçš„ä»»åŠ¡</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–‡ä»¶ä¸­æ˜¯é€šè¿‡ 5 ä¸ªâ€œ*â€æ¥ç¡®å®šå‘½ä»¤æˆ–ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*    *    *    *    *</span><br><span class="line">-    -    -    -    -</span><br><span class="line">|    |    |    |    |</span><br><span class="line">|    |    |    |    +----- æ˜ŸæœŸä¸­æ˜ŸæœŸå‡  (0 - 6) (æ˜ŸæœŸå¤© ä¸º0)</span><br><span class="line">|    |    |    +---------- æœˆä»½ (1 - 12)</span><br><span class="line">|    |    +--------------- ä¸€ä¸ªæœˆä¸­çš„ç¬¬å‡ å¤© (1 - 31)</span><br><span class="line">|    +-------------------- å°æ—¶ (0 - 23)</span><br><span class="line">+------------------------- åˆ†é’Ÿ (0 - 59)</span><br></pre></td></tr></table></figure><p>åœ¨æ—¶é—´è¡¨ç¤ºä¸­ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šç¬¦å·éœ€è¦å­¦ä¹ </p><table><thead><tr><th>ç‰¹æ®Šç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>*ï¼ˆæ˜Ÿå·ï¼‰</td><td>ä»£è¡¨ä»»ä½•æ—¶é—´ã€‚æ¯”å¦‚ç¬¬ä¸€ä¸ª&quot;*&quot;å°±ä»£è¡¨ä¸€å°æ—¶ç§æ¯åˆ†é’Ÿéƒ½æ‰§è¡Œä¸€æ¬¡çš„æ„æ€ã€‚</td></tr><tr><td>,ï¼ˆé€—å·ï¼‰</td><td>ä»£è¡¨ä¸è¿ç»­çš„æ—¶é—´ã€‚æ¯”å¦‚&quot;0 8,12,16 * * * å‘½ä»¤&quot;å°±ä»£è¡¨åœ¨æ¯å¤©çš„ 8 ç‚¹ 0 åˆ†ã€12 ç‚¹ 0 åˆ†ã€16 ç‚¹ 0 åˆ†éƒ½æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚</td></tr><tr><td>-ï¼ˆä¸­æ ï¼‰</td><td>ä»£è¡¨è¿ç»­çš„æ—¶é—´èŒƒå›´ã€‚æ¯”å¦‚&quot;0 5 * * 1-6 å‘½ä»¤&quot;ï¼Œä»£è¡¨åœ¨å‘¨ä¸€åˆ°å‘¨å…­çš„å‡Œæ™¨ 5 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤ã€‚</td></tr><tr><td>/ï¼ˆæ­£æ–œçº¿ï¼‰</td><td>ä»£è¡¨æ¯éš”å¤šä¹…æ‰§è¡Œä¸€æ¬¡ã€‚æ¯”å¦‚&quot;* /10* * * * å‘½ä»¤&quot;ï¼Œä»£è¡¨æ¯éš” 10 åˆ†é’Ÿå°±æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚</td></tr></tbody></table><p>å½“â€œcrontab -eâ€ç¼–è¾‘å®Œæˆä¹‹åï¼Œä¸€æ—¦ä¿å­˜é€€å‡ºï¼Œé‚£ä¹ˆè¿™ä¸ªå®šæ—¶ä»»åŠ¡å®é™…å°±ä¼šå†™å…¥ <code>/var/spool/cron/</code> ç›®å½•ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡ç”¨è‡ªå·±çš„ç”¨æˆ·åè¿›è¡ŒåŒºåˆ†ã€‚è€Œä¸” crontab å‘½ä»¤åªè¦ä¿å­˜å°±ä¼šç”Ÿæ•ˆï¼Œåªè¦ crond æœåŠ¡æ˜¯å¯åŠ¨çš„ã€‚çŸ¥é“äº†è¿™ 5 ä¸ªæ—¶é—´å­—æ®µçš„å«ä¹‰ï¼Œæˆ‘ä»¬å¤šä¸¾å‡ ä¸ªæ—¶é—´çš„ä¾‹å­æ¥ç†Ÿæ‚‰ä¸€ä¸‹æ—¶é—´å­—æ®µ</p><table><thead><tr><th>æ—¶é—´</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>45 22 * * * å‘½ä»¤</td><td>åœ¨ 22 ç‚¹ 45 åˆ†æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>0 17 * * 1 å‘½ä»¤</td><td>åœ¨æ¯å‘¨ä¸€çš„ 17 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>0 5 1,15 * * å‘½ä»¤</td><td>åœ¨æ¯æœˆ 1 æ—¥å’Œ 15 æ—¥çš„å‡Œæ™¨ 5 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>40 4 * * 1-5 å‘½ä»¤</td><td>åœ¨æ¯å‘¨ä¸€åˆ°å‘¨äº”çš„å‡Œæ™¨ 4 ç‚¹ 40 åˆ†æ‰§è¡Œå‘½ä»¤</td></tr><tr><td>/10 4 * * * å‘½ä»¤</td><td>åœ¨æ¯å¤©çš„å‡Œæ™¨ 4 ç‚¹ï¼Œæ¯éš” 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤</td></tr><tr><td>0 0 1,15 * 1 å‘½ä»¤</td><td>åœ¨æ¯æœˆ 1 æ—¥å’Œ 15 æ—¥ï¼Œæ¯å‘¨ä¸€ 0 ç‚¹ 0 åˆ†éƒ½ä¼šæ‰§è¡Œå‘½ä»¤ï¼Œæ³¨æ„ï¼šæ˜ŸæœŸå‡ å’Œå‡ æ—¥æœ€å¥½ä¸è¦åŒæ—¶å‡ºç°ï¼Œå› ä¸ºå®ƒä»¬å®šä¹‰çš„éƒ½æ˜¯å¤©ï¼Œéå¸¸å®¹æ˜“è®©ç®¡ç†å‘˜æ··æ·†</td></tr></tbody></table></li><li><p><strong>åœ¨ä¹¦å†™ crontab å®šæ—¶ä»»åŠ¡æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ä¸ªäº‹é¡¹ï¼š</strong></p><ul><li><p>6 ä¸ªé€‰é¡¹éƒ½ä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»å¡«å†™ã€‚å¦‚æœä¸ç¡®å®šï¼Œåˆ™ä½¿ç”¨â€œ*â€ä»£è¡¨ä»»æ„æ—¶é—´ã€‚</p></li><li><p>crontab å®šæ—¶ä»»åŠ¡çš„æœ€å°æœ‰æ•ˆæ—¶é—´æ˜¯åˆ†é’Ÿï¼Œæœ€å¤§æœ‰æ•ˆæ—¶é—´æ˜¯æœˆã€‚åƒ 2018 å¹´æŸæ—¶æ‰§è¡Œã€3 ç‚¹ 30 åˆ† 30 ç§’è¿™æ ·çš„æ—¶é—´éƒ½ä¸èƒ½è¢«è¯†åˆ«ã€‚</p></li><li><p>åœ¨å®šä¹‰æ—¶é—´æ—¶ï¼Œæ—¥æœŸå’Œæ˜ŸæœŸæœ€å¥½ä¸è¦åœ¨ä¸€æ¡å®šæ—¶ä»»åŠ¡ä¸­å‡ºç°ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä»¥å¤©ä¸ºå•ä½ï¼Œéå¸¸å®¹æ˜“è®©ç®¡ç†å‘˜æ··æ·†ã€‚</p></li><li><p>åœ¨å®šæ—¶ä»»åŠ¡ä¸­ï¼Œä¸ç®¡æ˜¯ç›´æ¥å†™å‘½ä»¤ï¼Œè¿˜æ˜¯åœ¨è„šæœ¬ä¸­å†™å‘½ä»¤ï¼Œæœ€å¥½éƒ½ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚æœ‰æ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„çš„å‘½ä»¤ä¼šæŠ¥é”™ã€‚</p></li></ul></li></ul><h4 id="8-10-9-free-æŸ¥çœ‹å†…å­˜ä½¿ç”¨çŠ¶æ€">8.10.9 free æŸ¥çœ‹å†…å­˜ä½¿ç”¨çŠ¶æ€</h4><p>free å‘½ä»¤ç”¨æ¥æ˜¾ç¤ºç³»ç»Ÿå†…å­˜çŠ¶æ€ï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰©ç†å†…å­˜ã€è™šæ‹Ÿå†…å­˜ï¼ˆswap äº¤æ¢åˆ†åŒºï¼‰ã€å…±äº«å†…å­˜å’Œç³»ç»Ÿç¼“å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œå…¶è¾“å‡ºå’Œ top å‘½ä»¤çš„å†…å­˜éƒ¨åˆ†éå¸¸ç›¸ä¼¼ã€‚</p><ul><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# free [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# free -lh -s n</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ˜¾ç¤ºäººæ€§åŒ–çš„å†…å­˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬å ç”¨å†…å­˜çš„é«˜ä½ï¼›nç§’åˆ·æ–°ä¸€æ¬¡</span></span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-b</td><td>ä»¥ Byteï¼ˆå­—èŠ‚ï¼‰ä¸ºå•ä½ï¼Œæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>-h</td><td>æ˜¾ç¤ºäººæ€§åŒ–çš„å†…å­˜å¤§å°ä¿¡æ¯</td></tr><tr><td>-k</td><td>ä»¥ KB ä¸ºå•ä½ï¼Œæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œæ­¤é€‰é¡¹æ˜¯ free å‘½ä»¤çš„é»˜è®¤é€‰é¡¹ã€‚</td></tr><tr><td>-l</td><td>æ˜¾ç¤ºå ç”¨å†…å­˜çš„é«˜ä½</td></tr><tr><td>-m</td><td>ä»¥ MB ä¸ºå•ä½ï¼Œæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>-g</td><td>ä»¥ GB ä¸ºå•ä½ï¼Œæ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</td></tr><tr><td>-t</td><td>åœ¨è¾“å‡ºçš„æœ€ç»ˆç»“æœä¸­ï¼Œè¾“å‡ºå†…å­˜å’Œ swap åˆ†åŒºçš„æ€»é‡ã€‚</td></tr><tr><td>-o</td><td>ä¸æ˜¾ç¤ºç³»ç»Ÿç¼“å†²åŒºè¿™ä¸€åˆ—ã€‚</td></tr><tr><td>-s é—´éš”ç§’æ•°</td><td>æ ¹æ®æŒ‡å®šçš„é—´éš”æ—¶é—´ï¼ŒæŒç»­æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µã€‚</td></tr></tbody></table></li><li><p><strong>å®ä¾‹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# free -m</span><br><span class="line">                  total       used    free   shared   buffers    cached</span><br><span class="line">Mem:           725        666      59           0       132         287</span><br><span class="line">-/+ buffers/cache:     245     479</span><br><span class="line">Swap:           996            0     996</span><br></pre></td></tr></table></figure><blockquote><ul><li>total æ˜¯æ€»å†…å­˜æ•°ï¼›</li><li>used æ˜¯å·²ç»ä½¿ç”¨çš„å†…å­˜æ•°ï¼›</li><li>free æ˜¯ç©ºé—²çš„å†…å­˜æ•°ï¼›</li><li>shared æ˜¯å¤šä¸ªè¿›ç¨‹å…±äº«çš„å†…å­˜æ€»æ•°ï¼›</li><li>buffers æ˜¯ç¼“å†²å†…å­˜æ•°ï¼›</li><li>cached æ˜¯ç¼“å­˜å†…å­˜æ•°ã€‚</li></ul></blockquote></li></ul><h4 id="8-10-10-w-who-æŸ¥çœ‹ç™»é™†ç”¨æˆ·ä¿¡æ¯">8.10.10 w who æŸ¥çœ‹ç™»é™†ç”¨æˆ·ä¿¡æ¯</h4><ul><li><p><strong><code>w</code> è¯­æ³•</strong></p><p>Linux ä¸­ï¼Œä½¿ç”¨ w æˆ– who å‘½ä»¤éƒ½å¯ä»¥æŸ¥çœ‹æœåŠ¡å™¨ä¸Šç›®å‰å·²ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºï¼Œw å‘½ä»¤é™¤äº†èƒ½çŸ¥é“ç›®å‰å·²ç™»é™†çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¿˜å¯ä»¥çŸ¥é“æ¯ä¸ªç”¨æˆ·æ‰§è¡Œä»»åŠ¡çš„æƒ…å†µã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# w [options] [username]</span><br></pre></td></tr></table></figure></li></ul><p>â€‹</p><ul><li><p><strong><code>w</code> é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-h</td><td>ä¸æ˜¾ç¤ºè¾“å‡ºä¿¡æ¯çš„æ ‡é¢˜</td></tr><tr><td>-l</td><td>ç”¨é•¿æ ¼å¼è¾“å‡º</td></tr><tr><td>-s</td><td>ç”¨çŸ­æ ¼å¼è¾“å‡ºï¼Œä¸æ˜¾ç¤ºç™»é™†æ—¶é—´ï¼ŒJCPU å’Œ PCPU æ—¶é—´</td></tr><tr><td>-V</td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table></li><li><p><strong><code>w</code> å®ä¾‹</strong></p><p>æ˜¾ç¤ºå½“å‰ç”¨æˆ·ç™»é™†ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# w</span><br><span class="line"> 13:13:56 up 13:00,  1 user,  load average: 0.08, 0.02, 0.01</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å½“å‰çš„ç³»ç»Ÿæ—¶é—´ã€ç³»ç»Ÿä»å¯åŠ¨è‡³ä»Šå·²è¿è¡Œçš„æ—¶é—´ã€ç™»é™†åˆ°ç³»ç»Ÿä¸­çš„ç”¨æˆ·æ•°å’Œç³»ç»Ÿå¹³å‡è´Ÿè½½(å¹³å‡è´Ÿè½½ï¼ˆload averageï¼‰æŒ‡çš„æ˜¯åœ¨ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿå†…ç³»ç»Ÿçš„è´Ÿè½½çŠ¶å†µ)</span></span><br><span class="line">USER   TTY    FROM              LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root    tty1    -                        11:04       0.00s  0.36s   0.00s  -bash</span><br><span class="line">root    pts/0  192.168.0.108   13:15       0.00s   0.06s   0.02s   w</span><br></pre></td></tr></table></figure><table><thead><tr><th>æ ‡é¢˜</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>USER</td><td>ç™»å½•åˆ°ç³»ç»Ÿçš„ç”¨æˆ·ã€‚</td></tr><tr><td>TTY</td><td>ç™»å½•ç»ˆç«¯ã€‚</td></tr><tr><td>FROM</td><td>è¡¨ç¤ºç”¨æˆ·ä»å“ªé‡Œç™»é™†è¿›æ¥ï¼Œä¸€èˆ¬æ˜¾ç¤ºè¿œç¨‹ç™»é™†ä¸»æœºçš„ IP åœ°å€æˆ–è€…ä¸»æœºåã€‚</td></tr><tr><td>LOGIN@</td><td>ç”¨æˆ·ç™»é™†çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</td></tr><tr><td>IDLE</td><td>è¡¨ç¤ºæŸä¸ªç¨‹åºä¸Šæ¬¡ä»ç»ˆç«¯å¼€å§‹æ‰§è¡Œåˆ°ç°åœ¨æ‰€æŒç»­çš„æ—¶é—´ã€‚</td></tr><tr><td>JCPU</td><td>å’Œè¯¥ç»ˆç«¯è¿æ¥çš„æ‰€æœ‰è¿›ç¨‹å ç”¨çš„ CPU è¿ç®—æ—¶é—´ã€‚è¿™ä¸ªæ—¶é—´é‡Œå¹¶ä¸åŒ…æ‹¬è¿‡å»çš„åå°ä½œä¸šæ—¶é—´ï¼Œä½†æ˜¯åŒ…æ‹¬å½“å‰æ­£åœ¨è¿è¡Œçš„åå°ä½œä¸šæ‰€å ç”¨çš„æ—¶é—´ã€‚</td></tr><tr><td>PCPU</td><td>å½“å‰è¿›ç¨‹æ‰€å ç”¨çš„ CPU è¿ç®—æ—¶é—´ã€‚</td></tr><tr><td>WHAT</td><td>å½“å‰ç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹åç§°å’Œé€‰é¡¹ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¡¨ç¤ºç”¨æˆ·å½“å‰æ‰§è¡Œçš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚</td></tr></tbody></table></li><li><p><strong><code>who</code> è¯­æ³•</strong></p><p>who å‘½ä»¤åªèƒ½æ˜¾ç¤ºå½“å‰ç™»é™†çš„ç”¨æˆ·ä¿¡å¿ƒï¼Œä½†æ— æ³•çŸ¥æ™“æ¯ä¸ªç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# who [options] [file]</span><br></pre></td></tr></table></figure></li></ul><p>â€‹    who å‘½ä»¤é»˜è®¤æ˜¯é€šè¿‡ /var/run/utmp æ–‡ä»¶æ¥è·å–ç™»é™†ç”¨æˆ·ä¿¡æ¯ï¼Œä½†å¦‚æœé€šè¿‡ file æŒ‡å®šå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ™ who å‘½ä»¤å°†ä¸å†é»˜è®¤è¯»å– /var/run/utmp æ–‡ä»¶ï¼Œè€Œæ˜¯è¯»å–è¯¥æŒ‡å®šæ–‡ä»¶æ¥è·å–ä¿¡æ¯ã€‚</p><ul><li><p><strong><code>who</code> é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>-a</td><td>åˆ—å‡ºæ‰€æœ‰ä¿¡æ¯ï¼Œç›¸å½“äºæ‰€æœ‰é€‰é¡¹ã€‚</td></tr><tr><td>-b</td><td>åˆ—å‡ºç³»ç»Ÿæœ€è¿‘å¯åŠ¨çš„æ—¶é—´æ—¥æœŸã€‚</td></tr><tr><td>-l</td><td>åˆ—å‡ºæ‰€æœ‰å¯ç™»é™†çš„ç»ˆç«¯ä¿¡æ¯ã€‚</td></tr><tr><td>-m</td><td>ä»…åˆ—å‡ºå…³äºå½“å‰ç»ˆç«¯çš„ä¿¡æ¯ï¼Œ<code>who -m</code> å‘½ä»¤ç­‰åŒäº <code>who am i</code>ã€‚</td></tr><tr><td>-q</td><td>åˆ—å‡ºåœ¨æœ¬åœ°ç³»ç»Ÿä¸Šçš„ç”¨æˆ·å’Œç”¨æˆ·æ•°çš„æ¸…å•ã€‚</td></tr><tr><td>-r</td><td>æ˜¾ç¤ºå½“å‰ç³»ç»Ÿçš„è¿è¡Œçº§åˆ«ã€‚</td></tr><tr><td>-s</td><td>ä»…æ˜¾ç¤ºåç§°ã€çº¿è·¯å’Œæ—¶é—´å­—æ®µä¿¡æ¯ï¼Œè¿™æ˜¯ who å‘½ä»¤çš„é»˜è®¤é€‰é¡¹ã€‚</td></tr><tr><td>-u</td><td>æ˜¾ç¤ºå½“å‰æ¯ä¸ªç”¨æˆ·çš„ç”¨æˆ·åã€ç™»é™†ç»ˆç«¯ã€ç™»é™†æ—¶é—´ã€çº¿è·¯æ´»åŠ¨å’Œè¿›ç¨‹æ ‡è¯†ã€‚</td></tr><tr><td>-T æˆ– -w</td><td>æ˜¾ç¤º tty ç»ˆç«¯çš„çŠ¶æ€ï¼Œâ€œ+â€è¡¨ç¤ºå¯¹ä»»ä½•äººå¯å†™ï¼Œâ€œ-â€è¡¨ç¤ºä»…å¯¹ root ç”¨æˆ·æˆ–æ‰€æœ‰è€…å¯å†™ï¼Œâ€œï¼Ÿâ€è¡¨ç¤ºé‡åˆ°çº¿è·¯æ•…éšœ</td></tr></tbody></table></li><li><p><strong><code>who</code> å®ä¾‹</strong></p><p>æ˜¾ç¤ºç³»ç»Ÿæœ€æ–°å¯åŠ¨æ—¥æœŸï¼Œä»¥åŠæ¯ä¸ªç”¨æˆ·çš„ç™»é™†è¯¦æƒ…ã€ç»ˆç«¯çŠ¶æ€ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# who     &lt;--ç­‰åŒäº who -s</span><br><span class="line">root tty1 2013-06-07 09ï¼š53</span><br><span class="line">root pts/0 2013-06-07 09ï¼š53 (192.168.0.108)</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”¨æˆ·å ç™»å½•ç»ˆç«¯ ç™»å½•æ—¶é—´ï¼ˆç™»å½•æ¥æºIPï¼‰</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="8-11-ç«¯å£ç®¡ç†">8.11 ç«¯å£ç®¡ç†</h3><h4 id="8-11-1-netstat-æ˜¾ç¤ºç½‘ç»œçŠ¶æ€">8.11.1 netstat æ˜¾ç¤ºç½‘ç»œçŠ¶æ€</h4><ul><li><p>å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install -y net-tools</span><br></pre></td></tr></table></figure></li><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# netstat [options]</span><br></pre></td></tr></table></figure></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# netstat -tunlp | grep è¿›ç¨‹å·/ç«¯å£ # æŸ¥çœ‹è¯¥è¿›ç¨‹æˆ–ç«¯å£ç½‘ç»œä¿¡æ¯</span><br><span class="line">[root@localhost ~]# netstat -anp | grep è¿›ç¨‹å·/ç«¯å£ # æŸ¥çœ‹è¯¥è¿›ç¨‹æˆ–ç«¯å£ç½‘ç»œä¿¡æ¯</span><br><span class="line">[root@localhost ~]# netstat -anp | grep 3306 | wc -l # ç»Ÿè®¡è¿›ç¨‹æ•°ï¼Œå¦‚æœæ¥è¿‘é¢„è®¾å€¼ï¼Œè¯´æ˜ä¸å¤Ÿç”¨ï¼Œéœ€è¦å¢åŠ </span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>-aæˆ–â€“all</strong></td><td>æ˜¾ç¤ºæ‰€æœ‰è¿çº¿ä¸­çš„Socketã€‚</td></tr><tr><td>-A&lt;ç½‘ç»œç±»å‹&gt;æˆ–â€“&lt;ç½‘ç»œç±»å‹&gt;</td><td>åˆ—å‡ºè¯¥ç½‘ç»œç±»å‹è¿çº¿ä¸­çš„ç›¸å…³åœ°å€ã€‚</td></tr><tr><td>-cæˆ–â€“continuous</td><td>æŒç»­åˆ—å‡ºç½‘ç»œçŠ¶æ€ã€‚</td></tr><tr><td>-Cæˆ–â€“cache</td><td>æ˜¾ç¤ºè·¯ç”±å™¨é…ç½®çš„å¿«å–ä¿¡æ¯ã€‚</td></tr><tr><td>-eæˆ–â€“extend</td><td>æ˜¾ç¤ºç½‘ç»œå…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚</td></tr><tr><td>-Fæˆ–â€“fib</td><td>æ˜¾ç¤ºè·¯ç”±ç¼“å­˜ã€‚</td></tr><tr><td>-gæˆ–â€“groups</td><td>æ˜¾ç¤ºå¤šé‡å¹¿æ’­åŠŸèƒ½ç¾¤ç»„ç»„å‘˜åå•ã€‚</td></tr><tr><td>-hæˆ–â€“help</td><td>åœ¨çº¿å¸®åŠ©ã€‚</td></tr><tr><td>-iæˆ–â€“interfaces</td><td>æ˜¾ç¤ºç½‘ç»œç•Œé¢ä¿¡æ¯è¡¨å•ã€‚</td></tr><tr><td><strong>-læˆ–â€“listening</strong></td><td>æ˜¾ç¤ºç›‘æ§ä¸­çš„æœåŠ¡å™¨çš„Socketã€‚</td></tr><tr><td>-Mæˆ–â€“masquerade</td><td>æ˜¾ç¤ºä¼ªè£…çš„ç½‘ç»œè¿çº¿ã€‚</td></tr><tr><td><strong>-næˆ–â€“numeric</strong></td><td>ç›´æ¥ä½¿ç”¨IPåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ã€‚</td></tr><tr><td>-Næˆ–â€“netlinkæˆ–â€“symbolic</td><td>æ˜¾ç¤ºç½‘ç»œç¡¬ä»¶å¤–å›´è®¾å¤‡çš„ç¬¦å·è¿æ¥åç§°ã€‚</td></tr><tr><td>-oæˆ–â€“timers</td><td>æ˜¾ç¤ºè®¡æ—¶å™¨ã€‚</td></tr><tr><td><strong>-pæˆ–â€“programs</strong></td><td>æ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨Socketçš„ç¨‹åºè¯†åˆ«ç å’Œç¨‹åºåç§°ã€‚</td></tr><tr><td><strong>-ræˆ–â€“route</strong></td><td>æ˜¾ç¤ºRouting Tableã€‚</td></tr><tr><td>-sæˆ–â€“statistics</td><td>æ˜¾ç¤ºç½‘ç»œå·¥ä½œä¿¡æ¯ç»Ÿè®¡è¡¨ã€‚</td></tr><tr><td>-tæˆ–â€“tcp</td><td>æ˜¾ç¤ºTCPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</td></tr><tr><td>-uæˆ–â€“udp</td><td>æ˜¾ç¤ºUDPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</td></tr><tr><td>-væˆ–â€“verbose</td><td>æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ã€‚</td></tr><tr><td>-Væˆ–â€“version</td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</td></tr><tr><td>-wæˆ–â€“raw</td><td>æ˜¾ç¤ºRAWä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µã€‚</td></tr><tr><td>-xæˆ–â€“unix</td><td>æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;-A unix&quot;å‚æ•°ç›¸åŒã€‚</td></tr><tr><td>â€“ipæˆ–â€“inet</td><td>æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š&quot;-A inet&quot;å‚æ•°ç›¸åŒã€‚</td></tr></tbody></table></li></ul><h2 id="9ï¼‰ç³»ç»Ÿå¤‡ä»½">9ï¼‰ç³»ç»Ÿå¤‡ä»½</h2><h3 id="1-å¤‡ä»½çš„é‡è¦æ€§">1.å¤‡ä»½çš„é‡è¦æ€§</h3><p>è™½ç„¶ Linux ç³»ç»Ÿéš¾å…ä¼šå› å†…éƒ¨ç¯å¢ƒã€åº•å±‚ç¡¬ä»¶ã€å¤–æ¥é»‘å®¢ç­‰å› ç´ çš„å½±å“å‡ºç°é—®é¢˜ï¼Œä½†ä½œä¸ºä¸€åç³»ç»Ÿç®¡ç†äººå‘˜ï¼Œè‡ªèº«çš„èŒè´£å¹¶ä¸æ˜¯è¦ä¿è¯ç³»ç»Ÿæ°¸è¿œä¸å‡ºé—®é¢˜ï¼ˆäº‹å®ä¸Šä¹Ÿæ˜¯ä¸å¯èƒ½åšåˆ°çš„ï¼‰ï¼Œè€Œæ˜¯è¦åœ¨ç³»ç»Ÿå‡ºç°æ•…éšœæˆ–è€…å´©æºƒæ—¶ï¼Œèƒ½ä»¥æœ€å¿«çš„é€Ÿåº¦ï¼Œç”¨æœ€çŸ­æ—¶é—´æ¢å¤ç³»ç»Ÿçš„è¿è¡Œï¼Œä¿è¯æ•°æ®çš„å®‰å…¨ï¼Œä»è€Œå°†æ•…éšœå¸¦æ¥çš„æŸå¤±é™åˆ°æœ€ä½ã€‚</p><p>è¦å®ç°è¿™æ ·çš„ç›®æ ‡ï¼Œå°±è¦æ±‚ç³»ç»Ÿç®¡ç†äººå‘˜å¯¹ç³»ç»Ÿå’Œä¸šåŠ¡åº”ç”¨æœ‰ä¸€ä¸ªåˆç†çš„å¤‡ä»½æ¢å¤ç­–ç•¥ï¼Œå®Œç¾çš„å¤‡ä»½ç­–ç•¥å¯ä»¥ä¿è¯ä¸šåŠ¡çš„ 0 å®•æœºæ—¶é—´å’Œæ•°æ®çš„å®Œå…¨æ¢å¤ã€‚æœ‰äººè¯´ï¼Œæ—¢ç„¶æ•°æ®å¤‡ä»½éå¸¸é‡è¦ï¼Œé‚£æˆ‘æŠŠé‡è¦æ•°æ®åœ¨ç¡¬ç›˜ä¸­ä¿å­˜ä¸€ä»½ï¼Œåœ¨ç§»åŠ¨ç¡¬ç›˜ä¸­ä¹Ÿä¿å­˜ä¸€ä»½ï¼Œå†åˆ»å½•ä¸€å¼ å…‰ç›˜ï¼Œè¿™æ ·æ•°æ®åº”è¯¥éå¸¸å®‰å…¨äº†å§ï¼Ÿ</p><p>å¯¹ä¸ªäººç”¨æˆ·æ¥è®²ï¼Œè¿™æ ·ä¿å­˜æ•°æ®å·²ç»è¶³å¤Ÿäº†ï¼›ä½†æ˜¯å¯¹ä¼ä¸šç”¨æˆ·æ¥è®²ï¼Œè¿˜æ˜¯æœ‰å®‰å…¨éšæ‚£çš„ï¼Œå› ä¸ºè¿™äº›æ•°æ®è¿˜æ˜¯æ”¾åœ¨åŒä¸€ä¸ªåœ°æ–¹çš„ã€‚è¿˜è®°å¾—ç¾å›½çš„â€œ9Â·11â€äº‹ä»¶å—ï¼Ÿåƒç¾å›½çº½çº¦ä¸–è´¸ä¸­å¿ƒé‚£æ ·çš„åºç„¶å¤§ç‰©ä¹Ÿè½°ç„¶å€’å¡Œã€‚å½“ç„¶ï¼Œç›¸æ¯”è¿™æ ·çš„ç¾éš¾æ¥è®²ï¼Œæ•°æ®çš„æŸå¤±å·²ç»æ˜¯å¾®ä¸è¶³é“çš„äº†ï¼Œä¸è¿‡è¿™ä»ç„¶è¯´æ˜å¼‚åœ°å¤‡ä»½çš„é‡è¦æ€§ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨å¤‡ä»½æ•°æ®çš„æ—¶å€™ï¼Œä¸ä»…è¦æŠŠæ•°æ®ä¿å­˜åœ¨å¤šä¸ªå­˜å‚¨ä»‹è´¨ä¸­ï¼Œè¿˜è¦è€ƒè™‘æŠŠé‡è¦æ•°æ®å¼‚åœ°ä¿å­˜ã€‚</p><h3 id="2-å¤‡ä»½ç­–ç•¥">2.å¤‡ä»½ç­–ç•¥</h3><p>å¸¸ç”¨çš„å¤‡ä»½ç­–ç•¥æœ‰å®Œå…¨å¤‡ä»½å’Œå¢é‡å¤‡ä»½ï¼Œè€Œå¢é‡å¤‡ä»½æœ‰å¯ç»†åˆ†ä¸ºç´¯è®¡å¢é‡å¤‡ä»½å’Œå·®å¼‚å¢é‡å¤‡ä»½ã€‚ä¸‹é¢æ¥åˆ†åˆ«è®²è¿°ä¸åŒå¤‡ä»½ç­–ç•¥ä»¥åŠä¹‹é—´çš„åŒºåˆ«ã€‚</p><ul><li><p><strong>å®Œå…¨å¤‡ä»½</strong></p><p>å®Œå…¨å¤‡ä»½æ˜¯æŒ‡æŠŠæ‰€æœ‰éœ€è¦å¤‡ä»½çš„æ•°æ®å…¨éƒ¨å¤‡ä»½ã€‚å½“ç„¶ï¼Œå®Œå…¨å¤‡ä»½å¯ä»¥å¤‡ä»½æ•´å—ç¡¬ç›˜ã€æ•´ä¸ªåˆ†åŒºæˆ–æŸä¸ªå…·ä½“çš„ç›®å½•ã€‚å¯¹äº Linux æ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œå®Œå…¨å¤‡ä»½æŒ‡çš„å°±æ˜¯å°†æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œå¤‡ä»½ã€‚</p><p>å®Œå…¨å¤‡ä»½çš„å¥½å¤„æ˜¯ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¿›è¡Œäº†å¤‡ä»½ï¼Œç³»ç»Ÿä¸­ä»»ä½•æ•°æ®ä¸¢å¤±éƒ½èƒ½æ¢å¤ï¼Œä¸”æ¢å¤æ•ˆç‡è¾ƒé«˜ã€‚å¦‚æœå®Œå…¨å¤‡ä»½å¤‡ä»½çš„æ˜¯æ•´å—ç¡¬ç›˜ï¼Œé‚£ä¹ˆç”šè‡³ä¸éœ€è¦æ•°æ®æ¢å¤ï¼Œåªè¦æŠŠå¤‡ä»½ç¡¬ç›˜å®‰è£…ä¸Šï¼ŒæœåŠ¡å™¨å°±ä¼šæ¢å¤æ­£å¸¸ã€‚</p><p>å®Œå…¨å¤‡ä»½çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œé‚£å°±æ˜¯éœ€è¦å¤‡ä»½çš„æ•°æ®é‡è¾ƒå¤§ï¼Œå¤‡ä»½æ—¶é—´è¾ƒé•¿ï¼Œå¤‡ä»½äº†å¾ˆå¤šæ— ç”¨æ•°æ®ï¼Œå ç”¨çš„ç©ºé—´è¾ƒå¤§ï¼Œæ‰€ä»¥å®Œå…¨å¤‡ä»½ä¸å¯èƒ½æ¯å¤©æ‰§è¡Œã€‚</p><p>æˆ‘ä»¬ä¸€èˆ¬ä¼šå¯¹å…³é”®æœåŠ¡å™¨è¿›è¡Œæ•´ç›˜å®Œå…¨å¤‡ä»½ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œåˆ™å¯ä»¥å¾ˆå¿«åœ°ä½¿ç”¨å¤‡ä»½ç¡¬ç›˜è¿›è¡Œæ›¿æ¢ï¼Œä»è€Œå‡å°‘æŸå¤±ã€‚æˆ‘ä»¬ç”šè‡³ä¼šå¯¹å…³é”®æœåŠ¡å™¨æ­è®¾ä¸€å°ä¸€æ¨¡ä¸€æ ·çš„æœåŠ¡å™¨ï¼Œè¿™æ ·åªè¦è¿œç¨‹å‡ ä¸ªå‘½ä»¤ï¼ˆæˆ–ä½¿ç”¨ Shell è„šæœ¬è‡ªåŠ¨æ£€æµ‹ï¼Œè‡ªåŠ¨è¿›è¡ŒæœåŠ¡å™¨æ›¿æ¢ï¼‰ï¼Œå¤‡ä»½æœåŠ¡å™¨å°±ä¼šæ¥æ›¿åŸæœ¬çš„æœåŠ¡å™¨ï¼Œä½¿æ•…éšœå“åº”æ—¶é—´å¤§å¤§ç¼©çŸ­ã€‚</p></li><li><p><strong>ç´¯è®¡å¢é‡å¤‡ä»½</strong></p><p>åœ¨ä¸€ä¸ªæ•°æ®é‡å¾ˆå¤§çš„ä¸šåŠ¡åº”ç”¨ä¸­ï¼Œæ¯å¤©å¯¹ Linux ç³»ç»Ÿè¿›è¡Œå®Œå…¨å¤‡ä»½æ˜¯ä¸ç°å®çš„ï¼Œè¿™å°±éœ€è¦ç”¨åˆ°å¢é‡å¤‡ä»½ç­–ç•¥ã€‚</p><p>ç´¯è®¡å¢é‡å¤‡ä»½æ˜¯æŒ‡å…ˆè¿›è¡Œä¸€æ¬¡å®Œå…¨å¤‡ä»½ï¼ŒæœåŠ¡å™¨è¿è¡Œä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ¯”è¾ƒå½“å‰ç³»ç»Ÿå’Œå®Œå…¨å¤‡ä»½çš„å¤‡ä»½æ•°æ®ä¹‹é—´çš„å·®å¼‚ï¼Œåªå¤‡ä»½æœ‰å·®å¼‚çš„æ•°æ®ã€‚æœåŠ¡å™¨ç»§ç»­è¿è¡Œï¼Œå†ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œè¿›è¡Œç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½ã€‚åœ¨è¿›è¡Œç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½æ—¶ï¼Œå½“å‰ç³»ç»Ÿå’Œç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œä¹Ÿæ˜¯åªå¤‡ä»½æœ‰å·®å¼‚çš„æ•°æ®ã€‚ç¬¬ä¸‰æ¬¡å¢é‡å¤‡ä»½æ˜¯å’Œç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>å› æ­¤ï¼Œç´¯è®¡å¢é‡å¤‡ä»½å°±æ˜¯åªå¤‡ä»½æ¯å¤©å¢åŠ æˆ–è€…å˜åŒ–çš„æ•°æ®ï¼Œè€Œä¸å¤‡ä»½ç³»ç»Ÿä¸­æ²¡æœ‰å˜åŠ¨çš„æ•°æ®ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/2-1Q0291641164c.jpg" alt="ç´¯è®¡å¢é‡å¤‡ä»½"></p><p>å‡è®¾æˆ‘ä»¬åœ¨ç¬¬ä¸€å¤©è¿›è¡Œä¸€æ¬¡å®Œå…¨å¤‡ä»½ã€‚ç¬¬äºŒå¤©å¢é‡å¤‡ä»½æ—¶ï¼Œåªä¼šå¤‡ä»½ç¬¬äºŒå¤©å’Œç¬¬ä¸€å¤©ä¹‹é—´çš„å·®å¼‚æ•°æ®ï¼Œä½†æ˜¯ç¬¬äºŒå¤©çš„æ€»å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ã€‚ç¬¬ä¸‰å¤©å¢é‡å¤‡ä»½æ—¶ï¼Œåªä¼šå¤‡ä»½ç¬¬ä¸‰å¤©å’Œç¬¬äºŒå¤©ä¹‹é—´çš„å·®å¼‚æ•°æ®ï¼Œä½†æ˜¯ç¬¬ä¸‰å¤©çš„æ€»å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ï¼Œå†åŠ ç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ã€‚å½“ç„¶ï¼Œç¬¬å››å¤©å¢é‡å¤‡ä»½æ—¶ï¼Œåªä¼šå¤‡ä»½ç¬¬å››å¤©å’Œç¬¬ä¸‰å¤©çš„å·®å¼‚æ•°æ®ï¼Œä½†æ˜¯ç¬¬å››å¤©çš„æ€»å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ï¼ŒåŠ ç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ï¼Œå†åŠ ç¬¬ä¸‰æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ã€‚</p><p>é‡‡ç”¨ç´¯è®¡å¢é‡å¤‡ä»½çš„å¥½å¤„æ˜¯ï¼Œæ¯æ¬¡å¤‡ä»½éœ€è¦å¤‡ä»½çš„æ•°æ®è¾ƒå°‘ï¼Œè€—æ—¶è¾ƒçŸ­ï¼Œå ç”¨çš„ç©ºé—´è¾ƒå°ï¼›åå¤„æ˜¯æ•°æ®æ¢å¤æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœå›¾ä¸Šçš„ä¾‹å­ï¼Œé‚£ä¹ˆå½“è¿›è¡Œæ•°æ®æ¢å¤æ—¶ï¼Œå°±è¦å…ˆæ¢å¤å®Œå…¨å¤‡ä»½çš„æ•°æ®ï¼Œå†ä¾æ¬¡æ¢å¤ç¬¬ä¸€æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ã€ç¬¬äºŒæ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®å’Œç¬¬ä¸‰æ¬¡å¢é‡å¤‡ä»½çš„æ•°æ®ï¼Œæœ€ç»ˆæ‰èƒ½æ¢å¤æ‰€æœ‰çš„æ•°æ®ã€‚</p></li><li><p><strong>å·®å¼‚å¢é‡å¤‡ä»½</strong></p><p>å·®å¼‚å¢é‡å¤‡ä»½ï¼ˆåç»­ç®€ç§°å·®å¼‚å¤‡ä»½ï¼‰ä¹Ÿè¦å…ˆè¿›è¡Œä¸€æ¬¡å®Œå…¨å¤‡ä»½ï¼Œä½†æ˜¯å’Œç´¯è®¡å¢é‡å¤‡ä»½ä¸åŒçš„æ˜¯ï¼Œæ¯æ¬¡å·®å¼‚å¤‡ä»½éƒ½å¤‡ä»½å’ŒåŸå§‹çš„å®Œå…¨å¤‡ä»½ä¸åŒçš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå·®å¼‚å¤‡ä»½æ¯æ¬¡å¤‡ä»½çš„å‚ç…§ç‰©éƒ½æ˜¯åŸå§‹çš„å®Œå…¨å¤‡ä»½ï¼Œè€Œä¸æ˜¯ä¸Šä¸€æ¬¡çš„å·®å¼‚å¤‡ä»½ã€‚</p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/2-1Q02916415T37.jpg" alt="å·®å¼‚å¢é‡å¤‡ä»½"></p><p>å‡è®¾æˆ‘ä»¬åœ¨ç¬¬ä¸€å¤©ä¹Ÿè¿›è¡Œä¸€æ¬¡å®Œå…¨å¤‡ä»½ã€‚ç¬¬äºŒå¤©å·®å¼‚å¤‡ä»½æ—¶ï¼Œä¼šå¤‡ä»½ç¬¬äºŒå¤©å’Œç¬¬ä¸€å¤©ä¹‹é—´çš„å·®å¼‚æ•°æ®ï¼Œè€Œç¬¬äºŒå¤©çš„å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬ä¸€æ¬¡å·®å¼‚å¤‡ä»½çš„æ•°æ®ã€‚ç¬¬ä¸‰å¤©è¿›è¡Œå·®å¼‚å¤‡ä»½æ—¶ï¼Œä»å’Œç¬¬ä¸€å¤©çš„åŸå§‹æ•°æ®è¿›è¡Œå¯¹æ¯”ï¼ŒæŠŠç¬¬äºŒå¤©å’Œç¬¬ä¸‰å¤©æ‰€æœ‰çš„æ•°æ®éƒ½å¤‡ä»½åœ¨ç¬¬äºŒæ¬¡å·®å¼‚å¤‡ä»½ä¸­ï¼Œç¬¬ä¸‰å¤©çš„å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬äºŒæ¬¡å·®å¼‚å¤‡ä»½çš„æ•°æ®ã€‚ç¬¬å››å¤©è¿›è¡Œå·®å¼‚å¤‡ä»½æ—¶ï¼Œä»å’Œç¬¬ä¸€å¤©çš„åŸå§‹æ•°æ®è¿›è¡Œå¯¹æ¯”ï¼ŒæŠŠç¬¬äºŒå¤©ã€ç¬¬ä¸‰å¤©å’Œç¬¬å››å¤©æ‰€æœ‰çš„ä¸åŒæ•°æ®éƒ½å¤‡ä»½åˆ°ç¬¬ä¸‰æ¬¡å·®å¼‚å¤‡ä»½ä¸­ï¼Œç¬¬å››å¤©çš„å¤‡ä»½æ•°æ®æ˜¯å®Œå…¨å¤‡ä»½åŠ ç¬¬ä¸‰æ¬¡å·®å¼‚å¤‡ä»½çš„æ•°æ®ã€‚</p><p>ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œå·®å¼‚å¤‡ä»½æ—¢ä¸åƒå®Œå…¨å¤‡ä»½ä¸€æ ·æŠŠæ‰€æœ‰æ•°æ®éƒ½è¿›è¡Œå¤‡ä»½ï¼Œä¹Ÿä¸åƒå¢é‡å¤‡ä»½åœ¨è¿›è¡Œæ•°æ®æ¢å¤æ—¶é‚£ä¹ˆéº»çƒ¦ï¼Œåªè¦å…ˆæ¢å¤å®Œå…¨å¤‡ä»½çš„æ•°æ®ï¼Œå†æ¢å¤å·®å¼‚å¤‡ä»½çš„æ•°æ®å³å¯ã€‚ä¸è¿‡ï¼Œéšç€æ—¶é—´çš„å¢åŠ ï¼Œå’Œå®Œå…¨å¤‡ä»½ç›¸æ¯”ï¼Œå˜åŠ¨çš„æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œé‚£ä¹ˆå·®å¼‚å¤‡ä»½ä¹Ÿå¯èƒ½ä¼šå˜å¾—æ•°æ®é‡åºå¤§ã€å¤‡ä»½é€Ÿåº¦ç¼“æ…¢ã€å ç”¨ç©ºé—´è¾ƒå¤§ã€‚</p></li></ul><h3 id="3-tarå‘½ä»¤å¤‡ä»½æ•°æ®">3.tarå‘½ä»¤å¤‡ä»½æ•°æ®</h3><p>ä¸‹é¢é€šè¿‡ tar å‘½ä»¤åšçš„ä¸€ä¸ª Web æœåŠ¡å™¨çš„å¤‡ä»½è„šæœ¬ï¼Œè¯¦ç»†äº†è§£ tar å‘½ä»¤ä½œä¸ºå¤‡ä»½å·¥å…·æ—¶çš„å…·ä½“ç”¨æ³•ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">BAKDATE=`<span class="built_in">date</span> +%y%m%d`</span><br><span class="line">DATA3=`<span class="built_in">date</span> -d <span class="string">&quot;3 days ago&quot;</span> +%y%m%d`</span><br><span class="line">osdata=/disk1</span><br><span class="line">userdata=/disk2</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;backup OS data starting&quot;</span></span><br><span class="line">tar -zcvf /<span class="variable">$osdata</span>/etc.data/etc_<span class="variable">$BAKDATE</span>.tar.gz /etc</span><br><span class="line">tar -zcvf /<span class="variable">$osdata</span>/boot.data/boot_<span class="variable">$BAKDATE</span>.tar.gz /boot</span><br><span class="line">tar -zcvf /<span class="variable">$osdata</span>/home.data/home_<span class="variable">$BAKDATE</span>.tar.gz /home</span><br><span class="line">tar -zcvf /<span class="variable">$osdata</span>/root.data/root_<span class="variable">$BAKDATE</span>.tar.gz /root</span><br><span class="line">tar -zcvf /<span class="variable">$userdata</span>/usr_data/usrlocal_<span class="variable">$BAKDATE</span>.tar.gz /usr/local</span><br><span class="line">tar -zcvf /<span class="variable">$userdata</span>/var_www/www_<span class="variable">$BAKDATE</span>.tar.gz /var/www</span><br><span class="line"><span class="built_in">cp</span> -r /<span class="variable">$osdata</span>/* /<span class="variable">$userdata</span></span><br><span class="line"><span class="built_in">cp</span> -r /<span class="variable">$userdata</span>/* /<span class="variable">$osdata</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Backup OS data complete!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;delete OS data 3 days ago&quot;</span></span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/etc.data/etc_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/boot.data/boot_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/home.data/home_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/root.data/root_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/usr_data/usrlocal_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$osdata</span>/var_www/www_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/etc.data/etc_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/boot.data/boot_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/home.data/home_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/root.data/root_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/usr_data/usrlocal_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">rm</span> -rf /<span class="variable">$userdata</span>/var_www/www_<span class="variable">$DATA3</span>.tar.gz</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;delete cws ok!&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ®µè„šæœ¬å®Œæˆçš„å·¥ä½œæ˜¯ï¼Œå°†ç³»ç»Ÿå’Œç”¨æˆ·çš„å¤‡ä»½æ•°æ®åˆ†åˆ«ä¿å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„æœ¬åœ°ç£ç›˜ disk1 å’Œ disk2 ä¸­ï¼Œå¹¶ä¸”ä¿ç•™æœ€è¿‘ 3 å¤©çš„æ•°æ®ï¼Œ3 å¤©å‰çš„æ•°æ®è‡ªåŠ¨åˆ é™¤ã€‚ä¸»è¦å¤‡ä»½çš„æ•°æ®æœ‰ /etc ç›®å½•ã€/boot ç›®å½•ã€/home ç›®å½•ã€/root ç›®å½•ã€/usr/local ç›®å½•å’Œ /var/www ç›®å½•ã€‚å½“ç„¶è¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œå‡¡æ˜¯å­˜æ”¾æ•°æ®çš„é‡è¦ç›®å½•ï¼Œéƒ½éœ€è¦è¿›è¡Œå¤‡ä»½ã€‚</p><h2 id="20ï¼‰å·¥å…·">20ï¼‰å·¥å…·</h2><h3 id="1-VI-VIM-æ–‡æ¡£ç¼–è¾‘å™¨">.1 VI/VIM æ–‡æ¡£ç¼–è¾‘å™¨</h3><ul><li><p><strong>æ¦‚å¿µ</strong></p><p>VIæ˜¯Unixæ“ä½œç³»ç»Ÿå’Œç±»Unixæ“ä½œç³»ç»Ÿä¸­æœ€é€šç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨</p><p>VIMç¼–è¾‘å™¨æ˜¯ä»VIå‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ€§èƒ½æ›´åŠ å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å¯ä»¥ä¸»åŠ¨çš„ä»¥å­—ä½“é¢œè‰²è¾¨åˆ«è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œæ–¹ä¾¿ç¨‹åºè®¾è®¡ã€‚VIMä¸VIå®Œå…¨å…¼å®¹ã€‚</p></li><li><p><strong>æ¨¡å¼è½¬æ¢</strong></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/Snipaste_2022-12-08_19-29-30.png" alt="Snipaste_2022-12-08_19-29-30"></p></li><li><p><strong>ä¸€èˆ¬æ¨¡å¼</strong></p><table><thead><tr><th>è¯­æ³•</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>yy</td><td>å¤åˆ¶å…‰æ ‡å½“å‰ä¸€è¡Œ</td></tr><tr><td>yæ•°å­—y</td><td>å¤åˆ¶ä¸€æ®µï¼ˆä»å…‰æ ‡å½“å‰è¡Œåˆ°ånè¡Œï¼‰ï¼ˆåŒæ•°å­—yyï¼‰</td></tr><tr><td>p</td><td>ç®­å¤´ç§»åŠ¨åˆ°ç›®çš„è¡Œé»è´´ï¼ˆæ•°å­—p å¤åˆ¶xæ¬¡ï¼‰</td></tr><tr><td>u</td><td>æ’¤é”€ä¸Šä¸€æ­¥</td></tr><tr><td>dd</td><td>åˆ é™¤å…‰æ ‡å½“å‰è¡Œ</td></tr><tr><td>dæ•°å­—d</td><td>åˆ é™¤å…‰æ ‡ï¼ˆå«ï¼‰åå¤šå°‘è¡Œ</td></tr><tr><td>x</td><td>å‰ªåˆ‡ä¸€ä¸ªå­—ç¬¦ï¼ˆå½“å‰å…‰æ ‡ï¼‰ï¼Œç›¸å½“äºdel</td></tr><tr><td>X</td><td>å‰ªåˆ‡ä¸€ä¸ªå­—ç¬¦ï¼ˆå½“å‰å…‰æ ‡çš„å‰ä¸€ä¸ªï¼‰ï¼Œç›¸å½“äºBackspace</td></tr><tr><td>yw</td><td>å¤åˆ¶ä¸€ä¸ªè¯</td></tr><tr><td>dw</td><td>åˆ é™¤ä¸€ä¸ªè¯</td></tr><tr><td>shift+6ï¼ˆ^ï¼‰</td><td>ç§»åŠ¨åˆ°è¡Œå¤´</td></tr><tr><td>shift+4ï¼ˆ$ï¼‰</td><td>ç§»åŠ¨åˆ°å°¾</td></tr><tr><td>shift+r</td><td>å˜ä¸ºæ’å…¥æ¨¡å¼</td></tr><tr><td>w</td><td>ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªè¯ï¼ˆè¯å¤´ä½ç½®ï¼‰</td></tr><tr><td>e</td><td>ç§»åŠ¨åˆ°å½“å‰è¯å°¾</td></tr><tr><td>1+G</td><td>ç§»åŠ¨åˆ°é¡µå¤´ï¼Œæ•°å­—</td></tr><tr><td>G</td><td>ç§»åŠ¨åˆ°é¡µå°¾</td></tr><tr><td>æ•°å­—N+G</td><td>ç§»åŠ¨åˆ°ç›®æ ‡è¡Œ</td></tr></tbody></table></li><li><p><strong>ç¼–è¾‘æ¨¡å¼</strong></p><p>æŒ‰ä¸‹ä»¥ä¸‹æŒ‰é”®æ—¶ï¼Œåœ¨ç”»é¢çš„å·¦ä¸‹æ–¹ä¼šå‡ºç°ã€INSERT æˆ– REPLACEã€‘çš„å­—æ ·ã€‚å›åˆ°ä¸€èˆ¬æ¨¡å¼æŒ‰ã€Escã€‘ã€‚</p><table><thead><tr><th>æŒ‰é”®</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>i</td><td>å½“å‰å…‰æ ‡å‰</td></tr><tr><td>a</td><td>å½“å‰å…‰æ ‡å</td></tr><tr><td>o</td><td>å½“å‰å…‰æ ‡ä¸‹ä¸€è¡Œ</td></tr><tr><td>I</td><td>å…‰æ ‡æ‰€åœ¨è¡Œæœ€å‰</td></tr><tr><td>A</td><td>å…‰æ ‡æ‰€åœ¨è¡Œæœ€å</td></tr><tr><td>O</td><td>å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šä¸€è¡Œ</td></tr></tbody></table></li><li><p>æŒ‡ä»¤æ¨¡å¼</p><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>:w</td><td>ä¿å­˜</td></tr><tr><td>:q</td><td>é€€å‡º</td></tr><tr><td>:wq</td><td>ä¿å­˜åé€€å‡º</td></tr><tr><td>:q!</td><td>ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º</td></tr><tr><td>/è¦æŸ¥æ‰¾çš„è¯</td><td>næŸ¥æ‰¾ä¸‹ä¸€ä¸ªï¼ŒNå¾€ä¸ŠæŸ¥æ‰¾</td></tr><tr><td>:noh</td><td>å–æ¶ˆé«˜äº®</td></tr><tr><td>:set nu</td><td>æ˜¾ç¤ºè¡Œå·</td></tr><tr><td>:set nonu</td><td>å…³é—­è¡Œå·</td></tr><tr><td>ğŸ˜’/old/new</td><td>æ›¿æ¢å½“å‰è¡ŒåŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªoldä¸ºnew</td></tr><tr><td>ğŸ˜’/old/new/g</td><td>æ›¿æ¢å½“å‰è¡ŒåŒ¹é…åˆ°çš„æ‰€æœ‰oldä¸ºnew</td></tr><tr><td>:%s/old/new</td><td>æ›¿æ¢æ–‡æ¡£ä¸­æ¯ä¸€è¡ŒåŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªoldä¸ºnew</td></tr><tr><td>:%s/old/new/g</td><td>æ›¿æ¢æ–‡æ¡£ä¸­æ‰€æœ‰çš„oldä¸ºnew</td></tr></tbody></table><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/20190919184602447.png" alt="20190919184602447"></p></li></ul><h3 id="2-wget-ä¸‹è½½æ–‡ä»¶å·¥å…·">.2 wget ä¸‹è½½æ–‡ä»¶å·¥å…·</h3><ul><li><p><strong>ä»‹ç»</strong></p><p>Linuxç³»ç»Ÿä¸­çš„ wget æ˜¯ä¸€ä¸ªä¸‹è½½æ–‡ä»¶çš„å·¥å…·ï¼Œå®ƒç”¨åœ¨å‘½ä»¤è¡Œä¸‹ã€‚å¯¹äºLinuxç”¨æˆ·æ˜¯å¿…ä¸å¯å°‘çš„å·¥å…·ï¼Œæˆ‘ä»¬ç»å¸¸è¦ä¸‹è½½ä¸€äº›è½¯ä»¶æˆ–ä»è¿œç¨‹æœåŠ¡å™¨æ¢å¤å¤‡ä»½åˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚wgetæ”¯æŒHTTPï¼ŒHTTPSå’ŒFTPåè®®ï¼Œå¯ä»¥ä½¿ç”¨HTTPä»£ç†ã€‚æ‰€è°“çš„è‡ªåŠ¨ä¸‹è½½æ˜¯æŒ‡ï¼Œwgetå¯ä»¥åœ¨ç”¨æˆ·é€€å‡ºç³»ç»Ÿçš„ä¹‹ååœ¨åå°æ‰§è¡Œã€‚è¿™æ„å‘³è¿™ä½ å¯ä»¥ç™»å½•ç³»ç»Ÿï¼Œå¯åŠ¨ä¸€ä¸ªwgetä¸‹è½½ä»»åŠ¡ï¼Œç„¶åé€€å‡ºç³»ç»Ÿï¼Œwgetå°†åœ¨åå°æ‰§è¡Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼Œç›¸å¯¹äºå…¶å®ƒå¤§éƒ¨åˆ†æµè§ˆå™¨åœ¨ä¸‹è½½å¤§é‡æ•°æ®æ—¶éœ€è¦ç”¨æˆ·ä¸€ç›´çš„å‚ä¸ï¼Œè¿™çœå»äº†æå¤§çš„éº»çƒ¦ã€‚</p><p>wget å¯ä»¥è·Ÿè¸ªHTMLé¡µé¢ä¸Šçš„é“¾æ¥ä¾æ¬¡ä¸‹è½½æ¥åˆ›å»ºè¿œç¨‹æœåŠ¡å™¨çš„æœ¬åœ°ç‰ˆæœ¬ï¼Œå®Œå…¨é‡å»ºåŸå§‹ç«™ç‚¹çš„ç›®å½•ç»“æ„ã€‚è¿™åˆå¸¸è¢«ç§°ä½œâ€é€’å½’ä¸‹è½½â€ã€‚åœ¨é€’å½’ä¸‹è½½çš„æ—¶å€™ï¼Œwget éµå¾ªRobot Exclusionæ ‡å‡†(/robots.txt). wgetå¯ä»¥åœ¨ä¸‹è½½çš„åŒæ—¶ï¼Œå°†é“¾æ¥è½¬æ¢æˆæŒ‡å‘æœ¬åœ°æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿ç¦»çº¿æµè§ˆã€‚</p><p>wget éå¸¸ç¨³å®šï¼Œå®ƒåœ¨å¸¦å®½å¾ˆçª„çš„æƒ…å†µä¸‹å’Œä¸ç¨³å®šç½‘ç»œä¸­æœ‰å¾ˆå¼ºçš„é€‚åº”æ€§.å¦‚æœæ˜¯ç”±äºç½‘ç»œçš„åŸå› ä¸‹è½½å¤±è´¥ï¼Œwgetä¼šä¸æ–­çš„å°è¯•ï¼Œç›´åˆ°æ•´ä¸ªæ–‡ä»¶ä¸‹è½½å®Œæ¯•ã€‚å¦‚æœæ˜¯æœåŠ¡å™¨æ‰“æ–­ä¸‹è½½è¿‡ç¨‹ï¼Œå®ƒä¼šå†æ¬¡è”åˆ°æœåŠ¡å™¨ä¸Šä»åœæ­¢çš„åœ°æ–¹ç»§ç»­ä¸‹è½½ã€‚è¿™å¯¹ä»é‚£äº›é™å®šäº†é“¾æ¥æ—¶é—´çš„æœåŠ¡å™¨ä¸Šä¸‹è½½å¤§æ–‡ä»¶éå¸¸æœ‰ç”¨ã€‚</p></li><li><p>å®‰è£…</p><p>é»˜è®¤çš„yumæºä¸æ”¯æŒç›´æ¥ä¸‹è½½ï¼Œä½¿ç”¨curlæ›´æ¢æº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure></li><li><p><strong>è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# wget [options] [URLåœ°å€]</span><br></pre></td></tr></table></figure></li><li><p><strong>é€‰é¡¹</strong></p><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-a &lt;æ—¥å¿—æ–‡ä»¶&gt;</td><td>åœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•èµ„æ–™çš„æ‰§è¡Œè¿‡ç¨‹ï¼›</td></tr><tr><td>-A &lt;åç¼€å&gt;</td><td>æŒ‡å®šè¦ä¸‹è½½æ–‡ä»¶çš„åç¼€åï¼Œå¤šä¸ªåç¼€åä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œåˆ†éš”ï¼›</td></tr><tr><td>-b</td><td>è¿›è¡Œåå°çš„æ–¹å¼è¿è¡Œwgetï¼›</td></tr><tr><td>-B &lt;è¿æ¥åœ°å€&gt;</td><td>è®¾ç½®å‚è€ƒçš„è¿æ¥åœ°å€çš„åŸºåœ°åœ°å€ï¼›</td></tr><tr><td>-c</td><td>ç»§ç»­æ‰§è¡Œä¸Šæ¬¡ç»ˆç«¯çš„ä»»åŠ¡(æ–­ç‚¹ç»­ä¼ )ï¼›</td></tr><tr><td>-C &lt;æ ‡å¿—&gt;</td><td>è®¾ç½®æœåŠ¡å™¨æ•°æ®å—åŠŸèƒ½æ ‡å¿—onä¸ºæ¿€æ´»ï¼Œoffä¸ºå…³é—­ï¼Œé»˜è®¤å€¼ä¸ºonï¼›</td></tr><tr><td>-d</td><td>è°ƒè¯•æ¨¡å¼è¿è¡ŒæŒ‡ä»¤ï¼›</td></tr><tr><td>-D &lt;åŸŸååˆ—è¡¨&gt;</td><td>è®¾ç½®é¡ºç€çš„åŸŸååˆ—è¡¨ï¼ŒåŸŸåä¹‹é—´ç”¨â€œï¼Œâ€åˆ†éš”ï¼›</td></tr><tr><td>-e &lt;æŒ‡ä»¤&gt;</td><td>ä½œä¸ºæ–‡ä»¶â€œ.wgetrcâ€ä¸­çš„ä¸€éƒ¨åˆ†æ‰§è¡ŒæŒ‡å®šçš„æŒ‡ä»¤ï¼›</td></tr><tr><td>-h</td><td>æ˜¾ç¤ºæŒ‡ä»¤å¸®åŠ©ä¿¡æ¯ï¼›</td></tr><tr><td>-i &lt;æ–‡ä»¶&gt;</td><td>ä»æŒ‡å®šæ–‡ä»¶è·å–è¦ä¸‹è½½çš„URLåœ°å€ï¼›</td></tr><tr><td>-l &lt;ç›®å½•åˆ—è¡¨&gt;</td><td>è®¾ç½®é¡ºç€çš„ç›®å½•åˆ—è¡¨ï¼Œå¤šä¸ªç›®å½•ç”¨â€œï¼Œâ€åˆ†éš”ï¼›</td></tr><tr><td>-L</td><td>ä»…é¡ºç€å…³è”çš„è¿æ¥ï¼›</td></tr><tr><td>-O &lt;æ–°æ–‡ä»¶å&gt;</td><td><strong>ä¸‹è½½å¹¶ä»¥ä¸åŒçš„æ–‡ä»¶åä¿å­˜</strong></td></tr><tr><td>-r</td><td>é€’å½’ä¸‹è½½æ–¹å¼ï¼›</td></tr><tr><td>-nc</td><td>æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œä¸‹è½½æ–‡ä»¶ä¸è¦†ç›–åŸæœ‰æ–‡ä»¶ï¼›</td></tr><tr><td>-nv</td><td>ä¸‹è½½æ—¶åªæ˜¾ç¤ºæ›´æ–°å’Œå‡ºé”™ä¿¡æ¯ï¼Œä¸æ˜¾ç¤ºæŒ‡ä»¤çš„è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹ï¼›</td></tr><tr><td>-q</td><td>ä¸æ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›</td></tr><tr><td>-nh</td><td>ä¸æŸ¥è¯¢ä¸»æœºåç§°ï¼›</td></tr><tr><td>-v</td><td>æ˜¾ç¤ºè¯¦ç»†æ‰§è¡Œè¿‡ç¨‹ï¼›</td></tr><tr><td>-V</td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼›</td></tr><tr><td><code>--limit-rate=&lt;300k&gt;</code></td><td><strong>é™é€Ÿ300kä¸‹è½½</strong></td></tr><tr><td>â€“passive-ftp</td><td>ä½¿ç”¨è¢«åŠ¨æ¨¡å¼PASVè¿æ¥FTPæœåŠ¡å™¨ï¼›</td></tr><tr><td>â€“follow-ftp</td><td>ä»HTMLæ–‡ä»¶ä¸­ä¸‹è½½FTPè¿æ¥æ–‡ä»¶ã€‚</td></tr><tr><td>â€“user-agent=&lt;è¯·æ±‚å¤´&gt;</td><td>ä¼ªè£…ä»£ç†ä¸‹è½½</td></tr></tbody></table></li><li><p><strong>eg.</strong></p><ol><li><p><strong>ä¼ªè£…ä»£ç†åç§°ä¸‹è½½</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --user-agent=<span class="string">&quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16&quot;</span> http://www.coonote.com/testfile.zip</span><br></pre></td></tr></table></figure><p>æœ‰äº›ç½‘ç«™èƒ½é€šè¿‡æ ¹æ®åˆ¤æ–­ä»£ç†åç§°ä¸æ˜¯æµè§ˆå™¨è€Œæ‹’ç»ä½ çš„ä¸‹è½½è¯·æ±‚ã€‚ä¸è¿‡ä½ å¯ä»¥é€šè¿‡<code>--user-agent</code>å‚æ•°ä¼ªè£…ã€‚</p></li><li><p><strong>æµ‹è¯•ä¸‹è½½é“¾æ¥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --spider URL</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸‹è½½é“¾æ¥æ­£ç¡®ï¼Œå°†ä¼šæ˜¾ç¤º:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Spider mode enabled. Check <span class="keyword">if</span> remote file exists.</span><br><span class="line">HTTP request sent, awaiting response... 200 OK</span><br><span class="line">Length: unspecified [text/html]</span><br><span class="line">Remote file exists and could contain further links,</span><br><span class="line">but recursion is disabled -- not retrieving.</span><br></pre></td></tr></table></figure><p>è¿™ä¿è¯äº†ä¸‹è½½èƒ½åœ¨é¢„å®šçš„æ—¶é—´è¿›è¡Œï¼Œä½†å½“ä½ ç»™é”™äº†ä¸€ä¸ªé“¾æ¥ï¼Œå°†ä¼šæ˜¾ç¤ºå¦‚ä¸‹é”™è¯¯:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget --spider url</span><br><span class="line">Spider mode enabled. Check <span class="keyword">if</span> remote file exists.</span><br><span class="line">HTTP request sent, awaiting response... 404 Not Found</span><br><span class="line">Remote file does not exist -- broken <span class="built_in">link</span>!!!</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä¸‹ä½¿ç”¨<code>--spider</code>å‚æ•°ï¼š</p><ul><li><p>å®šæ—¶ä¸‹è½½ä¹‹å‰è¿›è¡Œæ£€æŸ¥</p></li><li><p>é—´éš”æ£€æµ‹ç½‘ç«™æ˜¯å¦å¯ç”¨</p></li><li><p>æ£€æŸ¥ç½‘ç«™é¡µé¢çš„æ­»é“¾æ¥</p></li></ul></li><li><p><strong>å¢åŠ é‡è¯•æ¬¡æ•°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --tries=40 URL</span><br></pre></td></tr></table></figure><p>å¦‚æœç½‘ç»œæœ‰é—®é¢˜æˆ–ä¸‹è½½ä¸€ä¸ªå¤§æ–‡ä»¶ä¹Ÿæœ‰å¯èƒ½å¤±è´¥ã€‚wgeté»˜è®¤é‡è¯•20æ¬¡è¿æ¥ä¸‹è½½æ–‡ä»¶ã€‚å¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>--tries</code>å¢åŠ é‡è¯•æ¬¡æ•°ã€‚</p></li><li><p><strong>ä¸‹è½½å¤šä¸ªæ–‡ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -i filelist.txt</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œä¿å­˜ä¸€ä»½ä¸‹è½½é“¾æ¥æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; filelist.txt</span><br><span class="line">url1</span><br><span class="line">url2</span><br><span class="line">url3</span><br><span class="line">url4</span><br></pre></td></tr></table></figure><p>æ¥ç€ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶å’Œå‚æ•°<code>-i</code>ä¸‹è½½ã€‚</p></li><li><p><strong>é•œåƒç½‘ç«™</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --mirror -p --convert-links -P ./LOCAL URL</span><br></pre></td></tr></table></figure><p>ä¸‹è½½æ•´ä¸ªç½‘ç«™åˆ°æœ¬åœ°ã€‚</p><ul><li><code>--miror</code>å¼€æˆ·é•œåƒä¸‹è½½ã€‚</li><li><code>-p</code>ä¸‹è½½æ‰€æœ‰ä¸ºäº†htmlé¡µé¢æ˜¾ç¤ºæ­£å¸¸çš„æ–‡ä»¶ã€‚</li><li><code>--convert-links</code>ä¸‹è½½åï¼Œè½¬æ¢æˆæœ¬åœ°çš„é“¾æ¥ã€‚</li><li><code>-P ./LOCAL</code>ä¿å­˜æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åˆ°æœ¬åœ°æŒ‡å®šç›®å½•ã€‚</li></ul><p><strong>è¿‡æ»¤æŒ‡å®šæ ¼å¼ä¸‹è½½</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --reject=gif ur</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ä¸€ä¸ªç½‘ç«™ï¼Œä½†ä½ ä¸å¸Œæœ›ä¸‹è½½å›¾ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤ã€‚</p><p>1</p></li><li><p><strong>æŠŠä¸‹è½½ä¿¡æ¯å­˜å…¥æ—¥å¿—æ–‡ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -o download.log URL</span><br></pre></td></tr></table></figure><p>ä¸å¸Œæœ›ä¸‹è½½ä¿¡æ¯ç›´æ¥æ˜¾ç¤ºåœ¨ç»ˆç«¯è€Œæ˜¯åœ¨ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ã€‚</p></li><li><p><strong>é™åˆ¶æ€»ä¸‹è½½æ–‡ä»¶å¤§å°</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -Q5m -i filelist.txt</span><br></pre></td></tr></table></figure><p>å½“ä½ æƒ³è¦ä¸‹è½½çš„æ–‡ä»¶è¶…è¿‡5Mè€Œé€€å‡ºä¸‹è½½ï¼Œä½ å¯ä»¥ä½¿ç”¨ã€‚æ³¨æ„ï¼šè¿™ä¸ªå‚æ•°å¯¹å•ä¸ªæ–‡ä»¶ä¸‹è½½ä¸èµ·ä½œç”¨ï¼Œåªèƒ½é€’å½’ä¸‹è½½æ—¶æ‰æœ‰æ•ˆã€‚</p></li><li><p><strong>ä¸‹è½½æŒ‡å®šæ ¼å¼æ–‡ä»¶</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -r -A.pdf url</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨è¯¥åŠŸèƒ½ï¼š</p><ul><li>ä¸‹è½½ä¸€ä¸ªç½‘ç«™çš„æ‰€æœ‰å›¾ç‰‡ã€‚</li><li>ä¸‹è½½ä¸€ä¸ªç½‘ç«™çš„æ‰€æœ‰è§†é¢‘ã€‚</li><li>ä¸‹è½½ä¸€ä¸ªç½‘ç«™çš„æ‰€æœ‰PDFæ–‡ä»¶ã€‚</li></ul></li><li><p><strong>FTPä¸‹è½½</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget ftp-url</span><br><span class="line">wget --ftp-user=USERNAME --ftp-password=PASSWORD url</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨wgetæ¥å®Œæˆftpé“¾æ¥çš„ä¸‹è½½ã€‚</p><p>ä½¿ç”¨wgetåŒ¿åftpä¸‹è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget ftp-url</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨wgetç”¨æˆ·åå’Œå¯†ç è®¤è¯çš„ftpä¸‹è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --ftp-user=USERNAME --ftp-password=PASSWORD url</span><br></pre></td></tr></table></figure><p>1</p></li></ol></li></ul><h3 id="3-curl-æ–‡ä»¶ä¼ è¾“å·¥å…·">.3 curl æ–‡ä»¶ä¼ è¾“å·¥å…·</h3><ul><li><p><strong>æ¦‚è¿°</strong></p><p>è¯¥å‘½ä»¤è®¾è®¡ç”¨äºåœ¨æ²¡æœ‰ç”¨æˆ·äº¤äº’çš„æƒ…å†µä¸‹å·¥ä½œã€‚</p><p>curl æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œç”¨äºä¼ è¾“æ¥è‡ªæœåŠ¡å™¨æˆ–è€…åˆ°æœåŠ¡å™¨çš„æ•°æ®ã€‚ã€Œå‘æœåŠ¡å™¨ä¼ è¾“æ•°æ®æˆ–è€…è·å–æ¥è‡ªæœåŠ¡å™¨çš„æ•°æ®ã€</p><p>å¯æ”¯æŒçš„åè®®æœ‰ï¼ˆDICTã€FILEã€FTPã€FTPSã€GOPHERã€HTTPã€HTTPSã€<a href="https://so.csdn.net/so/search?q=IMAP&amp;spm=1001.2101.3001.7020">IMAP</a>ã€IMAPSã€LDAPã€LDAPSã€POP3ã€POP3Sã€RTMPã€RTSPã€SCPã€SFTPã€SMTPã€SMTPSã€TELNETå’ŒTFTPï¼‰ã€‚</p><p>curlæä¾›äº†å¤§é‡æœ‰ç”¨çš„æŠ€å·§ï¼Œæ¯”å¦‚ä»£ç†æ”¯æŒã€ç”¨æˆ·èº«ä»½éªŒè¯ã€FTPä¸Šä¼ ã€HTTP postã€SSLè¿æ¥ã€cookieã€æ–‡ä»¶æ–­ç‚¹ç»­ä¼ ã€Metalinkç­‰ç­‰ã€‚æ­£å¦‚ä½ å°†åœ¨ä¸‹é¢çœ‹åˆ°çš„ï¼Œè¿™äº›ç‰¹æ€§çš„æ•°é‡ä¼šè®©æ‚¨å¤´æ™•ç›®çœ©ï¼</p></li></ul><p><strong>ä¸€ã€å¸¸ç”¨å‘½ä»¤</strong></p><p><strong>1.1 å‘é€GETè¯·æ±‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl URL</span><br><span class="line">curl URL?a=1&amp;b=nihao</span><br></pre></td></tr></table></figure><p><strong>1.2 å‘é€POSTè¯·æ±‚</strong></p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST -d <span class="string">&#x27;a=1&amp;b=nihao&#x27;</span> URL</span><br></pre></td></tr></table></figure><p><strong>1.3 å‘é€jsonæ ¼å¼è¯·æ±‚ï¼š</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Content-Type: application/json&quot; -X POST -d &#x27;&#123;&quot;abc&quot;:123,&quot;bcd&quot;:&quot;nihao&quot;&#125;&#x27; URL</span><br><span class="line">curl -H &quot;Content-Type: application/json&quot; -X POST -d @test.json URL</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<strong>-H</strong>ä»£è¡¨headerå¤´ï¼Œ<strong>-X</strong>æ˜¯æŒ‡å®šä»€ä¹ˆç±»å‹è¯·æ±‚(POST/GET/HEAD/DELETE/PUT/PATCH)ï¼Œ<strong>-d</strong>ä»£è¡¨ä¼ è¾“ä»€ä¹ˆæ•°æ®ã€‚è¿™å‡ ä¸ªæ˜¯æœ€å¸¸ç”¨çš„ã€‚</p><p>æŸ¥çœ‹æ‰€æœ‰curlå‘½ä»¤ï¼š man curlæˆ–è€…curl -h<br>è¯·æ±‚å¤´ï¼šH,A,e<br>å“åº”å¤´ï¼šI,i,D<br>cookieï¼šb,c,j<br>ä¼ è¾“ï¼šF(POST),G(GET),T(PUT),X<br>è¾“å‡ºï¼šo,O,w<br>æ–­ç‚¹ç»­ä¼ ï¼šr<br>è°ƒè¯•ï¼šv,â€“trace,â€“trace-ascii,â€“trace-time</p><p><strong>äºŒã€curlå‘½ä»¤è¯­æ³•ä¸curlå‘½ä»¤å‚æ•°è¯¦è§£</strong></p><p><strong>2.1 curlå‘½ä»¤è¯­æ³•</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl [options] [URL...]</span><br></pre></td></tr></table></figure><p><strong>2.2 curlå‘½ä»¤å‚æ•°è¯¦è§£</strong></p><p>ç”±äºlinux curlåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œæ‰€ä»¥å‘½ä»¤å‚æ•°ååˆ†å¤šï¼Œä¸‹è¡¨åªæ˜¯çˆ±Eæ—(<a href="http://aiezu.com">aiezu.com</a>)å¸…é€‰å‡ºæ¥çš„éƒ¨åˆ†å‚æ•°ï¼Œæ›´å¤šå‚æ•°è¯·è¿è¡Œâ€œman curlâ€å‘½ä»¤æŸ¥çœ‹ã€‚</p><table>  <tbody>    <tr>      <th>å‚æ•°ç»„</th>      <th>å‚æ•°</th>      <th>æè¿°</th>    </tr>    <tr>      <th>url</th>      <td>url</td>      <td>        éœ€è¦æŠ“å–çš„ä¸€åˆ°å¤šä¸ªURLsï¼›<br />        å¤šä¸ªä¸‹é¢é€šé…ç¬¦çš„æ–¹å¼ï¼š<br />        ã€€ã€€1ã€http://{www,ftp,mail}.aiezu.comï¼›<br />        ã€€ã€€2ã€http://aiezu.com/images/[001-999].jpgï¼›<br />        ã€€ã€€3ã€http://aiezu.com/images/[1-999].htmlï¼›<br />        ã€€ã€€4ã€ftp://aiezu.com/file[a-z].txt      </td>    </tr>    <tr>      <th colspan="1" rowspan="4">        è¯·<br />        æ±‚<br />        å¤´      </th>      <td>        -H "name: value"<br />        --header "name: value"      </td>      <td>(HTTP)æ·»åŠ ä¸€ä¸ªhttp header(httpè¯·æ±‚å¤´)ï¼›</td>    </tr>    <tr>      <td>        -H "name:"<br />        --header "name:"      </td>      <td>(HTTP)ç§»é™¤ä¸€ä¸ªhttp header(httpè¯·æ±‚å¤´)ï¼›</td>    </tr>    <tr>      <td>        -A "string"<br />        --user-agent "string"<br /><a          href="http://aiezu.com/article/linux_curl_referer_useragent.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)è®¾ç½®Httpè¯·æ±‚å¤´â€œUser-Agentâ€ï¼ŒæœåŠ¡å™¨é€šè¿‡â€œUser-Agentâ€å¯ä»¥åˆ¤æ–­å®¢æˆ·ç«¯ä½¿ç”¨çš„æµè§ˆå™¨åç§°å’Œæ“ä½œç³»ç»Ÿç±»å‹ï¼Œä¼ªé€ æ­¤å‚æ•°èƒ½å¯¼è‡´æœåŠ¡å™¨åšå‡ºé”™è¯¯åˆ¤æ–­ã€‚<br />        ä¹Ÿå¯ä»¥ä½¿ç”¨â€œ-Hâ€, â€œ--header optionâ€è®¾ç½®æ­¤é€‰é¡¹ï¼›      </td>    </tr>    <tr>      <td>        -e&nbsp;&lt;URL&gt;<br />        --referer &lt;URL&gt;<br /><a          href="http://aiezu.com/article/linux_curl_referer_useragent.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)è®¾ç½®è®¿é—®æ—¶çš„æ¥æºé¡µé¢ï¼Œå‘Šè¯‰httpæœåŠ¡ä»å“ªä¸ªé¡µé¢è¿›å…¥åˆ°æ­¤é¡µé¢ï¼›<br />        -e "aiezu.com"ç›¸å½“äºâ€œ-H "Referer: www.qq.com"â€ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="3">        å“<br />        åº”<br />        å¤´      </th>      <td>        -I<br />        --head      </td>      <td>        (HTTP)åªè¾“å‡ºHTTP-headerï¼Œä¸è·å–å†…å®¹(HTTP/FTP/FILE)ã€‚<br />        ç”¨äºHTTPæœåŠ¡æ—¶ï¼Œè·å–é¡µé¢çš„httpå¤´ï¼›<br />        &nbsp; ï¼ˆå¦‚ï¼šcurl -I http://aiezu.comï¼‰<br />        ç”¨äºFTP/FILEæ—¶ï¼Œå°†ä¼šè·å–æ–‡ä»¶å¤§å°ã€æœ€åä¿®æ”¹æ—¶é—´ï¼›<br />        &nbsp; ï¼ˆå¦‚ï¼šcurl -I file://test.txtï¼‰      </td>    </tr>    <tr>      <td>        -i<br />        --include      </td>      <td>(HTTP)è¾“å‡ºHTTPå¤´å’Œè¿”å›å†…å®¹ï¼›</td>    </tr>    <tr>      <td>        -D&nbsp;&lt;file&gt;<br />        --dump-header &lt;file&gt;      </td>      <td>(HTTP)è½¬å‚¨httpå“åº”å¤´åˆ°æŒ‡å®šæ–‡ä»¶ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="3">cookie</th>      <td>        -b name=data<br />        --cookie name=data<br /><a          href="http://aiezu.com/article/linux_curl_http_cookie.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)å‘é€cookieæ•°æ®åˆ°HTTPæœåŠ¡å™¨ï¼Œæ•°æ®æ ¼å¼ä¸ºï¼š"NAME1=VALUE1;        NAME2=VALUE2"ï¼›<br /><br />        å¦‚æœè¡Œä¸­æ²¡æœ‰â€œ=â€ï¼Œå°†æŠŠå‚æ•°å€¼å½“ä½œcookieæ–‡ä»¶åï¼›<br /><br />        è¿™ä¸ªcookieæ•°æ®å¯ä»¥æ˜¯ç”±æœåŠ¡å™¨çš„httpå“åº”å¤´â€œSet-Cookie:â€è¡Œå‘é€è¿‡æ¥çš„ï¼›      </td>    </tr>    <tr>      <td>        -c filename<br />        --cookie-jar file name<br /><a          href="http://aiezu.com/article/linux_curl_http_cookie.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)å®Œæˆæ“ä½œåå°†æœåŠ¡å™¨è¿”å›çš„cookiesä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶ï¼›<br />        æŒ‡å®šå‚æ•°å€¼ä¸ºâ€œ-â€å°†å®šå‘åˆ°æ ‡å‡†è¾“å‡ºâ€œå¦‚æ§åˆ¶å°â€ï¼›      </td>    </tr>    <tr>      <td>        -j<br />        --junk-session-cookies      </td>      <td>        (HTTP)å‘Šè¯‰curlæ”¾å¼ƒæ‰€æœ‰çš„"session cookies"ï¼›<br />        ç›¸å½“äºé‡å¯æµè§ˆå™¨ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="5">ä»£ç†</th>      <td>        -x host:port<br />        -x [protocol://[user:pwd@]host[:port]<br />        --proxy [protocol://[user:pwd@]host[:port]<br /><a          href="http://aiezu.com/article/linux_curl_proxy_http_socks.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        ä½¿ç”¨HTTPä»£ç†è®¿é—®ï¼›å¦‚æœæœªæŒ‡å®šç«¯å£ï¼Œé»˜è®¤ä½¿ç”¨8080ç«¯å£;<br />        protocolé»˜è®¤ä¸ºhttp_proxyï¼Œå…¶ä»–å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼š<br />        http_proxyã€HTTPS_PROXYã€socks4ã€socks4aã€socks5ï¼›<br />        å¦‚ï¼š<br />        --proxy 8.8.8.8:8080ï¼›<br />        -x "http_proxy://aiezu:123@aiezu.com:80"      </td>    </tr>    <tr>      <td>        -p<br />        --proxytunnel      </td>      <td>å°†â€œ-xâ€å‚æ•°çš„ä»£ç†ï¼Œä½œä¸ºé€šé“çš„æ–¹å¼å»ä»£ç†éHTTPåè®®ï¼Œå¦‚ftpï¼›</td>    </tr>    <tr>      <td>        --socks4 &lt;host[:port]&gt;<br />        --socks4a &lt;host[:port]&gt;<br />        --socks5 &lt;host[:port]&gt;<br /><a          href="http://aiezu.com/article/linux_curl_proxy_http_socks.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        ä½¿ç”¨SOCKS4ä»£ç†ï¼›<br />        ä½¿ç”¨SOCKS4Aä»£ç†ï¼›<br />        ä½¿ç”¨SOCKS5ä»£ç†ï¼›<br />        æ­¤å‚æ•°ä¼šè¦†ç›–â€œ-xâ€å‚æ•°ï¼›      </td>    </tr>    <tr>      <td>        --proxy-anyauth<br />        --proxy-basic<br />        --proxy-diges<br />        --proxy-negotiate<br />        --proxy-ntlm      </td>      <td>        httpä»£ç†è®¤è¯æ–¹å¼ï¼Œå‚è€ƒï¼š<br />        --anyauth<br />        --basic<br />        --diges<br />        --negotiate<br />        --ntlm      </td>    </tr>    <tr>      <td>        -U&nbsp;&lt;user:password&gt;<br />        --proxy-user &lt;user:password&gt;      </td>      <td>è®¾ç½®ä»£ç†çš„ç”¨æˆ·åå’Œå¯†ç ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="5">        æ•°æ®<br />        ä¼ è¾“      </th>      <td>        -G<br />        --get<br /><a          href="http://aiezu.com/article/linux_curl_getpost_datafile_json.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        å¦‚æœä½¿ç”¨äº†æ­¤å‚æ•°ï¼Œâ€œ-d/â€ã€â€œ--dataâ€ã€â€œ--data-binaryâ€å‚æ•°è®¾ç½®çš„æ•°æ®ï¼Œè®²é™„åŠ åœ¨urlä¸Šï¼Œä»¥GETçš„æ–¹å¼è¯·æ±‚ï¼›&nbsp;      </td>    </tr>    <tr>      <td>        -d @file<br />        -d "string"<br />        --data "string"<br />        --data-ascii "string"<br />        --data-binary "string"<br />        --data-urlencode "string"<br /><a          href="http://aiezu.com/article/linux_curl_getpost_datafile_json.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)ä½¿ç”¨HTTP        POSTæ–¹å¼å‘é€â€œkey/valueå¯¹â€æ•°æ®ï¼Œç›¸å½“äºæµè§ˆå™¨è¡¨å•å±æ€§ï¼ˆmethod="POST"ï¼Œenctype="application/x-www-form-urlencoded"ï¼‰<br />        ã€€ã€€-dï¼Œ--dataï¼šHTTPæ–¹å¼POSTæ•°æ®ï¼›<br />        ã€€ã€€--data-asciiï¼šHTTPæ–¹å¼POST asciiæ•°æ®ï¼›<br />        ã€€ã€€--data-binaryï¼šHTTPæ–¹å¼POSTäºŒè¿›åˆ¶æ•°æ®ï¼›<br />        ã€€ã€€--data-urlencodeï¼šHTTPæ–¹å¼POSTæ•°æ®ï¼ˆè¿›è¡Œurlencodeï¼‰ï¼›<br />        å¦‚æœæ•°æ®ä»¥â€œ@â€å¼€å¤´ï¼Œåç´§è·Ÿä¸€ä¸ªæ–‡ä»¶ï¼Œå°†postæ–‡ä»¶å†…çš„å†…å®¹ï¼›      </td>    </tr>    <tr>      <td>        -F name=@file<br />        -F name=&lt;file<br />        -F name=content<br />        --form name=content<br /><a          href="http://aiezu.com/article/linux_curl_getpost_datafile_json.html"          title="ã€å‚è€ƒã€‘"          >ã€å‚è€ƒã€‘</a        >      </td>      <td>        (HTTP)ä½¿ç”¨HTTP        POSTæ–¹å¼å‘é€ç±»ä¼¼â€œè¡¨å•å­—æ®µâ€çš„å¤šç±»å‹æ•°æ®ï¼Œç›¸å½“äºåŒæ—¶è®¾ç½®æµè§ˆå™¨è¡¨å•å±æ€§ï¼ˆmethod="POST"ï¼Œenctype="multipart/form-data"ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ­¤å‚æ•°ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ã€‚<br /><br />        å¦‚æœå­—æ®µå†…å®¹ä»¥â€œ@â€å¼€å¤´ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†åº”è¯¥æ˜¯æ–‡ä»¶åï¼Œcurlå°†ä¼šä¸Šä¼ æ­¤æ–‡ä»¶ï¼Œå¦‚ï¼š<br />        curl -F "pic=@pic.jpg" http://aiezu.comï¼›<br />        curl -F "page=@a.html;type=text/html" http://aiezu.com<br />        curl -F "page=@/tmp/a;filename=a.txt" http://aiezu.com<br /><br />        å¦‚æœå­—æ®µå†…å®¹ä»¥â€œ&lt;â€å¼€å¤´ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†åº”è¯¥æ˜¯æ–‡ä»¶åï¼Œcurlå°†ä»æ–‡ä»¶ä¸­è·å–ä½œä¸ºæ­¤å­—æ®µçš„å€¼ï¼Œå¦‚ï¼šcurl        -F "text=&lt;text.txt" http://aiezu.comï¼›      </td>    </tr>    <tr>      <td>--form-string &lt;key=value&gt;</td>      <td>(HTTP)ç±»ä¼¼äºâ€œ--formâ€ï¼Œä½†æ˜¯â€œ@â€ã€â€œ&lt;â€æ— ç‰¹æ®Šå«ä¹‰ï¼›</td>    </tr>    <tr>      <td>        -T file<br />        --upload-file file      </td>      <td>        é€šè¿‡â€œputâ€çš„æ–¹å¼å°†æ–‡ä»¶ä¼ è¾“åˆ°è¿œç¨‹ç½‘å€ï¼›<br /><br />        é€‰é¡¹å‚æ•°åªä½¿ç”¨å­—ç¬¦"-"ï¼Œå°†é€šè¿‡stdinè¯»å…¥æ–‡ä»¶å†…å®¹ï¼›<br />        å¦‚ï¼š<br />        cat test.txt|curl "http://aiezu.com/a.php" -T -&nbsp;<br />        curl "http://aiezu.com/a.php" -T - &lt;test.txt<br /><br />        æ­¤å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼š<br />        curl -T "{file1,file2}" http://aiezu.com<br />        curl -T "img[1-1000].png" http://aiezu.com      </td>    </tr>    <tr>      <th colspan="1" rowspan="2">        æ–­ç‚¹<br />        ç»­ä¼       </th>      <td>        -C&nbsp;&lt;offset&gt;<br />        --continue-at&nbsp;&lt;offset&gt;      </td>      <td>        æ–­ç‚¹ç»­è½¬ï¼Œä»æ–‡ä»¶å¤´çš„æŒ‡å®šä½ç½®å¼€å§‹ç»§ç»­ä¸‹è½½/ä¸Šä¼ ï¼›<br />        offsetç»­ä¼ å¼€å§‹çš„ä½ç½®ï¼Œå¦‚æœoffsetå€¼ä¸ºâ€œ-â€ï¼Œcurlä¼šè‡ªåŠ¨ä»æ–‡ä»¶ä¸­è¯†åˆ«èµ·å§‹ä½ç½®å¼€å§‹ä¼ è¾“ï¼›      </td>    </tr>    <tr>      <td>        -r&nbsp;&lt;range&gt;<br />        --range &lt;range&gt;      </td>      <td>        (HTTP/FTP/SFTP/FILE) åªä¼ è¾“å†…å®¹çš„æŒ‡å®šéƒ¨åˆ†ï¼š<br />        0-499ï¼šæœ€å‰é¢500å­—èŠ‚ï¼›<br />        -500ï¼šæœ€åé¢500å­—èŠ‚ï¼›<br />        9500-ï¼šæœ€å‰é¢9500å­—èŠ‚ï¼›<br />        0-0,-1ï¼šæœ€å‰é¢å’Œæœ€åé¢çš„1å­—èŠ‚ï¼›<br />        100-199,500-599ï¼šä¸¤ä¸ª100å­—èŠ‚ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="6">        <br /><br /><br />        è®¤è¯      </th>      <td>--basic</td>      <td>        (HTTP)å‘Šè¯‰curlä½¿ç”¨HTTP Basic        authenticationï¼ˆHTTPåè®®æ—¶ï¼‰ï¼Œè¿™æ˜¯é»˜è®¤è®¤è¯æ–¹å¼ï¼›      </td>    </tr>    <tr>      <td>--ntlm</td>      <td>        (HTTP)ä½¿ç”¨NTLMèº«ä»½éªŒè¯æ–¹å¼ï¼Œç”¨äºHTTPåè®®ï¼›<br />        ä¸€èˆ¬ç”¨äºIISä½¿ç”¨NTLMçš„ç½‘ç«™ï¼›      </td>    </tr>    <tr>      <td>--digest</td>      <td>        (HTTP)ä½¿ç”¨HTTP Digest authenticationåŠ å¯†ï¼Œç”¨äºHTTPåè®®ï¼›<br />        é…åˆâ€œ-u/--userâ€é€‰é¡¹ï¼Œé˜²æ­¢å¯†ç ä½¿ç”¨æ˜æ–‡æ–¹å¼å‘é€ï¼›      </td>    </tr>    <tr>      <td>--negotiate</td>      <td>        (HTTP)ä½¿ç”¨GSS-Negotiate authenticationæ–¹å¼ï¼Œç”¨äºHTTPåè®®ï¼›<br />        å®ƒä¸»è¦ç›®çš„æ˜¯ä¸ºå®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºkerberos5è®¤è¯æä¾›æ”¯æŒæ”¯æŒï¼›      </td>    </tr>    <tr>      <td>--anyauth</td>      <td>(HTTP)å‘Šè¯‰curlè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„èº«ä»½è®¤è¯æ–¹æ³•ï¼Œå¹¶é€‰ç”¨æœ€å®‰å…¨çš„æ–¹å¼ï¼›</td>    </tr>    <tr>      <td>        -u user:password<br />        --user user:password      </td>      <td>        ä½¿ç”¨ç”¨æˆ·åã€å¯†ç è®¤è¯ï¼Œæ­¤å‚æ•°ä¼šè¦†ç›–â€œ-nâ€ã€â€œ--netrcâ€å’Œâ€œ--netrc-optionalâ€é€‰é¡¹ï¼›<br /><br />        å¦‚æœä½ åªæä¾›ç”¨æˆ·åï¼Œcurlå°†è¦æ±‚ä½ è¾“å…¥å¯†ç ï¼›<br /><br />        å¦‚æœä½ ä½¿ç”¨â€œSSPIâ€å¼€å¯çš„curlåº“åšâ€œNTLMâ€è®¤è¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸å«ç”¨æˆ·åå¯†ç çš„â€œ-u:â€é€‰é¡¹ï¼Œå¼ºåˆ¶curlä½¿ç”¨å½“å‰ç™»å½•çš„ç”¨æˆ·åå¯†ç è¿›è¡Œè®¤è¯ï¼›<br /><br />        æ­¤å‚æ•°ç›¸å½“äºè®¾ç½®httpå¤´â€œAuthorizationï¼šâ€ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="6">è¯ä¹¦</th>      <td>        -E&nbsp;&lt;è¯ä¹¦[:å¯†ç ]&gt;<br />        --cert&nbsp;&lt;è¯ä¹¦[:å¯†ç ]&gt;      </td>      <td>(SSL)æŒ‡å®šâ€œPEMâ€æ ¼å¼çš„è¯ä¹¦æ–‡ä»¶å’Œè¯ä¹¦å¯†ç ï¼›</td>    </tr>    <tr>      <td>--cert-type &lt;type&gt;</td>      <td>        (SSL)å‘Šè¯‰curlæ‰€æä¾›è¯ä¹¦çš„ç±»å‹ï¼šPEMã€DERã€ENGç­‰ï¼›<br />        é»˜è®¤ä¸ºâ€œPEMâ€ï¼›      </td>    </tr>    <tr>      <td>--cacert &lt;CAè¯ä¹¦&gt;</td>      <td>(SSL)å‘Šè¯‰curlæ‰€ä»¥æŒ‡å®šçš„CAè¯ä¹¦æ–‡ä»¶ï¼Œå¿…é¡»æ˜¯â€œPEMâ€æ ¼å¼ï¼›</td>    </tr>    <tr>      <td>--capath &lt;CAè¯ä¹¦è·¯å¾„&gt;</td>      <td>        (SSL)å‘Šè¯‰curlæ‰€ä»¥æŒ‡å®šç›®å½•ä¸‹çš„CAè¯ä¹¦ç”¨æ¥éªŒè¯ï¼›<br />        è¿™äº›è¯ä¹¦å¿…é¡»æ˜¯â€œPEMâ€æ ¼å¼ï¼›      </td>    </tr>    <tr>      <td>--crlfile &lt;file&gt;</td>      <td>(HTTPS/FTPS)æä¾›ä¸€ä¸ªPEMæ ¼å¼çš„æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®šè¢«åŠé”€çš„è¯ä¹¦åˆ—è¡¨ï¼›</td>    </tr>    <tr>      <td>        -k<br />        --insecure      </td>      <td>(SSL)è®¾ç½®æ­¤é€‰é¡¹å°†å…è®¸ä½¿ç”¨æ— è¯ä¹¦çš„ä¸å®‰å…¨SSLè¿›è¡Œè¿æ¥å’Œä¼ è¾“ã€‚</td>    </tr>    <tr>      <th colspan="1" rowspan="5">        SSL<br />        å…¶ä»–      </th>      <td>--ciphers &lt;list of ciphers&gt;</td>      <td>(SSL)æŒ‡å®šSSLè¦ä½¿ç”¨çš„åŠ å¯†æ–¹å¼ï¼›å¦‚ï¼šâ€œaes_256_sha_256â€ï¼›</td>    </tr>    <tr>      <td>--engine &lt;name&gt;</td>      <td>        è®¾ç½®ä¸€ä¸ªOpenSSLåŠ å¯†å¼•æ“ç”¨äºåŠ å¯†æ“ä½œï¼›<br />        ä½¿ç”¨â€œcurl --engine listâ€æŸ¥çœ‹æ”¯æŒçš„åŠ å¯†å¼•æ“åˆ—è¡¨ï¼›      </td>    </tr>    <tr>      <td>--random-file</td>      <td>        (SSL)æŒ‡å®šåŒ…å«éšæœºæ•°æ®çš„æ–‡ä»¶è·¯å¾„åï¼›æ•°æ®æ˜¯ç”¨æ¥ä¸ºSSLè¿æ¥äº§ç”Ÿéšæœºç§å­ä¸ºï¼›      </td>    </tr>    <tr>      <td>--egd-file&nbsp;&lt;file&gt;</td>      <td>        (SSL)ä¸ºéšæœºç§å­ç”Ÿæˆå™¨EGD(Entropy Gathering Daemon socket)æŒ‡å®šçš„è·¯å¾„åï¼›      </td>    </tr>    <tr>      <td>        -1/--tlsv1<br />        --tlsv1.0<br />        --tlsv1.1<br />        --tlsv1.2<br />        -2/--sslv2<br />        -3/--sslv3      </td>      <td>        (SSL)ä½¿ç”¨TLSç‰ˆæœ¬2ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›<br />        (SSL)ä½¿ç”¨TLS 1.0ç‰ˆæœ¬ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›<br />        (SSL)ä½¿ç”¨TLS 1.1ç‰ˆæœ¬ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›<br />        (SSL)ä½¿ç”¨TLS 1.2ç‰ˆæœ¬ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›<br />        (SSL)ä½¿ç”¨SSLç‰ˆæœ¬2ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›<br />        (SSL)ä½¿ç”¨SSLç‰ˆæœ¬3ä¸è¿œç¨‹æœåŠ¡å™¨é€šè®¯ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="4">        ç§é’¥<br />        å…¬é’¥      </th>      <td>--key &lt;key&gt;</td>      <td>        (SSL/SSH)æŒ‡å®šä¸€ä¸ªç§é’¥æ–‡ä»¶åï¼›ä¸ºæŒ‡å®šæ—¶è‡ªåŠ¨å°è¯•ä½¿ç”¨ä¸‹é¢æ–‡ä»¶ï¼šâ€œ~/.ssh/id_rsaâ€ã€â€œ~/.ssh/id_dsaâ€ã€â€œ./id_rsa'â€ã€        â€œ./id_dsaâ€ï¼›      </td>    </tr>    <tr>      <td>--key-type &lt;type&gt;</td>      <td>(SSL)æŒ‡å®šç§é’¥æ–‡ä»¶ç±»å‹ï¼Œæ”¯æŒï¼šDERã€PEMã€ENGï¼Œé»˜è®¤æ˜¯PEMï¼›</td>    </tr>    <tr>      <td>--pass&nbsp;&lt;phrase&gt;</td>      <td>(SSL/SSH)æŒ‡å®šç§é’¥æ–‡ä»¶çš„å¯†ç ï¼›</td>    </tr>    <tr>      <td>--pubkey &lt;key&gt;</td>      <td>(SSH)ä½¿ç”¨æŒ‡å®šæ–‡ä»¶æä¾›çš„æ‚¨å…¬é’¥ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="11">FTP</th>      <td>        -P<br />        --ftp-port &lt;æ¥å£&gt;      </td>      <td>        (FTP)FTPä¸»åŠ¨æ¨¡å¼æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªåœ°å€ç­‰å¾…æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¦‚ï¼š<br />        ç½‘å¡ï¼šeth1<br />        IPï¼š8.8.8.8<br />        ä¸»æœºåï¼šaiezu.com<br />        å¯ä»¥åŠ ç«¯å£å·ï¼šeth1:20000-21000;      </td>    </tr>    <tr>      <td>--crlf</td>      <td>(FTP)ä¸Šä¼ æ—¶å°†æ¢è¡Œç¬¦(LF)è½¬æ¢ä¸ºå›è½¦æ¢è¡Œ(CRLF)ï¼›</td>    </tr>    <tr>      <td>--ftp-account [data]</td>      <td>(FTP)ftpå¸å·ä¿¡æ¯ï¼›</td>    </tr>    <tr>      <td>--ftp-method [method]</td>      <td>(FTP)å¯é€‰å€¼ï¼šmulticwd/nocwd/singlecwdï¼›</td>    </tr>    <tr>      <td>--ftp-pasv</td>      <td>(FTP)ä½¿ç”¨ä½¿ç”¨PASV(è¢«åŠ¨)/EPSVæ¨¡å¼ï¼›</td>    </tr>    <tr>      <td>--ftp-skip-pasv-ip</td>      <td>(FTP)ä½¿ç”¨PASVçš„æ—¶,è·³è¿‡æŒ‡å®šIPï¼›</td>    </tr>    <tr>      <td>--ftp-create-dirs</td>      <td>(FTP)ä¸Šä¼ æ—¶è‡ªåŠ¨åˆ›å»ºè¿œç¨‹ç›®å½•ï¼›</td>    </tr>    <tr>      <td>        -l<br />        --list-only      </td>      <td>(FTP)åˆ—å‡ºftpæ–‡ä»¶åˆ—è¡¨ï¼›</td>    </tr>    <tr>      <td>        -B<br />        --use-ascii      </td>      <td>        (FTP/LDAP)ä½¿ç”¨Asciiä¼ è¾“æ¨¡å¼ï¼Œç”¨äºFTPã€LDAPï¼›åœ¨ftpä¸­ç›¸å½“ä¸ä½¿ç”¨äº†â€œtype=A;â€æ¨¡å¼ã€‚      </td>    </tr>    <tr>      <td>--disable-epsv</td>      <td>(FTP)å‘Šè¯‰curlåœ¨PASV(è¢«åŠ¨æ¨¡å¼)æ—¶ä¸è¦ä½¿ç”¨EPSVï¼›</td>    </tr>    <tr>      <td>--disable-eprt</td>      <td>(FTP)å‘Šè¯‰curlåœ¨ä¸»åŠ¨æ¨¡å¼æ—¶ç¦ç”¨EPRTå’ŒLPRTï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="3">é™é€Ÿ</th>      <td>--limit-rate&nbsp;&lt;speed&gt;</td>      <td>        é™åˆ¶curlä½¿ç”¨çš„æœ€å¤§å¸¦å®½ï¼›å¦‚æœæœªæŒ‡å®šå•ä½ï¼Œé»˜è®¤å•ä½ä¸ºâ€œbytes/ç§’â€ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šå•ä½ä¸ºâ€œKâ€ã€â€œMâ€ã€â€œGâ€ç­‰å•ä½ï¼Œå¦‚ï¼šâ€œ--limit-rate        1mâ€ä¸ºé™åˆ¶æœ€å¤§ä½¿ç”¨å¸¦å®½ä¸ºâ€œ1må­—èŠ‚/ç§’â€ï¼›      </td>    </tr>    <tr>      <td>        -y<br />        --speed-time &lt;time&gt;      </td>      <td>        If a download is slower than speed-limit bytes per second during a        speed-time period, the download gets aborted. If speed-time is used, the        default speed-limit will be 1 unless set with -Y.<br />        This option controls transfers and thus will not affect slow connects        etc. If this is a concern for you, try        the&nbsp;--connect-timeout&nbsp;option.      </td>    </tr>    <tr>      <td>        -Y<br />        --speed-limit &lt;speed&gt;      </td>      <td>        If a download is slower than this given speed (in bytes per second) for        speed-time seconds it gets aborted. speed-time is set with -y and is 30        if not set.      </td>    </tr>    <tr>      <th colspan="1" rowspan="14">        å…¶ä»–<br />        é€‰é¡¹      </th>      <td>-0/--http1.0</td>      <td>(HTTP) å¼ºåˆ¶curlä½¿ç”¨HTTP 1.0è€Œä¸æ˜¯ä½¿ç”¨é»˜è®¤çš„HTTP 1.1ï¼›</td>    </tr>    <tr>      <td>--interface &lt;name&gt;</td>      <td>        ä½¿ç”¨æŒ‡å®šçš„ç½‘å¡æ¥å£è®¿é—®ï¼›<br />        curl --interface eth0 http://aiezu.com<br />        curl --interface 10.0.0.101 http://aiezu.com      </td>    </tr>    <tr>      <td>        -X&nbsp;&lt;command&gt;<br />        --request &lt;command&gt;      </td>      <td>        ï¼ˆHTTPï¼‰æŒ‡å®šä¸æœåŠ¡å™¨é€šä¿¡ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚ï¼šGETã€PUTã€POSTã€DELETEç­‰ï¼Œé»˜è®¤GETï¼›      </td>    </tr>    <tr>      <td>--keepalive-time &lt;seconds&gt;</td>      <td>è®¾ç½®keepaliveæ—¶é—´</td>    </tr>    <tr>      <td>--no-keepalive</td>      <td>å…³é—­keepaliveåŠŸèƒ½ï¼›</td>    </tr>    <tr>      <td>--no-buffer</td>      <td>ç¦ç”¨å¯¹è¾“å‡ºæµç¼“å†²ï¼›</td>    </tr>    <tr>      <td>--buffer</td>      <td>å¯ç”¨è¾“å‡ºæµç¼“å†²ï¼›</td>    </tr>    <tr>      <td>        -L<br />        --location      </td>      <td>        (HTTP/HTTPS)è¿½éšhttpå“åº”å¤´â€œLocationï¼šâ€å®šå‘åˆ°è·³è½¬åçš„é¡µé¢ï¼›<br />        (åœ¨httpå“åº”ç ä¸º3XXæ—¶ä½¿ç”¨ï¼Œå¦‚301è·³è½¬ã€302è·³è½¬)      </td>    </tr>    <tr>      <td>--location-trusted</td>      <td>(HTTP/HTTPS)åŒâ€œ--locationâ€ï¼Œä½†è·³è½¬åä¼šå‘é€è·³è½¬å‰çš„ç”¨æˆ·åå’Œå¯†ç ï¼›</td>    </tr>    <tr>      <td>--compressed</td>      <td>        (HTTP)è¯·æ±‚å¯¹è¿”å›å†…å®¹ä½¿ç”¨å‹ç¼©ç®—æ³•è¿›è¡Œå‹ç¼©ï¼›curlæ”¯æŒå¯¹gzipå‹ç¼©è¿›è¡Œè§£å‹ï¼›      </td>    </tr>    <tr>      <td>--connect-timeout &lt;seconds&gt;</td>      <td>æŒ‡å®šæœ€å¤§è¿æ¥è¶…æ—¶ï¼Œå•ä½â€œç§’â€ï¼›</td>    </tr>    <tr>      <td>        -m seconds<br />        --max-time seconds      </td>      <td>é™åˆ¶æ•´ä¸ªcurlæ“ä½œçš„æœ€é•¿æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼›</td>    </tr>    <tr>      <td>        -s<br />        --silent      </td>      <td>å®‰é™æ¨¡å¼ã€‚ä¸è¦æ˜¾ç¤ºè¿›åº¦è¡¨æˆ–é”™è¯¯æ¶ˆæ¯ï¼›</td>    </tr>    <tr>      <td>        -#<br />        --progress-bar      </td>      <td>æ˜¾ç¤ºè¿›åº¦æ¡ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="4">        é”™è¯¯<br />        é€‰é¡¹      </th>      <td>        -f<br />        --fail      </td>      <td>        (HTTP)è¿æ¥å¤±è´¥æ—¶ï¼ˆ400ä»¥ä¸Šé”™è¯¯ï¼‰ä¸è¿”å›é»˜è®¤é”™è¯¯é¡µé¢ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªcurlé”™è¯¯ç â€œ22â€ï¼›      </td>    </tr>    <tr>      <td>        --retry &lt;num&gt;<br />        --retry-delay &lt;seconds&gt;<br />        --retry-max-time&nbsp;&lt;seconds&gt;      </td>      <td>        å¤±è´¥é‡è¯•æ¬¡æ•°ï¼›<br />        é‡è¯•é—´éš”æ—¶é—´ï¼›<br />        æœ€å¤§é‡è¯•æ—¶é—´ï¼›      </td>    </tr>    <tr>      <td>        -S<br />        --show-error      </td>      <td>å®‰é™æ¨¡å¼ä¸‹æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼›</td>    </tr>    <tr>      <td>--stderr &lt;file&gt;</td>      <td>é”™è¯¯ä¿¡æ¯ä¿å­˜æ–‡ä»¶ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="4">è¾“å‡º</th>      <td>        -o file<br />        --output file      </td>      <td>        å°†è¿”å›å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶ã€‚<br />        å¦‚æœæ˜¯ç”¨è¿‡é€šé…ç¬¦è·å–å¤šä¸ªurlï¼Œå¯ä»¥ä½¿ç”¨â€œ#â€åè·Ÿâ€œæ•°å­—åºå·â€ï¼Œcurlä¼šè‡ªåŠ¨å°†å®ƒæ›¿æ¢å¯¹åº”çš„å…³é”®è¯ï¼Œå¦‚ï¼š<br />        ã€€ã€€curl "http://aiezu.com/{a,b}.txt" -o "#1.txt";<br />        ã€€ã€€å°†ä¿å­˜ä¸ºï¼šâ€œa.txtâ€,â€œb.txtâ€;<br /><br />        ã€€ã€€curl "http://aiezu.com/{a,b}_[1-3].txt" -o "#1#2.txt";<br />        ã€€ã€€å°†ä¿å­˜ä¸ºï¼ša1.txtã€a2.txtã€a3.txtã€b1.txtã€b2.txtã€b3.txt<br /><br />        ã€€ã€€å¦‚æœè¦æ ¹æ®è§„åˆ™åˆ›å»ºä¿å­˜ç›®å½•ï¼Œå‚è€ƒï¼šâ€œ--create-dirsâ€<br /><br />        æŒ‡å®šâ€œ-â€å°†å®šå‘åˆ°æ ‡å‡†è¾“å‡ºâ€œå¦‚æ§åˆ¶å°â€ï¼›&nbsp;      </td>    </tr>    <tr>      <td>        -O<br />        --remote-name      </td>      <td>        å°†è¿”å›å†…å®¹è¾“å‡ºåˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå’Œurlä¸­æ–‡ä»¶åç›¸åŒçš„æ–‡ä»¶ä¸­ï¼ˆä¸å«ç›®å½•ï¼‰ï¼›      </td>    </tr>    <tr>      <td>--create-dirs</td>      <td>ä¸â€œ-oâ€å‚æ•°é…åˆä½¿ç”¨ï¼Œåˆ›å»ºå¿…è¦çš„æœ¬åœ°ç›®å½•å±‚æ¬¡ç»“æ„</td>    </tr>    <tr>      <td>        -w<br />        --write-out format      </td>      <td>        æ“ä½œå®Œæˆååœ¨è¿”å›ä¿¡æ¯å°¾éƒ¨è¿½åŠ æŒ‡å®šçš„å†…å®¹ï¼›è¦è¿½åŠ çš„å†…å®¹å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²â€œstringâ€ã€ä»æ–‡ä»¶ä¸­è·å–â€œ@filenameâ€ã€ä»æ ‡å‡†è¾“å…¥ä¸­è·å–â€œ@-â€<br /><br />        æ ¼å¼å‚æ•°ä¸­å¯ä»¥ç”¨%{variable_name}        æ–¹å¼ä½¿ç”¨å“åº”ä¿¡æ¯çš„ç›¸å…³å˜é‡ï¼Œå¦‚ï¼š%{content_type}ã€%{http_code}ã€%{local_ip}...ï¼Œæ›´å¤šå˜é‡å‚è€ƒâ€œman        curlâ€è·å–ï¼›<br /><br />        æ ¼å¼å‚æ•°å¯ä»¥ä½¿ç”¨â€œ\nâ€ã€â€œ\râ€ã€â€œ\tâ€ç­‰è½¬ä¹‰å­—ç¬¦ï¼›      </td>    </tr>    <tr>      <th colspan="1" rowspan="5">è°ƒè¯•</th>      <td>--trace &lt;file&gt;</td>      <td>        è½¬å‚¨æ‰€æœ‰ä¼ å…¥å’Œä¼ å‡ºçš„æ•°æ®åˆ°æ–‡ä»¶ï¼ŒåŒ…æ‹¬æè¿°ä¿¡æ¯ï¼›<br />        ä½¿ç”¨â€œ-â€ä½œä¸ºæ–‡ä»¶åå°†è¾“å‡ºå‘é€åˆ°æ ‡å‡†è¾“å‡ºã€‚      </td>    </tr>    <tr>      <td>--trace-ascii file</td>      <td>        è½¬å‚¨æ‰€æœ‰ä¼ å…¥å’Œä¼ å‡ºçš„æ•°æ®åˆ°æ–‡ä»¶ï¼ŒåŒ…æ‹¬æè¿°ä¿¡æ¯ï¼Œåªè½¬å‚¨ASCIIéƒ¨åˆ†ï¼Œæ›´å®¹æ˜“é˜…è¯»ï¼›<br />        ä½¿ç”¨â€œ-â€ä½œä¸ºæ–‡ä»¶åå°†è¾“å‡ºå‘é€åˆ°æ ‡å‡†è¾“å‡ºã€‚<br />        è¿™ä¸ªé€‰é¡¹ä¼šè¦†ç›–ä¹‹å‰ä½¿ç”¨çš„-vã€ --verboseã€ --trace-asciié€‰é¡¹ï¼›      </td>    </tr>    <tr>      <td>--trace-time</td>      <td>è½¬å‚¨æ–‡ä»¶ä¸­æ·»åŠ æ—¶é—´ä¿¡æ¯ï¼›</td>    </tr>    <tr>      <td>        -K<br />        --config &lt;config file&gt;      </td>      <td>ä»é…ç½®æ–‡ä»¶ä¸­è¯»å–å‚æ•°ï¼Œå‚è€ƒï¼šhttp://curl.haxx.se/docs/</td>    </tr>    <tr>      <td>        -v<br />        --verbose      </td>      <td>æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè°ƒè¯•æ—¶ä½¿ç”¨ï¼›</td>    </tr>    <tr>      <th colspan="1" rowspan="2">å¸®åŠ©</th>      <td>        -M<br />        --manual      </td>      <td>æ˜¾ç¤ºå®Œæ•´çš„å¸®åŠ©æ‰‹å†Œï¼›</td>    </tr>    <tr>      <td>        -h<br />        --help      </td>      <td>linux curlç”¨æ³•å¸®åŠ©ï¼›</td>    </tr>  </tbody></table><p>curl -h çš„å®Œæ•´å‚æ•°è§£é‡Šï¼š</p><table><thead><tr><th>å‚æ•°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>-a/--append</code></td><td>ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œé™„åŠ åˆ°ç›®æ ‡æ–‡ä»¶</td></tr><tr><td><code>--anyauth</code></td><td>å¯ä»¥ä½¿ç”¨â€œä»»ä½•â€èº«ä»½éªŒè¯æ–¹æ³•</td></tr><tr><td><code>--basic</code></td><td>ä½¿ç”¨HTTPåŸºæœ¬éªŒè¯</td></tr><tr><td><code>-B/--use-ascii</code></td><td>ä½¿ç”¨ASCIIæ–‡æœ¬ä¼ è¾“</td></tr><tr><td><code>-d/--data &lt;data&gt;</code></td><td>HTTP POSTæ–¹å¼ä¼ é€æ•°æ®</td></tr><tr><td><code>--data-ascii &lt;data&gt;</code></td><td>ä»¥asciiçš„æ–¹å¼postæ•°æ®</td></tr><tr><td><code>--data-binary &lt;data&gt;</code></td><td>ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼postæ•°æ®</td></tr><tr><td>â€“negotiate</td><td>ä½¿ç”¨HTTPèº«ä»½éªŒè¯</td></tr><tr><td>â€“digest</td><td>ä½¿ç”¨æ•°å­—èº«ä»½éªŒè¯</td></tr><tr><td>â€“disable-eprt</td><td>ç¦æ­¢ä½¿ç”¨EPRTæˆ–LPRT</td></tr><tr><td>â€“disable-epsv</td><td>ç¦æ­¢ä½¿ç”¨EPSV</td></tr><tr><td><code>--egd-file &lt;file&gt;</code></td><td>ä¸ºéšæœºæ•°æ®(SSL)è®¾ç½®EGD socketè·¯å¾„</td></tr><tr><td><code>--tcp-nodelay</code></td><td>ä½¿ç”¨TCP_NODELAYé€‰é¡¹</td></tr><tr><td><code>-E/--cert &lt;cert[:passwd]</code>&gt;</td><td>å®¢æˆ·ç«¯è¯ä¹¦æ–‡ä»¶å’Œå¯†ç  (SSL)</td></tr><tr><td><code>--cert-type &lt;type&gt;</code></td><td>è¯ä¹¦æ–‡ä»¶ç±»å‹ (DER/PEM/ENG) (SSL)</td></tr><tr><td><code>--key &lt;key&gt;</code></td><td>ç§é’¥æ–‡ä»¶å (SSL)</td></tr><tr><td><code>--key-type &lt;type&gt;</code></td><td>ç§é’¥æ–‡ä»¶ç±»å‹ (DER/PEM/ENG) (SSL)</td></tr><tr><td><code>--pass &lt;pass&gt;</code></td><td>ç§é’¥å¯†ç  (SSL)</td></tr><tr><td><code>--engine &lt;eng&gt;</code></td><td>åŠ å¯†å¼•æ“ä½¿ç”¨ (SSL). â€œâ€“engine listâ€ for list</td></tr><tr><td><code>--cacert &lt;file&gt;</code></td><td>CAè¯ä¹¦ (SSL)</td></tr><tr><td><code>--capath &lt;directory&gt;</code></td><td>CAç›®  (made using c_rehash) to verify peer against (SSL)</td></tr><tr><td><code>--ciphers &lt;list&gt;</code></td><td>SSLå¯†ç </td></tr><tr><td>â€“compressed</td><td>è¦æ±‚è¿”å›æ˜¯å‹ç¼©çš„å½¢åŠ¿ (using deflate or gzip)</td></tr><tr><td><code>--connect-timeout &lt;seconds&gt;</code></td><td>è®¾ç½®æœ€å¤§è¯·æ±‚æ—¶é—´</td></tr><tr><td>â€“create-dirs</td><td>å»ºç«‹æœ¬åœ°ç›®å½•çš„ç›®å½•å±‚æ¬¡ç»“æ„</td></tr><tr><td>â€“crlf</td><td>ä¸Šä¼ æ˜¯æŠŠLFè½¬å˜æˆCRLF</td></tr><tr><td>â€“ftp-create-dirs</td><td>å¦‚æœè¿œç¨‹ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºè¿œç¨‹ç›®å½•</td></tr><tr><td><code>--ftp-method [multicwd/nocwd/singlecwd]</code></td><td>æ§åˆ¶CWDçš„ä½¿ç”¨</td></tr><tr><td>â€“ftp-pasv</td><td>ä½¿ç”¨ PASV/EPSV ä»£æ›¿ç«¯å£</td></tr><tr><td>â€“ftp-skip-pasv-ip</td><td>ä½¿ç”¨PASVçš„æ—¶å€™,å¿½ç•¥è¯¥IPåœ°å€</td></tr><tr><td>â€“ftp-ssl</td><td>å°è¯•ç”¨ SSL/TLS æ¥è¿›è¡Œftpæ•°æ®ä¼ è¾“</td></tr><tr><td>â€“ftp-ssl-reqd</td><td>è¦æ±‚ç”¨ SSL/TLS æ¥è¿›è¡Œftpæ•°æ®ä¼ è¾“</td></tr><tr><td><code>-F/--form &lt;name=content&gt;</code></td><td>æ¨¡æ‹Ÿhttpè¡¨å•æäº¤æ•°æ®</td></tr><tr><td><code>-form-string &lt;name=string&gt;</code></td><td>æ¨¡æ‹Ÿhttpè¡¨å•æäº¤æ•°æ®</td></tr><tr><td>-g/â€“globoff</td><td>ç¦ç”¨ç½‘å€åºåˆ—å’ŒèŒƒå›´ä½¿ç”¨{}å’Œ[]</td></tr><tr><td>-G/â€“get</td><td>ä»¥getçš„æ–¹å¼æ¥å‘é€æ•°æ®</td></tr><tr><td>-h/â€“help</td><td>å¸®åŠ©</td></tr><tr><td><code>-H/--header &lt;line&gt;</code></td><td>è‡ªå®šä¹‰å¤´ä¿¡æ¯ä¼ é€’ç»™æœåŠ¡å™¨</td></tr><tr><td>â€“ignore-content-length</td><td>å¿½ç•¥çš„HTTPå¤´ä¿¡æ¯çš„é•¿åº¦</td></tr><tr><td>-i/â€“include</td><td>è¾“å‡ºæ—¶åŒ…æ‹¬protocolå¤´ä¿¡æ¯</td></tr><tr><td>-I/â€“head</td><td>åªæ˜¾ç¤ºæ–‡æ¡£ä¿¡æ¯</td></tr><tr><td>-j/â€“junk-session-cookies</td><td>è¯»å–æ–‡ä»¶æ—¶å¿½ç•¥session cookie</td></tr><tr><td><code>--interface &lt;interface&gt;</code></td><td>ä½¿ç”¨æŒ‡å®šç½‘ç»œæ¥å£/åœ°å€</td></tr><tr><td><code>--krb4 &lt;level&gt;</code></td><td>ä½¿ç”¨æŒ‡å®šå®‰å…¨çº§åˆ«çš„krb4</td></tr><tr><td>-k/â€“insecure</td><td>å…è®¸ä¸ä½¿ç”¨è¯ä¹¦åˆ°SSLç«™ç‚¹</td></tr><tr><td>-K/â€“config</td><td>æŒ‡å®šçš„é…ç½®æ–‡ä»¶è¯»å–</td></tr><tr><td>-l/â€“list-only</td><td>åˆ—å‡ºftpç›®å½•ä¸‹çš„æ–‡ä»¶åç§°</td></tr><tr><td><code>--limit-rate &lt;rate&gt;</code></td><td>è®¾ç½®ä¼ è¾“é€Ÿåº¦</td></tr><tr><td>â€“local-port<NUM></td><td>å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°ç«¯å£å·</td></tr><tr><td><code>-m/--max-time &lt;seconds&gt;</code></td><td>è®¾ç½®æœ€å¤§ä¼ è¾“æ—¶é—´</td></tr><tr><td><code>--max-redirs &lt;num&gt;</code></td><td>è®¾ç½®æœ€å¤§è¯»å–çš„ç›®å½•æ•°</td></tr><tr><td><code>--max-filesize &lt;bytes&gt;</code></td><td>è®¾ç½®æœ€å¤§ä¸‹è½½çš„æ–‡ä»¶æ€»é‡</td></tr><tr><td>-M/â€“manual</td><td>æ˜¾ç¤ºå…¨æ‰‹åŠ¨</td></tr><tr><td>-n/â€“netrc</td><td>ä»netrcæ–‡ä»¶ä¸­è¯»å–ç”¨æˆ·åå’Œå¯†ç </td></tr><tr><td>â€“netrc-optional</td><td>ä½¿ç”¨ .netrc æˆ–è€… URLæ¥è¦†ç›–-n</td></tr><tr><td>â€“ntlm</td><td>ä½¿ç”¨ HTTP NTLM èº«ä»½éªŒè¯</td></tr><tr><td>-N/â€“no-buffer</td><td>ç¦ç”¨ç¼“å†²è¾“å‡º</td></tr><tr><td>-p/â€“proxytunnel</td><td>ä½¿ç”¨HTTPä»£ç†</td></tr><tr><td>â€“proxy-anyauth</td><td>é€‰æ‹©ä»»ä¸€ä»£ç†èº«ä»½éªŒè¯æ–¹æ³•</td></tr><tr><td>â€“proxy-basic</td><td>åœ¨ä»£ç†ä¸Šä½¿ç”¨åŸºæœ¬èº«ä»½éªŒè¯</td></tr><tr><td>â€“proxy-digest</td><td>åœ¨ä»£ç†ä¸Šä½¿ç”¨æ•°å­—èº«ä»½éªŒè¯</td></tr><tr><td>â€“proxy-ntlm</td><td>åœ¨ä»£ç†ä¸Šä½¿ç”¨ntlmèº«ä»½éªŒè¯</td></tr><tr><td><code>-P/--ftp-port &lt;address&gt;</code></td><td>ä½¿ç”¨ç«¯å£åœ°å€ï¼Œè€Œä¸æ˜¯ä½¿ç”¨PASV</td></tr><tr><td><code>-Q/--quote &lt;cmd&gt;</code></td><td>æ–‡ä»¶ä¼ è¾“å‰ï¼Œå‘é€å‘½ä»¤åˆ°æœåŠ¡å™¨</td></tr><tr><td>â€“range-file</td><td>è¯»å–ï¼ˆSSLï¼‰çš„éšæœºæ–‡ä»¶</td></tr><tr><td>-R/â€“remote-time</td><td>åœ¨æœ¬åœ°ç”Ÿæˆæ–‡ä»¶æ—¶ï¼Œä¿ç•™è¿œç¨‹æ–‡ä»¶æ—¶é—´</td></tr><tr><td><code>--retry &lt;num&gt;</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œé‡è¯•çš„æ¬¡æ•°</td></tr><tr><td><code>--retry-delay &lt;seconds&gt;</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œè®¾ç½®é‡è¯•é—´éš”æ—¶é—´</td></tr><tr><td><code>--retry-max-time &lt;seconds&gt;</code></td><td>ä¼ è¾“å‡ºç°é—®é¢˜æ—¶ï¼Œè®¾ç½®æœ€å¤§é‡è¯•æ—¶é—´</td></tr><tr><td>-S/â€“show-error</td><td>æ˜¾ç¤ºé”™è¯¯</td></tr><tr><td><code>--socks4 &lt;host[:port]&gt;</code></td><td>ç”¨socks4ä»£ç†ç»™å®šä¸»æœºå’Œç«¯å£</td></tr><tr><td><code>--socks5 &lt;host[:port]&gt;</code></td><td>ç”¨socks5ä»£ç†ç»™å®šä¸»æœºå’Œç«¯å£</td></tr><tr><td><code>-t/--telnet-option &lt;OPT=val&gt;</code></td><td>Telneté€‰é¡¹è®¾ç½®</td></tr><tr><td><code>--trace &lt;file&gt;</code></td><td>å¯¹æŒ‡å®šæ–‡ä»¶è¿›è¡Œdebug</td></tr><tr><td><code>--trace-ascii &lt;file&gt;</code></td><td>Like --è·Ÿè¸ªä½†æ²¡æœ‰hexè¾“å‡º</td></tr><tr><td><code>--trace-time</code></td><td>è·Ÿè¸ª/è¯¦ç»†è¾“å‡ºæ—¶ï¼Œæ·»åŠ æ—¶é—´æˆ³</td></tr><tr><td><code>--url &lt;URL&gt;</code></td><td>Spet URL to work with</td></tr><tr><td><code>-U/--proxy-user &lt;user[:password]&gt;</code></td><td>è®¾ç½®ä»£ç†ç”¨æˆ·åå’Œå¯†ç </td></tr><tr><td>-V/â€“version</td><td>æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</td></tr><tr><td><code>-X/--request &lt;command&gt;</code></td><td>æŒ‡å®šä»€ä¹ˆå‘½ä»¤</td></tr><tr><td>-y/â€“speed-time</td><td>æ”¾å¼ƒé™é€Ÿæ‰€è¦çš„æ—¶é—´ã€‚é»˜è®¤ä¸º30</td></tr><tr><td>-Y/â€“speed-limit</td><td>åœæ­¢ä¼ è¾“é€Ÿåº¦çš„é™åˆ¶ï¼Œé€Ÿåº¦æ—¶é—´â€™ç§’</td></tr><tr><td>-z/â€“time-cond</td><td>ä¼ é€æ—¶é—´è®¾ç½®</td></tr><tr><td>-0/â€“http1.0</td><td>ä½¿ç”¨HTTP 1.0</td></tr><tr><td>-1/â€“tlsv1</td><td>ä½¿ç”¨TLSv1ï¼ˆSSLï¼‰</td></tr><tr><td>-2/â€“sslv2</td><td>ä½¿ç”¨SSLv2çš„ï¼ˆSSLï¼‰</td></tr><tr><td>-3/â€“sslv3</td><td>ä½¿ç”¨çš„SSLv3ï¼ˆSSLï¼‰</td></tr><tr><td>â€“3p-quote</td><td>like -Q for the source URL for 3rd party transfer</td></tr><tr><td>â€“3p-url</td><td>ä½¿ç”¨urlï¼Œè¿›è¡Œç¬¬ä¸‰æ–¹ä¼ é€</td></tr><tr><td>â€“3p-user</td><td>ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿›è¡Œç¬¬ä¸‰æ–¹ä¼ é€</td></tr><tr><td>-4/â€“ipv4</td><td>ä½¿ç”¨IP4</td></tr><tr><td>-6/â€“ipv6</td><td>ä½¿ç”¨IP6</td></tr></tbody></table><p>ä¸‰ã€curlå‘½ä»¤é€€å‡ºç </p><p>ä¸‹é¢æ˜¯linux curlå‘½ä»¤çš„é”™è¯¯ä»£ç å’Œå¥¹ä»¬çš„ç›¸åº”çš„é”™è¯¯æ¶ˆæ¯ï¼Œå¯èƒ½ä¼šå‡ºç°åœ¨æ¶åŠ£çš„ç¯å¢ƒã€‚</p><table><thead><tr><th style="text-align:left">é€€å‡ºç </th><th style="text-align:left">é”™è¯¯æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">Unsupported protocol. This build of curl has no support for this protocol.</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">Failed to initialize.</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">URL malformed. The syntax was not correct.</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left">Couldnâ€™t resolve proxy. The given proxy host could not be resolved.</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left">Couldnâ€™t resolve host. The given remote host was not resolved.</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left">Failed to connect to host.</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left">FTP weird server reply. The server sent data curl couldnâ€™t parse.</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left">FTP access denied. The server denied login or denied access to the particular resource or directory you wanted to reach. Most often you tried to change to a directory that doesnâ€™t exist on the server.</td></tr><tr><td style="text-align:left">11</td><td style="text-align:left">FTP weird PASS reply. Curl couldnâ€™t parse the reply sent to the PASS request.</td></tr><tr><td style="text-align:left">13</td><td style="text-align:left">FTP weird PASV reply, Curl couldnâ€™t parse the reply sent to the PASV request.</td></tr><tr><td style="text-align:left">14</td><td style="text-align:left">FTP weird 227 format. Curl couldnâ€™t parse the 227-line the server sent.</td></tr><tr><td style="text-align:left">15</td><td style="text-align:left">FTP canâ€™t get host. Couldnâ€™t resolve the host IP we got in the 227-line.</td></tr><tr><td style="text-align:left">17</td><td style="text-align:left">FTP couldnâ€™t set binary. Couldnâ€™t change transfer method to binary.</td></tr><tr><td style="text-align:left">18</td><td style="text-align:left">Partial file. Only a part of the file was transferred.</td></tr><tr><td style="text-align:left">19</td><td style="text-align:left">FTP couldnâ€™t download/access the given file, the RETR (or similar) command failed.</td></tr><tr><td style="text-align:left">21</td><td style="text-align:left">FTP quote error. A quote command returned error from the server.</td></tr><tr><td style="text-align:left">22</td><td style="text-align:left">HTTP page not retrieved. The requested url was not found or returned another error with the HTTP error code being 400 or above. This return code only appears if -f/â€“fail is used.</td></tr><tr><td style="text-align:left">23</td><td style="text-align:left">Write error. Curl couldnâ€™t write data to a local filesystem or similar.</td></tr><tr><td style="text-align:left">25</td><td style="text-align:left">FTP couldnâ€™t STOR file. The server denied the STOR operation, used for FTP uploading.</td></tr><tr><td style="text-align:left">26</td><td style="text-align:left">Read error. Various reading problems.</td></tr><tr><td style="text-align:left">27</td><td style="text-align:left">Out of memory. A memory allocation request failed.</td></tr><tr><td style="text-align:left">28</td><td style="text-align:left">Operation timeout. The specified time-out period was reached according to the conditions.</td></tr><tr><td style="text-align:left">30</td><td style="text-align:left">FTP PORT failed. The PORT command failed. Not all FTP servers support the PORT command, try doing a transfer using PASV instead!</td></tr><tr><td style="text-align:left">31</td><td style="text-align:left">FTP couldnâ€™t use REST. The REST command failed. This command is used for resumed FTP transfers.</td></tr><tr><td style="text-align:left">33</td><td style="text-align:left">HTTP range error. The range â€œcommandâ€ didnâ€™t work.</td></tr><tr><td style="text-align:left">34</td><td style="text-align:left">HTTP post error. Internal post-request generation error.</td></tr><tr><td style="text-align:left">35</td><td style="text-align:left">SSL connect error. The SSL handshaking failed.</td></tr><tr><td style="text-align:left">36</td><td style="text-align:left">FTP bad download resume. Couldnâ€™t continue an earlier aborted download.</td></tr><tr><td style="text-align:left">37</td><td style="text-align:left">FILE couldnâ€™t read file. Failed to open the file. Permissions?</td></tr><tr><td style="text-align:left">38</td><td style="text-align:left">LDAP cannot bind. LDAP bind operation failed.</td></tr><tr><td style="text-align:left">39</td><td style="text-align:left">LDAP search failed.</td></tr><tr><td style="text-align:left">41</td><td style="text-align:left">Function not found. A required LDAP function was not found.</td></tr><tr><td style="text-align:left">42</td><td style="text-align:left">Aborted by callback. An application told curl to abort the operation.</td></tr><tr><td style="text-align:left">43</td><td style="text-align:left">Internal error. A function was called with a bad parameter.</td></tr><tr><td style="text-align:left">45</td><td style="text-align:left">Interface error. A specified outgoing interface could not be used.</td></tr><tr><td style="text-align:left">47</td><td style="text-align:left">Too many redirects. When following redirects, curl hit the maximum amount.</td></tr><tr><td style="text-align:left">48</td><td style="text-align:left">Unknown TELNET option specified.</td></tr><tr><td style="text-align:left">49</td><td style="text-align:left">Malformed telnet option.</td></tr><tr><td style="text-align:left">51</td><td style="text-align:left">The peerâ€™s SSL certificate or SSH MD5 fingerprint was not ok.</td></tr><tr><td style="text-align:left">52</td><td style="text-align:left">The server didnâ€™t reply anything, which here is considered an error.</td></tr><tr><td style="text-align:left">53</td><td style="text-align:left">SSL crypto engine not found.</td></tr><tr><td style="text-align:left">54</td><td style="text-align:left">Cannot set SSL crypto engine as default.</td></tr><tr><td style="text-align:left">55</td><td style="text-align:left">Failed sending network data.</td></tr><tr><td style="text-align:left">56</td><td style="text-align:left">Failure in receiving network data.</td></tr><tr><td style="text-align:left">58</td><td style="text-align:left">Problem with the local certificate.</td></tr><tr><td style="text-align:left">59</td><td style="text-align:left">Couldnâ€™t use specified SSL cipher.</td></tr><tr><td style="text-align:left">60</td><td style="text-align:left">Peer certificate cannot be authenticated with known CA certificates.</td></tr><tr><td style="text-align:left">61</td><td style="text-align:left">Unrecognized transfer encoding.</td></tr><tr><td style="text-align:left">62</td><td style="text-align:left">Invalid LDAP URL.</td></tr><tr><td style="text-align:left">63</td><td style="text-align:left">Maximum file size exceeded.</td></tr><tr><td style="text-align:left">64</td><td style="text-align:left">Requested FTP SSL level failed.</td></tr><tr><td style="text-align:left">65</td><td style="text-align:left">Sending the data requires a rewind that failed.</td></tr><tr><td style="text-align:left">66</td><td style="text-align:left">Failed to initialize SSL Engine.</td></tr><tr><td style="text-align:left">67</td><td style="text-align:left">The user name, password, or similar was not accepted and curl failed to log in.</td></tr><tr><td style="text-align:left">68</td><td style="text-align:left">File not found on TFTP server.</td></tr><tr><td style="text-align:left">69</td><td style="text-align:left">Permission problem on TFTP server.</td></tr><tr><td style="text-align:left">70</td><td style="text-align:left">Out of disk space on TFTP server.</td></tr><tr><td style="text-align:left">71</td><td style="text-align:left">Illegal TFTP operation.</td></tr><tr><td style="text-align:left">72</td><td style="text-align:left">Unknown TFTP transfer ID.</td></tr><tr><td style="text-align:left">73</td><td style="text-align:left">File already exists (TFTP).</td></tr><tr><td style="text-align:left">74</td><td style="text-align:left">No such user (TFTP).</td></tr><tr><td style="text-align:left">75</td><td style="text-align:left">Character conversion failed.</td></tr><tr><td style="text-align:left">76</td><td style="text-align:left">Character conversion functions required.</td></tr><tr><td style="text-align:left">77</td><td style="text-align:left">Problem with reading the SSL CA cert (path? access rights?).</td></tr><tr><td style="text-align:left">78</td><td style="text-align:left">The resource referenced in the URL does not exist.</td></tr><tr><td style="text-align:left">79</td><td style="text-align:left">An unspecified error occurred during the SSH session.</td></tr><tr><td style="text-align:left">80</td><td style="text-align:left">Failed to shut down the SSL connection.</td></tr><tr><td style="text-align:left">82</td><td style="text-align:left">Could not load CRL file, missing or wrong format (added in 7.19.0).</td></tr><tr><td style="text-align:left">83</td><td style="text-align:left">Issuer check failed (added in 7.19.0).</td></tr><tr><td style="text-align:left">XX</td><td style="text-align:left">More error codes will appear here in future releases. The existing ones are meant to never change.</td></tr></tbody></table><p><strong>å››ã€å¸¸è§ç”¨æ³•</strong></p><p><strong>4.1 ä¸‹è½½(option:-oæˆ–è€…option:-O)</strong></p><p>â‘ ä¸‹è½½é¡µé¢ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -o dodo1.jpg http:www.linux.com/dodo1.JPG</span><br><span class="line">\#è¦æ³¨æ„-Oè¿™é‡Œåé¢çš„urlè¦å…·ä½“åˆ°æŸä¸ªæ–‡ä»¶ï¼Œä¸ç„¶æŠ“ä¸ä¸‹æ¥</span><br><span class="line">curl -O http://www.linux.com/dodo1.JPG</span><br></pre></td></tr></table></figure><p>â‘¡å¾ªç¯ä¸‹è½½æœ‰æ—¶å€™ä¸‹è½½å›¾ç‰‡å¯ä»¥èƒ½æ˜¯å‰é¢çš„éƒ¨åˆ†åç§°æ˜¯ä¸€æ ·çš„ï¼Œå°±æœ€åçš„å°¾æ¤åä¸ä¸€æ ·ã€‚è¿™æ ·å°±ä¼šæŠŠdodo1ï¼Œdodo2ï¼Œdodo3ï¼Œdodo4ï¼Œdodo5å…¨éƒ¨ä¿å­˜ä¸‹æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.linux.com/dodo[1-5].JPG</span><br></pre></td></tr></table></figure><p>â‘¢ä¸‹è½½é‡å‘½ååœ¨hello/dodo1.JPGçš„æ–‡ä»¶ä¸‹è½½ä¸‹æ¥å°±ä¼šå˜æˆhello_dodo1.JPG,å…¶ä»–æ–‡ä»¶ä¾æ­¤ç±»æ¨ï¼Œä»è€Œæœ‰æ•ˆçš„é¿å…äº†æ–‡ä»¶è¢«è¦†ç›–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o #1_#2.JPG http://www.linux.com/&#123;hello,bb&#125;/dodo[1-5].JPG</span><br></pre></td></tr></table></figure><p>ç”±äºä¸‹è½½çš„helloä¸bbä¸­çš„æ–‡ä»¶åéƒ½æ˜¯dodo1ï¼Œdodo2ï¼Œdodo3ï¼Œdodo4ï¼Œdodo5ã€‚å› æ­¤ç¬¬äºŒæ¬¡ä¸‹è½½çš„ä¼šæŠŠç¬¬ä¸€æ¬¡ä¸‹è½½çš„è¦†ç›–ï¼Œè¿™æ ·å°±éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œé‡å‘½åã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.linux.com/&#123;hello,bb&#125;/dodo[1-5].JPG</span><br></pre></td></tr></table></figure><p>â‘£åˆ†å—ä¸‹è½½(optionï¼š-r)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -r 0-100 -o dodo1_part1.JPG http://www.linux.com/dodo1.JPG</span><br><span class="line">curl -r 100-200 -o dodo1_part2.JPG http://www.linux.com/dodo1.JPG</span><br><span class="line">curl -r 200- -o dodo1_part3.JPG http://www.linux.com/dodo1.JPG</span><br><span class="line">cat dodo1_part* &gt; dodo1.JPG  #è¿™æ ·å°±å¯ä»¥æŸ¥çœ‹dodo1.JPGçš„å†…å®¹äº†</span><br></pre></td></tr></table></figure><p>â‘¤é€šè¿‡ftpä¸‹è½½æ–‡ä»¶(optionï¼š-u)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curlå¯ä»¥é€šè¿‡ftpä¸‹è½½æ–‡ä»¶ï¼Œcurlæä¾›ä¸¤ç§ä»ftpä¸­ä¸‹è½½çš„è¯­æ³•</span><br><span class="line">curl -O -u ç”¨æˆ·å:å¯†ç  ftp://www.linux.com/dodo1.JPG</span><br><span class="line">curl -O ftp://ç”¨æˆ·å:å¯†ç @www.linux.com/dodo1.JPG</span><br></pre></td></tr></table></figure><p>â‘¥ä¸‹è½½ï¼Œæ˜¾ç¤ºè¿›åº¦æ¡(optionï¼š-#)æˆ–ä¸æ˜¾ç¤ºè¿›åº¦æ¡(optionï¼š-s)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -# -O http://www.linux.com/dodo1.JPG  </span><br><span class="line">curl -s -O http://www.linux.com/dodo1.JPG</span><br></pre></td></tr></table></figure><p>â‘¦ä¸‹è½½ï¼Œæ–­ç‚¹ç»­ä¼ (-C <offset>)<br>æ–­ç‚¹ç»­è½¬ï¼Œä»æ–‡ä»¶å¤´çš„æŒ‡å®šä½ç½®å¼€å§‹ç»§ç»­ä¸‹è½½/ä¸Šä¼ ï¼›offsetç»­ä¼ å¼€å§‹çš„ä½ç½®ï¼Œå¦‚æœoffsetå€¼ä¸ºâ€œ-â€ï¼Œcurlä¼šè‡ªåŠ¨ä»æ–‡ä»¶ä¸­è¯†åˆ«èµ·å§‹ä½ç½®å¼€å§‹ä¼ è¾“ï¼›</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -# -o centos6.8.iso -C - http://mirrors.aliyun.com/centos/6.8/isos/x86_64/CentOS-6.8-x86_64-minimal.iso</span><br><span class="line">curl -C -O http://www.linux.com/dodo1.JPG</span><br></pre></td></tr></table></figure><p><strong>4.2 ä¸Šä¼ æ–‡ä»¶(option:-T)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -T dodo1.JPG -u ç”¨æˆ·å:å¯†ç  ftp://www.linux.com/img/</span><br></pre></td></tr></table></figure><p><strong>4.3 ä¼ªé€ æ¥æºé¡µé¢|ä¼ªé€ referer|ç›—é“¾ (optionï¼š-e)</strong></p><p>å¾ˆå¤šæœåŠ¡å™¨ä¼šæ£€æŸ¥httpè®¿é—®çš„refererä»è€Œæ¥æ§åˆ¶è®¿é—®ã€‚æ¯”å¦‚ï¼šä½ æ˜¯å…ˆè®¿é—®é¦–é¡µï¼Œç„¶åå†è®¿é—®é¦–é¡µä¸­çš„é‚®ç®±é¡µé¢ï¼Œè¿™é‡Œè®¿é—®é‚®ç®±çš„refereråœ°å€å°±æ˜¯è®¿é—®é¦–é¡µæˆåŠŸåçš„é¡µé¢åœ°å€ï¼Œå¦‚æœæœåŠ¡å™¨å‘ç°å¯¹é‚®ç®±é¡µé¢è®¿é—®çš„refereråœ°å€ä¸æ˜¯é¦–é¡µçš„åœ°å€ï¼Œå°±æ–­å®šé‚£æ˜¯ä¸ªç›—è¿äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿™æ ·å°±ä¼šè®©æœåŠ¡å™¨å…¶ä»¥ä¸ºä½ æ˜¯ä»www.linux.comç‚¹å‡»æŸä¸ªé“¾æ¥è¿‡æ¥çš„</span></span><br><span class="line">curl -e &quot;www.linux.com&quot; http://mail.linux.com</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‘Šè¯‰çˆ±Eæ—ï¼Œæˆ‘æ˜¯ä»ç™¾åº¦æ¥çš„</span></span><br><span class="line">curl -e http://baidu.com http://aiezu.com</span><br></pre></td></tr></table></figure><p>4.4 <strong>ä¼ªé€ ä»£ç†è®¾å¤‡(æ¨¡ä»¿æµè§ˆå™¨)</strong></p><p>æœ‰äº›ç½‘ç«™éœ€è¦ä½¿ç”¨ç‰¹å®šçš„æµè§ˆå™¨å»è®¿é—®ä»–ä»¬ï¼Œæœ‰äº›è¿˜éœ€è¦ä½¿ç”¨æŸäº›ç‰¹å®šçš„ç‰ˆæœ¬ã€‚curlå†…ç½®option:-Aå¯ä»¥è®©æˆ‘ä»¬æŒ‡å®šæµè§ˆå™¨å»è®¿é—®ç½‘ç«™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -A &quot;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.0)&quot; http://www.linux.com</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‘Šè¯‰çˆ±Eæ—ï¼Œæˆ‘æ˜¯GOOGLEçˆ¬è™«èœ˜è››ï¼ˆå…¶å®æˆ‘æ˜¯curlå‘½ä»¤ï¼‰</span></span><br><span class="line">curl -A &quot; Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)&quot; http://aiezu.com</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å‘Šè¯‰çˆ±Eæ—ï¼Œæˆ‘ç”¨çš„æ˜¯å¾®ä¿¡å†…ç½®æµè§ˆå™¨</span></span><br><span class="line">curl -A &quot;Mozilla/5.0 AppleWebKit/600 Mobile MicroMessenger/6.0&quot; http://aiezu.com</span><br></pre></td></tr></table></figure><p><strong>5. è®¾ç½®httpè¯·æ±‚</strong></p><p><strong>5.1 è®¾ç½®httpè¯·æ±‚å¤´(æˆ–option:-Hæˆ–option:â€“head)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Cache-Control:no-cache&quot;  http://aiezu.com</span><br></pre></td></tr></table></figure><p><strong>5.2 æŒ‡å®šproxyæœåŠ¡å™¨ä»¥åŠå…¶ç«¯å£(option::-x)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¾ˆå¤šæ—¶å€™ä¸Šç½‘éœ€è¦ç”¨åˆ°ä»£ç†æœåŠ¡å™¨(æ¯”å¦‚æ˜¯ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ä¸Šç½‘æˆ–è€…å› ä¸ºä½¿ç”¨curlåˆ«äººç½‘ç«™è€Œè¢«åˆ«äººå±è”½IPåœ°å€çš„æ—¶å€™)ï¼Œå¹¸è¿çš„æ˜¯curlé€šè¿‡ä½¿ç”¨å†…ç½®optionï¼š-xæ¥æ”¯æŒè®¾ç½®ä»£ç†</span></span><br><span class="line">curl -x 192.168.100.100:1080 http://www.linux.com</span><br></pre></td></tr></table></figure><p><strong>6. httpå“åº”å¤´</strong></p><p><strong>6.1 æŸ¥çœ‹httpå“åº”å¤´(option:-I)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">çœ‹çœ‹æœ¬ç«™çš„httpå¤´æ˜¯æ€ä¹ˆæ ·çš„</span></span><br><span class="line">curl -I  http://aiezu.com</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Fri, 25 Nov 2016 16:45:49 GMT</span><br><span class="line">Server: Apache</span><br><span class="line">Set-Cookie: rox__Session=abdrt8vesprhnpc3f63p1df7j4; path=/</span><br><span class="line">Expires: Thu, 19 Nov 1981 08:52:00 GMT</span><br><span class="line">Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br></pre></td></tr></table></figure><p><strong>6.2 ä¿å­˜httpçš„responseé‡Œé¢çš„headerä¿¡æ¯(option:-D)</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -D cookied.txt http://www.linux.com</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåcookieä¿¡æ¯å°±è¢«å­˜åˆ°äº†cookied.txté‡Œé¢äº†æ³¨æ„ï¼š-c(å°å†™)äº§ç”Ÿçš„cookieå’Œ-Dé‡Œé¢çš„cookieæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p><strong>7. å‘é€è¡¨å•æ•°æ®</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -F &quot;pic=@logo.png&quot; -F &quot;site=aiezu&quot;  http://aiezu.com/</span><br></pre></td></tr></table></figure><p><strong>8. cookie</strong></p><p><strong>8.1 å‘é€cookie(option:-bï¼‰</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\#æœ‰äº›ç½‘ç«™æ˜¯ä½¿ç”¨cookieæ¥è®°å½•sessionä¿¡æ¯ã€‚å¯¹äºchromeè¿™æ ·çš„æµè§ˆå™¨ï¼Œå¯ä»¥è½»æ˜“å¤„ç†cookieä¿¡æ¯ï¼Œä½†åœ¨curlä¸­åªè¦å¢åŠ ç›¸å…³å‚æ•°ä¹Ÿæ˜¯å¯ä»¥å¾ˆå®¹æ˜“çš„å¤„ç†cookie</span><br><span class="line">curl -b &quot;domain=aiezu.com&quot;  http://aiezu.com</span><br><span class="line">\#å¾ˆå¤šç½‘ç«™éƒ½æ˜¯é€šè¿‡ç›‘è§†ä½ çš„cookieä¿¡æ¯æ¥åˆ¤æ–­ä½ æ˜¯å¦æŒ‰è§„çŸ©è®¿é—®ä»–ä»¬çš„ç½‘ç«™çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¿å­˜çš„cookieä¿¡æ¯ã€‚å†…ç½®option: -b</span><br><span class="line">curl -b cookiec.txt http://www.linux.com</span><br></pre></td></tr></table></figure><p><strong>8.2 ä¿å­˜httpçš„responseé‡Œé¢çš„cookieä¿¡æ¯(option:-cï¼‰</strong><br>æ‰§è¡Œåhttpçš„responseé‡Œé¢çš„cookieä¿¡æ¯å°±è¢«å­˜åˆ°äº†cookiec.txté‡Œé¢äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -c cookiec.txt  http://www.linux.com</span><br></pre></td></tr></table></figure><p><strong>9. æµ‹è¯•ä¸€ä¸ªç½‘å€</strong></p><p><strong>9.1 æµ‹è¯•ä¸€ä¸ªç½‘å€æ˜¯å¦å¯è¾¾</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -v http://www.linux.com</span><br></pre></td></tr></table></figure><p><strong>9.2 æµ‹è¯•ç½‘é¡µè¿”å›å€¼(option:-w [format])</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o /dev/null -s -w %&#123;http_code&#125; www.linux.com</span><br></pre></td></tr></table></figure><p><strong>10. ä¿å­˜è®¿é—®çš„ç½‘é¡µ(&gt;&gt;)</strong></p><p>ä½¿ç”¨linuxçš„é‡å®šå‘åŠŸèƒ½ä¿å­˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://www.linux.com &gt;&gt; linux.html</span><br></pre></td></tr></table></figure><p><strong>11. è¯·æ±‚æ–¹å¼</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -i -v -H &#x27;&#x27; -X POST -d &#x27;&#x27; http:www.test.com/a/b</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ-X POST -d, -X GET -d, -X PUT -d åˆ†åˆ«ç­‰ä»·äº-F, -G -d, -P</p><p>ä»¥postè¯·æ±‚ä¸ºä¾‹ï¼š<br><strong>11.1 -X POST -d</strong><br>11.1.1 <code>POST application/x-www-form-urlencoded</code>æ˜¯é»˜è®¤çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST -d &quot;param1=value1Â¶m2=value2&quot; http://localhost:3000/data</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç­‰ä»·äº</span></span><br><span class="line">curl -H &quot;Content-Type:application/x-www-form-urlencoded&quot; -X POST -d &quot;param1=value1Â¶m2=value2&quot; http://localhost:3000/data</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨æ•°æ®æ–‡ä»¶</span></span><br><span class="line">curl -X POST -d &quot;@data.txt&quot; http://localhost:3000/data</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…¶ä¸­data.txtå†…å®¹å¦‚ä¸‹ï¼šparam1=value1Â¶m2=value2</span></span><br></pre></td></tr></table></figure><p>11.1.2 <code>POST application/json</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Content-Type:application/json&quot; -X POST -d &#x27;&#123;&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;&#125;&#x27; http://localhost:3000/data</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä½¿ç”¨æ•°æ®æ–‡ä»¶çš„è¯ï¼š</span></span><br><span class="line">curl -X POST -d &quot;@data.json&quot; http://localhost:3000/data</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…¶ä¸­data.jsonå†…å®¹å¦‚ä¸‹ï¼š&#123;<span class="string">&quot;key1&quot;</span>:<span class="string">&quot;value1&quot;</span>,<span class="string">&quot;key2&quot;</span>:<span class="string">&quot;value2&quot;</span>&#125;</span></span><br></pre></td></tr></table></figure><p>å†ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &quot;Content-type:application/json&quot; -X POST -d &quot;&#123;\&quot;app_key\&quot;:\&quot;$appKey\&quot;,\&quot;time_stamp\&quot;:\&quot;$time\&quot;&#125;&quot; http://www.test.com.cn/a/b</span><br></pre></td></tr></table></figure><p><strong>11.2 <code>-F</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl  -v -H &quot;token: 222&quot; -F &quot;file=@/Users/fungleo/Downloads/401.png&quot; localhost:8000/api/v1/upimg </span><br><span class="line">curl -f http://www.linux.com/error</span><br></pre></td></tr></table></figure><p><strong>11.3ã€å…¶å®ƒä¸¾ä¾‹</strong></p><p>11.3.1</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl  -X POST &quot;http://www.test.com/e/f&quot; -H &quot;Content-Type:application/x-www-form-urlencoded;charset=UTF-8&quot; \</span><br><span class="line">-d &quot;a=b&quot; \</span><br><span class="line">-d &quot;c=d&quot; \</span><br><span class="line">-d &quot;e=f&quot; \</span><br><span class="line">-d &quot;g=h&quot;</span><br></pre></td></tr></table></figure><p>11.3.2</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é”™è¯¯ï¼šcurl -i -G -d <span class="string">&quot;a=b#1&amp;c=d&quot;</span> http://www.test.com/e/f</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ­£ç¡®ï¼šè¦æŠŠå‚æ•°å€¼æ˜¯ç‰¹æ®Šç¬¦å·çš„ç”¨urlencodeè½¬æ¢è¿‡æ¥</span></span><br><span class="line">curl -i -G -d &quot;a=b%231&amp;c=d&quot; http://www.test.com/e/f</span><br></pre></td></tr></table></figure><p><strong>12. è°ƒè¯•</strong></p><p>curl -vå¯ä»¥æ˜¾ç¤ºä¸€æ¬¡httpé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ç«¯å£è¿æ¥å’Œhttp requestå¤´ä¿¡æ¯ã€‚å¦‚æœè§‰å¾—è¿˜ä¸å¤Ÿï¼Œé‚£ä¹ˆä¸‹é¢çš„å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ›´è¯¦ç»†çš„é€šä¿¡è¿‡ç¨‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --trace output.txt www.baidu.com æˆ–è€… curl --trace-ascii output.txt www.baidu.com </span><br></pre></td></tr></table></figure><p>è¿è¡Œåï¼Œè¯·æ‰“å¼€output.txtæ–‡ä»¶æŸ¥çœ‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl --trace output.txt  http://www.baidu.com</span><br><span class="line">curl --trace-ascii output2.txt  http://www.baidu.com</span><br><span class="line">curl --trace output3.txt --trace-time http://www.baidu.com</span><br><span class="line">curl --trace-ascii output4.txt --trace-time http://www.baidu.com </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/20190605132404348-3.png" alt="20190605132404348-3"></p><p><img src="https://gitee.com/aceniu/images/raw/master/article_images/typora_images/20190605132434969.png" alt="img"></p><p>ä¸¾ä¾‹:æœ‰éœ€æ±‚æ¯5åˆ†é’Ÿè¯·æ±‚ä¸€æ¬¡<a href="http://www.test.com/a/b%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E3%80%82%E5%B8%8C%E6%9C%9B%E4%B8%80%E6%9C%88%E7%9A%84%E6%97%A5%E5%BF%97(%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%92%8C%E9%94%99%E8%AF%AF%E7%9A%84)%E8%83%BD%E5%86%99%E5%85%A5%E4%B8%80%E4%B8%AA%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6">http://www.test.com/a/bç”Ÿæˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ã€‚å¸Œæœ›ä¸€æœˆçš„æ—¥å¿—(æ­£ç¡®çš„å’Œé”™è¯¯çš„)èƒ½å†™å…¥ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">day=`date +%F`</span><br><span class="line">logfile=&#x27;/var/logs/www.test.com_&#x27;`date +%Y%m`&#x27;.log&#x27;</span><br><span class="line">/usr/bin/echo -e &quot;\n\n[$&#123;day&#125;] Start request \n &quot; &gt;&gt; $&#123;logfile&#125;</span><br><span class="line">/bin/curl -v &quot;http://www.test.com/a/b&quot; -d &quot;ccccc&quot; 1&gt;&gt; $&#123;logfile&#125; 2&gt;&gt; $&#123;logfile&#125; --trace-time</span><br><span class="line">/usr/bin/echo -e &quot;\n\n[$&#123;day&#125;] End request\n&quot; &gt;&gt; $&#123;logfile&#125;</span><br></pre></td></tr></table></figure><p><strong>13. æ˜¾ç¤ºæŠ“å–é”™è¯¯</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -f http://www.linux.com/error</span><br></pre></td></tr></table></figure><h3 id="4-rsync-æ•°æ®é•œåƒå¤‡ä»½å·¥å…·">.4 rsync æ•°æ®é•œåƒå¤‡ä»½å·¥å…·</h3><ol><li><p>ä»‹ç»</p><p>rsyncï¼ˆremote synchronizeï¼‰æ˜¯Liunx/Unixä¸‹çš„ä¸€ä¸ªè¿œç¨‹æ•°æ®åŒæ­¥å·¥å…·ã€‚å®ƒå¯é€šè¿‡LAN/WANå¿«é€ŸåŒæ­¥å¤šå°ä¸»æœºé—´çš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶é€‚å½“åˆ©ç”¨rsyncç®—æ³•ï¼ˆå·®åˆ†ç¼–ç ï¼‰ä»¥å‡å°‘æ•°æ®çš„ä¼ è¾“ã€‚rsyncç®—æ³•å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡éƒ½æ•´ä»½ä¼ è¾“ï¼Œè€Œæ˜¯åªä¼ è¾“ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†ï¼Œå› æ­¤å…¶ä¼ è¾“é€Ÿåº¦ç›¸å½“å¿«ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œrsyncå¯æ‹·è´ã€æ˜¾ç¤ºç›®å½•å±æ€§ï¼Œä»¥åŠæ‹·è´æ–‡ä»¶ï¼Œå¹¶å¯é€‰æ‹©æ€§çš„å‹ç¼©ä»¥åŠé€’å½’æ‹·è´ã€‚</p></li><li><p>å·¥ä½œåŸç†</p><p>aã€å®¢æˆ·ç«¯æ„é€ FileListï¼ŒFileListåŒ…å«äº†éœ€è¦ä¸æœåŠ¡å™¨åŒæ­¥çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯å¯¹name-&gt;id<br>ï¼ˆidç”¨æ¥å”¯ä¸€è¡¨ç¤ºæ–‡ä»¶ä¾‹å¦‚MD5ï¼‰</p><p>bã€å®¢æˆ·ç«¯å°†FileListå‘é€åˆ°æœåŠ¡å™¨ã€‚</p><p>cã€æœåŠ¡å™¨ä¸Šrsyncå¤„ç†å®¢æˆ·ç«¯å‘è¿‡æ¥çš„FileListï¼Œæ„å»ºæ–°çš„NewFileListã€‚å…¶ä¸­æ ¹æ®MD5å€¼æ¯”è¾ƒï¼Œåˆ é™¤æœåŠ¡å™¨ä¸Šå·²ç»å­˜åœ¨çš„æ–‡ä»¶ä¿¡æ¯å¯¹ï¼Œåªä¿ç•™æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨æˆ–å˜åŒ–çš„æ–‡ä»¶ã€‚</p><p>dã€å®¢æˆ·ç«¯å¾—åˆ°æœåŠ¡å™¨å‘é€è¿‡æ¥çš„NewFileListï¼Œç„¶åæŠŠNewFileListä¸­çš„æ–‡ä»¶é‡æ–°ä¼ è¾“åˆ°æœåŠ¡å™¨ã€‚</p></li><li><p>ä¼˜ç‚¹</p><p>1ï¼‰å¯ä»¥é•œåƒä¿å­˜æ•´ä¸ªç›®å½•æ ‘å’Œæ–‡ä»¶ç³»ç»Ÿã€‚</p><p>2ï¼‰å¯ä»¥å¾ˆå®¹æ˜“åšåˆ°ä¿æŒåŸæ¥æ–‡ä»¶çš„æƒé™ã€æ—¶é—´ã€è½¯ç¡¬è¿æ¥ç­‰ã€‚</p><p>3ï¼‰æ— éœ€ç‰¹æ®Šæƒé™å³å¯å®‰è£…ã€‚</p><p>4ï¼‰å¿«é€Ÿï¼šç¬¬ä¸€æ¬¡åŒæ­¥æ—¶rsyncå¤åˆ¶å…¨éƒ¨å†…å®¹ï¼Œä½†åœ¨ä¸‹ä¸€æ¬¡å€¼ä¼ è¾“ä¿®æ”¹è¿‡çš„å†…å®¹</p><p>5ï¼‰å‹ç¼©ä¼ è¾“ï¼šrysncåœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­å¯ä»¥å®è¡Œå‹ç¼©åŠè§£å‹ç¼©æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨æ›´å°‘çš„å¸¦å®½</p><p>6ï¼‰å®‰å…¨ï¼šå¯ä»¥ä½¿ç”¨scpã€sshç­‰æ–¹å¼æ¥è¿›è¡Œæ–‡ä»¶ä¼ è¾“</p><p>7ï¼‰æ”¯æŒåŒ¿åä¼ è¾“ï¼Œä»¥æ–¹ä¾¿è¿›è¡Œç½‘ç«™é•œåƒ</p><p>8ï¼‰rsyncä¸ä»…å¯ä»¥è¿œç¨‹åŒæ­¥æ•°æ®ï¼ˆç±»ä¼¼äºscpï¼‰ï¼Œè€Œä¸”å¯ä»¥æœ¬åœ°åŒæ­¥æ•°æ®ï¼ˆç±»ä¼¼äºcpï¼‰ï¼Œåšå·®å¼‚åŒæ­¥</p><p>9ï¼‰openssh 8.0å·²ç»æŠŠscpæ ‡è®°ä¸ºè¿‡æ—¶ä¸å»ºè®®ä½¿ç”¨äº†ã€‚å»ºè®®ç”¨sftpæˆ–è€…rsyncæ›¿ä»£scp</p><p>==éœ€è¦åœ¨Liunx/UnixæœåŠ¡å™¨ä¹‹é—´äº’ä¼ æµ·é‡æ•°æ®æ—¶ï¼Œå»ºè®®é€‰æ‹©rsyncè¿›è¡Œä¼ è¾“==</p></li><li><p>rsyncè®¤è¯æ–¹å¼</p><p>rsyncæœ‰ä¸¤ç§å¸¸ç”¨çš„è®¤è¯æ–¹å¼ï¼Œä¸€ç§æ˜¯rsync-daemonæ–¹å¼ï¼Œå¦å¤–ä¸€ç§æ˜¯sshæ–¹å¼ã€‚åœ¨å¹³æ—¶ä½¿ç”¨è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„æ˜¯rsync-daemonæ–¹å¼ã€‚</p><p><strong>æ³¨æ„ï¼šåœ¨ä½¿ç”¨rsyncæ—¶ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½å¿…é¡»å®‰è£…rsyncç¨‹åº</strong>ã€‚</p><p>1ï¼‰<strong>rsync-daemon è®¤è¯</strong></p><p>rsyncåœ¨rsync-daemonè®¤è¯æ–¹å¼ä¸‹ï¼Œé»˜è®¤ç›‘å¬TCPçš„873ç«¯å£ã€‚</p><p>rsync-daemonè®¤è¯æ–¹å¼æ˜¯rsyncçš„ä¸»è¦è®¤è¯æ–¹å¼ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„è®¤è¯æ–¹å¼ã€‚å¹¶ä¸”ä¹Ÿåªæœ‰åœ¨æ­¤ç§æ¨¡å¼ä¸‹ï¼Œrsyncæ‰å¯ä»¥æŠŠå¯†ç å†™å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p><p>æ³¨æ„ï¼š<br>rsync-daemonè®¤è¯æ–¹å¼ï¼Œéœ€è¦æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½å®‰è£…rsyncæœåŠ¡å¹¶ä¸”åªéœ€è¦rsyncæœåŠ¡å™¨ç«¯å¯åŠ¨rsyncï¼ŒåŒæ—¶é…ç½®rsyncé…ç½®æ–‡ä»¶ã€‚å®¢æˆ·ç«¯å¯åŠ¨ä¸å¯åŠ¨rsyncæœåŠ¡ï¼Œéƒ½ä¸å½±å“åŒæ­¥çš„æ­£å¸¸è¿›è¡Œã€‚</p><p>2ï¼‰<strong>sshè®¤è¯</strong></p><p>rsyncåœ¨sshè®¤è¯æ–¹å¼ä¸‹ï¼Œå¯é€šè¿‡ç³»ç»Ÿç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œå³åœ¨rsyncä¸Šé€šè¿‡sshéš§é“è¿›è¡Œä¼ è¾“ï¼Œç±»ä¼¼äºscpå·¥å…·ã€‚æ­¤æ—¶åŒæ­¥æ“ä½œä¸åœ¨å±€é™äºrsyncä¸­å®šä¹‰çš„åŒæ­¥æ–‡ä»¶å¤¹ã€‚</p><p>æ³¨æ„ï¼š<br>sshè®¤è¯æ–¹å¼ï¼Œä¸éœ€è¦æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯é…ç½®rsyncé…ç½®æ–‡ä»¶åªéœ€è¦åŒæ–¹éƒ½å®‰è£…rsyncæœåŠ¡ï¼Œå¹¶ä¸”ä¹Ÿä¸éœ€è¦åŒæ–¹å¯åŠ¨rsyncã€‚</p><p>è‹¥rsyncæœåŠ¡ç«¯SSHä¸ºæ ‡å‡†ç«¯å£ï¼Œæ­¤æ—¶rsyncä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><p>rsync -avz /root/test <a href="mailto:root@10.10.10.10">root@10.10.10.10</a>:/root/</p><p>è‹¥rsyncæœåŠ¡ç«¯SSHä¸ºéæ ‡å‡†ç«¯å£ï¼Œå¯é€šè¿‡rsyncçš„-eå‚æ•°è¿›è¡Œç«¯å£æŒ‡å®šã€‚ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><p>rsync -avz /root/test -e â€˜ssh -p1234â€™ <a href="mailto:root@10.10.10.10">root@10.10.10.10</a>:/root/</p></li><li><p>å®‰è£…rsync</p><p>1ï¼‰æºç å®‰è£…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æºç æ–¹å¼å®‰è£…rsyncï¼Œéœ€è¦åˆ°å…¶å®˜ç½‘ä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…ã€‚rsyncå®˜ç½‘ï¼šrsync.samba.org </span></span><br><span class="line"></span><br><span class="line">1)ã€ä¸‹è½½</span><br><span class="line">wget https://download.samba.org/pub/rsync/src/rsync-3.2.3.tar.gz</span><br><span class="line"></span><br><span class="line">2)ã€è§£å‹å¹¶å®‰è£…</span><br><span class="line">tar -xvf rsync-3.2.3.tar.gz</span><br><span class="line"></span><br><span class="line">3)ã€ç¼–è¯‘å®‰è£…</span><br><span class="line"><span class="comment"># æºç å®‰è£…rsyncæ—¶ï¼Œå…¶ç¼–è¯‘æ—¶æ‰€éœ€è¦çš„gccåº“æ–‡ä»¶å°½é‡æå‰å®‰è£…å®Œæ¯•</span></span><br><span class="line"><span class="comment"># é»˜è®¤å®‰è£…åˆ°/usr/local/ç›®å½•ä¸‹</span></span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp;make install</span><br><span class="line"></span><br><span class="line">4)ã€è®¾ç½®å¼€æœºå¯åŠ¨</span><br><span class="line"><span class="built_in">echo</span> â€œ/usr/local/bin/rsync --daemon -config=/etc/rsyncd.confâ€ &gt;&gt;/etc/profile</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2ï¼‰yumå®‰è£…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install  rsync</span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å¼€æœºå¯åŠ¨</span></span><br><span class="line"><span class="built_in">echo</span> â€œ/usr/local/bin/rsync --daemon -config=/etc/rsyncd.confâ€ &gt;&gt;/etc/profile</span><br></pre></td></tr></table></figure></li><li><p>é…ç½®rsync daemon</p><p>rsyncçš„é…ç½®åˆ†ä¸ºæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯,ä½¿ç”¨rsyncåè®®ï¼Œéœ€è¦æœåŠ¡ç«¯å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ã€‚</p><p>1ï¼‰<strong>æœåŠ¡ç«¯é…ç½®</strong> <code>vim /etc/rsyncd.conf</code></p><ul><li><p><strong>å‡†å¤‡rsyncé…ç½®æ–‡ä»¶</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥ rsync ç”¨æˆ·å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line">uid = rsync</span><br><span class="line">gid = rsync</span><br><span class="line"></span><br><span class="line"> <span class="comment"># æ— éœ€è®©rsyncä»¥rootèº«ä»½è¿è¡Œï¼Œå…è®¸æ¥æ”¶æ–‡ä»¶çš„å®Œæ•´å±æ€§</span></span><br><span class="line">fake super = <span class="built_in">yes</span>       </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦é”¢æ¨é€çš„æ•°æ®è‡³æŸä¸ªç›®å½•, ä¸å…è®¸è·³å‡ºè¯¥ç›®å½•</span></span><br><span class="line">use <span class="built_in">chroot</span> = no                </span><br><span class="line"></span><br><span class="line">max connections = 200          <span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line"><span class="built_in">timeout</span> = 600                  <span class="comment"># è¶…æ—¶æ—¶é—´</span></span><br><span class="line">ignore errors                  <span class="comment"># å¿½ç•¥é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> only = <span class="literal">false</span>              <span class="comment"># å¯¹å¤‡ä»½æ•°æ®å¯è¯»å†™</span></span><br><span class="line"></span><br><span class="line">list = <span class="literal">false</span>                   <span class="comment"># ä¸å…è®¸æŸ¥çœ‹æ¨¡å—ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰è™šæ‹Ÿç”¨æˆ·ï¼Œä½œä¸ºè¿æ¥è®¤è¯ç”¨æˆ·</span></span><br><span class="line">auth <span class="built_in">users</span> = myuser </span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰rsyncæœåŠ¡ç”¨æˆ·è¿æ¥è®¤è¯å¯†ç æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">secrets file = /etc/rsync.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment">#### å®šä¹‰æ¨¡å—ä¿¡æ¯</span></span><br><span class="line">[backup]                </span><br><span class="line">comment = commit        <span class="comment"># æ¨¡å—æ³¨é‡Šä¿¡æ¯</span></span><br><span class="line">path = /backup          <span class="comment"># å®šä¹‰æ¥æ”¶å¤‡ä»½æ•°æ®ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åªå…è®¸10.10.10æ®µipè¿æ¥</span></span><br><span class="line">hosts allow = 10.10.10.0/24</span><br></pre></td></tr></table></figure></li><li><p><strong>é…ç½®å¹¶å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éœ€è¦ä¸€ä¸ªrsyncè¿›ç¨‹è¿è¡Œæ—¶ä½¿ç”¨çš„æ™®é€šç”¨æˆ· rsync</span></span><br><span class="line">useradd rsync -M -s /sbin/nologin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡ç«¯éœ€è¦å®šä¹‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥    è™šæ‹Ÿç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line"><span class="comment"># å¯†ç æ–‡ä»¶å½¢å¼  user:passwd</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;rsync_backup:Qweasz123456.&quot;</span> &gt; /etc/rsync.passwd</span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/rsync.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†å¤‡æ¨¡å—å®šä¹‰å¥½çš„ç›®å½•,å®¢æˆ·ç«¯çš„æ•°æ®éƒ½å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹</span></span><br><span class="line"><span class="built_in">mkdir</span> /backup</span><br><span class="line"><span class="built_in">chown</span> -R rsync.rsync /backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">rsync --daemon</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡</span></span><br><span class="line">ps aux | grep rsync</span><br><span class="line">netstat -lntp|grep 873</span><br></pre></td></tr></table></figure></li></ul><p>2ï¼‰<strong>å®¢æˆ·ç«¯ä½¿ç”¨</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å®¢æˆ·ç«¯å®‰è£…å®Œæ¯•rsyncæœåŠ¡åï¼Œæ˜¯ä¸éœ€è¦å¯åŠ¨rsyncæœåŠ¡çš„ã€‚</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬åªéœ€è¦åœ¨å®¢æˆ·ç«¯åˆ›å»ºè¿æ¥rsyncæœåŠ¡å™¨æ—¶ï¼ŒéªŒè¯ç ç”¨æˆ·æ‰€éœ€è¦çš„å¯†ç æ–‡ä»¶å³å¯ã€‚</span></span><br><span class="line"><span class="comment"># è¯¥å¯†ç æ–‡ä»¶ä¸­çš„å¯†ç è¦ä¸rsyncæœåŠ¡å™¨ä¸Šçš„å¯†ç æ–‡ä»¶ä¸­çš„å¯†ç å¯¹åº”</span></span><br><span class="line"><span class="comment"># å¹¶ä¸”ä¹Ÿè¦ä¸rsyncæœåŠ¡å™¨rsyncd.confé…ç½®æ–‡ä»¶ä¸­çš„è®¤è¯æ¨¡å—ä¸­çš„ç”¨æˆ·åŒ¹é…ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> â€œpasswordâ€&gt;&gt;/etc/rsync.passwd</span><br><span class="line"></span><br><span class="line"><span class="built_in">chmod</span> 600 /etc/rsync.passwd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ rsync å®ˆæŠ¤ç¨‹åºåˆ†é…çš„æ‰€æœ‰ module åˆ—è¡¨ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤ã€‚</span></span><br><span class="line">rsync rsync://10.10.10.10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…·ä½“å†™æ³•æ˜¯æœåŠ¡å™¨ä¸ç›®æ ‡ç›®å½•ä¹‹é—´ä½¿ç”¨åŒå†’å·åˆ†éš”`::`</span></span><br><span class="line"><span class="comment"># åœ°å€ä¸­çš„moduleå¹¶ä¸æ˜¯å®é™…è·¯å¾„åï¼Œè€Œæ˜¯ rsync å®ˆæŠ¤ç¨‹åºæŒ‡å®šçš„æ¨¡å—å</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠæœ¬åœ°çš„æ–‡ä»¶åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment"># rsync [OPTION]â€¦ [SRC]â€¦ [USER@]HOST::DEST</span></span><br><span class="line"><span class="comment"># rsync [é€‰é¡¹] [--port=]  [--password-file=] [/local/path] [ç”¨æˆ·å]@æœåŠ¡ç«¯IP::[æ¨¡å—å]</span></span><br><span class="line"></span><br><span class="line">rsync -av --password-file=/etc/rsync.passwd <span class="built_in">local</span>/ myuser@10.10.10.10::backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠè¿œç¨‹æœºå™¨çš„æ–‡ä»¶åŒæ­¥åˆ°æœ¬åœ°</span></span><br><span class="line"><span class="comment"># rsync [OPTION]â€¦ [USER@]HOST::SRC [DEST]</span></span><br><span class="line"><span class="comment"># rsync [é€‰é¡¹] [--port=] [--password-file=] [ç”¨æˆ·å@]æœåŠ¡ç«¯IP::[æ¨¡å—å]  [/local/path]</span></span><br><span class="line"></span><br><span class="line">rsync -av --password-file=/etc/rsync.passwd myuser@10.10.10.10::backup <span class="built_in">local</span>/</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨rsync</p><p>1ï¼‰åŒæ­¥æ¨¡å¼æ¨¡å¼</p><ul><li><p>æœ¬åœ°åŒæ­¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##æœ¬åœ°  rsync   é€‰é¡¹       æº      ç›®æ ‡</span></span><br><span class="line">Local:  rsync [OPTION...] SRC... [DEST]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†/etcç›®å½•å¤‡ä»½åˆ°/optç›®å½•ä¸‹ï¼Œå’Œcpçš„åŒºåˆ«åœ¨äºä¼šè‡ªåŠ¨å¢é‡å¤‡ä»½</span></span><br><span class="line">rsync -avz /etc /opt</span><br></pre></td></tr></table></figure></li><li><p>è¿œç¨‹åŒæ­¥</p><p><strong>sshåè®®</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤ä½¿ç”¨ SSH è¿›è¡Œè¿œç¨‹ç™»å½•å’Œæ•°æ®ä¼ è¾“</span></span><br><span class="line"><span class="comment"># ä¸éœ€è¦åšä»»ä½•é…ç½®ï¼Œéœ€è¦éƒ½å®‰è£…rsyncï¼Œæ“ä½œä¸Šç±»ä¼¼scp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†è¿œç«¯æ–‡ä»¶æ‹‰ï¼ˆä¸‹è½½ï¼‰åˆ°æœ¬åœ°</span></span><br><span class="line">Pull: rsync [OPTION...] [USER@]HOST:SRC... [DEST]</span><br><span class="line">         </span><br><span class="line"><span class="comment">#å°†æœ¬åœ°æ–‡ä»¶æ¨é€ï¼ˆä¸Šä¼ ï¼‰åˆ°è¿œç«¯</span></span><br><span class="line">Push: rsync [OPTION...] SRC... [USER@]HOST:DEST</span><br><span class="line"> </span><br><span class="line"><span class="comment">#å°†etcæ¨é€åˆ°10.10.10.10ä¸‹çš„è‡ªå®šä¹‰æ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line">rsync -az /etc/ 10.10.10.10:/opt/etc-$(hostname)-$(<span class="built_in">date</span> +%F)</span><br></pre></td></tr></table></figure><p><strong>rsyncåè®®</strong></p><p>ä½¿ç”¨rsyncåè®®ï¼Œéœ€è¦æœåŠ¡ç«¯å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹</p></li></ul><p>2ï¼‰å‘½ä»¤å‚æ•°</p><blockquote><p>å¸¸ç”¨å‚æ•°</p><p>-v, â€“verboseè¯¦ç»†æ¨¡å¼è¾“å‡ºã€‚</p><p>-a, â€“archiveå½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§ä¸å˜ã€‚</p><p>-z, â€“compresså¯¹å¤‡ä»½çš„æ–‡ä»¶åœ¨ä¼ è¾“æ—¶è¿›è¡Œå‹ç¼©å¤„ç†ã€‚</p><p>â€“deleteï¼šåˆ é™¤é‚£äº›DSTä¸­å­˜åœ¨è€Œåœ¨SRCä¸­æ²¡æœ‰çš„æ–‡ä»¶ã€‚</p><p>æ‰€æœ‰å‚æ•°</p><p>-aï¼šâ€“archive archive mode æƒé™ä¿å­˜æ¨¡å¼ï¼Œç›¸å½“äº -rlptgoD å‚æ•°ï¼Œå­˜æ¡£ï¼Œé€’å½’ï¼Œä¿æŒå±æ€§ç­‰ã€‚<br>-rï¼šâ€“recursive å¤åˆ¶æ‰€æœ‰ä¸‹é¢çš„èµ„æ–™ï¼Œé€’å½’å¤„ç†ã€‚<br>-pï¼šâ€“perms ä¿ç•™æ¡£æ¡ˆæƒé™ï¼Œæ–‡ä»¶åŸæœ‰å±æ€§ã€‚<br>-tï¼šâ€“times ä¿ç•™æ—¶é—´ç‚¹ï¼Œæ–‡ä»¶åŸæœ‰æ—¶é—´ã€‚<br>-gï¼šâ€“group ä¿ç•™åŸæœ‰å±ç»„ã€‚<br>-oï¼šâ€“owner ä¿ç•™æ¡£æ¡ˆæ‰€æœ‰è€…(root only)ã€‚<br>-Dï¼šâ€“devices ä¿ç•™deviceèµ„è®¯(root only)ã€‚<br>-lï¼šâ€“links å¤åˆ¶æ‰€æœ‰çš„è¿æ¥ï¼Œæ‹·è´è¿æ¥æ–‡ä»¶ã€‚<br>-zï¼šâ€“compress å‹ç¼©æ¨¡å¼ï¼Œå½“èµ„æ–™åœ¨ä¼ é€åˆ°ç›®çš„ç«¯è¿›è¡Œæ¡£æ¡ˆå‹ç¼©ã€‚<br>-Hï¼šâ€“hard-links ä¿ç•™ç¡¬é“¾æ¥æ–‡ä»¶ã€‚<br>-Aï¼šâ€“acls ä¿ç•™ACLå±æ€§æ–‡ä»¶ï¼Œéœ€è¦é…åˆâ€“permsã€‚<br>-Pï¼š-På‚æ•°å’Œ --partial --progress ç›¸åŒï¼Œåªæ˜¯ä¸ºäº†æŠŠå‚æ•°ç®€å•åŒ–ï¼Œè¡¨ç¤ºä¼ è¿›åº¦ã€‚<br>â€“versionï¼šè¾“å‡ºrsyncç‰ˆæœ¬ã€‚<br>-vï¼šâ€“verbose å¤æ‚çš„è¾“å‡ºä¿¡æ¯ã€‚<br>-uï¼šâ€“update ä»…ä»…è¿›è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è·³è¿‡å·²ç»å­˜åœ¨çš„ç›®æ ‡ä½ç½®ï¼Œå¹¶ä¸”æ–‡ä»¶æ—¶é—´è¦æ™šäºè¦å¤‡ä»½çš„æ–‡ä»¶ï¼Œä¸è¦†ç›–æ–°çš„æ–‡ä»¶ã€‚<br>â€“port=PORTï¼šå®šä¹‰rsyncd(daemon)è¦è¿è¡Œçš„port(é¢„è®¾ä¸ºtcp 873)ã€‚</p><p>â€“deleteï¼šåˆ é™¤é‚£äº›ç›®æ ‡ä½ç½®æœ‰çš„æ–‡ä»¶è€Œå¤‡ä»½æºæ²¡æœ‰çš„æ–‡ä»¶ã€‚</p><p>â€“delete-before: æ¥æ”¶è€…åœ¨ä¼ è¾“ä¹‹å‰è¿›è¡Œåˆ é™¤æ“ä½œ</p><p>â€“password-file=FILE ï¼šä» æŒ‡å®šå¯†ç æ–‡ä»¶ä¸­è·å–å¯†ç ã€‚<br>â€“bwlimit=KBPSï¼šé™åˆ¶ I/O å¸¦å®½ã€‚<br>â€“filter â€œ-filenameâ€ï¼šéœ€è¦è¿‡æ»¤çš„æ–‡ä»¶ã€‚<br>â€“exclude=filnameï¼šéœ€è¦è¿‡æ»¤çš„æ–‡ä»¶ã€‚<br>â€“progressï¼šæ˜¾ç¤ºå¤‡ä»½è¿‡ç¨‹ã€‚</p></blockquote></li><li><p>rsyncd.conf è¯¦è§£</p><p>1ï¼‰å…¨å±€å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨ç‹¬ç«‹è¿è¡Œæ—¶ï¼Œç”¨äºæŒ‡å®šçš„æœåŠ¡å™¨è¿è¡Œçš„ IP åœ°å€</span></span><br><span class="line">address = IP</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line">port = 873 </span><br><span class="line"></span><br><span class="line"><span class="comment"># rsync çš„å®ˆæŠ¤è¿›ç¨‹å°†å…¶ PID å†™å…¥æŒ‡å®šçš„æ–‡ä»¶</span></span><br><span class="line">pid file = /var/run/rsyncd.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæ”¯æŒ max connections å‚æ•°çš„é”æ–‡ä»¶</span></span><br><span class="line">lock file = /var/run/rsync.lock</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®š rsync å®ˆæŠ¤è¿›ç¨‹çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œä¸å°†æ—¥å¿—å‘é€ç»™ syslog</span></span><br><span class="line"><span class="built_in">log</span> file = /var/log/rsyncd.log</span><br><span class="line"></span><br><span class="line"><span class="comment">#========== æ§åˆ¶å‚æ•° =============#</span></span><br><span class="line"> <span class="comment"># ä»¥æŒ‡å®šçš„ UID ä¼ è¾“æ–‡ä»¶</span></span><br><span class="line">uid = rsync        </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šè¯¥æ¨¡å—ä»¥æŒ‡å®šçš„ GID ä¼ è¾“æ–‡ä»¶ã€‚</span></span><br><span class="line">gid = rsync                     </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦é”¢æ¨é€çš„æ•°æ®è‡³æŸä¸ªç›®å½•, ä¸å…è®¸è·³å‡ºè¯¥ç›®å½•,</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º yesï¼Œåˆ™ rsync åœ¨ä¼ è¾“æ–‡ä»¶ä¹‹å‰é¦–å…ˆ chroot åˆ° path å‚æ•°æ‰€æŒ‡å®šçš„ç›®å½•ä¸‹</span></span><br><span class="line"><span class="comment"># è¿™æ ·åšçš„åŸå› æ˜¯å®ç°é¢å¤–çš„å®‰å…¨é˜²æŠ¤ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯éœ€è¦ root æƒé™</span></span><br><span class="line"><span class="comment"># å¹¶ä¸”ä¸èƒ½å¤‡ä»½æŒ‡å‘ path å¤–éƒ¨çš„ç¬¦å·è¿æ¥æ‰€æŒ‡å‘çš„ç›®å½•æ–‡ä»¶</span></span><br><span class="line">use <span class="built_in">chroot</span> = no                </span><br><span class="line"></span><br><span class="line"><span class="comment"># æ— éœ€è®©rsyncä»¥rootèº«ä»½è¿è¡Œï¼Œå…è®¸æ¥æ”¶æ–‡ä»¶çš„å®Œæ•´å±æ€§</span></span><br><span class="line">fake super = <span class="built_in">yes</span>                </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤§å¹¶å‘è¿æ¥æ•°é‡ä»¥ä¿æŠ¤æœåŠ¡å™¨ï¼Œè¶…è¿‡é™åˆ¶çš„è¿æ¥è¯·æ±‚å°†è¢«å‘ŠçŸ¥éšåå†è¯•</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º0 ï¼ˆæ²¡æœ‰é™åˆ¶ï¼‰</span></span><br><span class="line">max connections = 200</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¶…æ—¶æ—¶é—´</span></span><br><span class="line"><span class="built_in">timeout</span> = 600                  </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šåœ¨ rsync æœåŠ¡å™¨ä¸Šè¿è¡Œ delete æ“ä½œæ—¶æ˜¯å¦å¿½ç•¥ I/O é”™è¯¯ã€‚</span></span><br><span class="line"><span class="comment"># ä¸€èˆ¬æ¥è¯´ rsync åœ¨å‡ºç° I/O é”™è¯¯æ—¶å°†å°†è·³è¿‡ â€“delete æ“ä½œ</span></span><br><span class="line"><span class="comment"># ä»¥é˜²æ­¢å› ä¸ºæš‚æ—¶çš„èµ„æºä¸è¶³æˆ–å…¶å®ƒ I/O é”™è¯¯å¯¼è‡´çš„ä¸¥é‡é—®é¢˜ã€‚</span></span><br><span class="line">ignore errors </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šæ˜¯å¦å…è®¸å®¢æˆ·ä¸Šä¼ æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸ºtrueï¼Œä¸å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼Œ</span></span><br><span class="line"><span class="comment"># è‹¥ä¸º false å¹¶ä¸”æœåŠ¡å™¨ç›®å½•ä¹Ÿå…·æœ‰è¯»å†™æƒé™åˆ™å…è®¸ä¸Šä¼ ã€‚</span></span><br><span class="line"><span class="built_in">read</span> only = <span class="literal">false</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå½“å®¢æˆ·è¯·æ±‚åˆ—å‡ºå¯ä»¥ä½¿ç”¨çš„æ¨¡å—åˆ—è¡¨æ—¶ï¼Œè¯¥æ¨¡å—æ˜¯å¦åº”è¯¥è¢«åˆ—å‡ºã€‚</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸º trueï¼Œå¦‚æœè®¾ç½®è¯¥é€‰é¡¹ä¸º falseï¼Œå¯ä»¥åˆ›å»ºéšè—çš„æ¨¡å—</span></span><br><span class="line">list = <span class="literal">false</span>                  </span><br></pre></td></tr></table></figure><p>2ï¼‰å±€éƒ¨å‚æ•°</p><p>æ¨¡å—å‚æ•°ä¸»è¦ç”¨äºå®šä¹‰ rsync æœåŠ¡å™¨å“ªä¸ªç›®å½•è¦è¢«åŒæ­¥ã€‚</p><p>æ¨¡å—å£°æ˜çš„æ ¼å¼å¿…é¡»ä¸º [module] å½¢å¼ï¼Œè¿™ä¸ªåå­—å°±æ˜¯åœ¨ rsync å®¢æˆ·ç«¯çœ‹åˆ°çš„åå­—ï¼Œç±»ä¼¼äº Samba æœåŠ¡å™¨æä¾›çš„å…±äº«åã€‚</p><p>è€ŒæœåŠ¡å™¨çœŸæ­£åŒæ­¥çš„æ•°æ®æ˜¯é€šè¿‡ path æ¥æŒ‡å®šçš„ã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œæ¥æŒ‡å®šå¤šä¸ªæ¨¡å—ï¼Œæ¨¡å—ä¸­å¯ä»¥å®šä¹‰ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li><p>åŸºæœ¬æ¨¡å—å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šæ¨¡å—å</span></span><br><span class="line">[backup]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå½“å‰æ¨¡å—åœ¨ rsync æœåŠ¡å™¨ä¸Šçš„åŒæ­¥è·¯å¾„ï¼Œè¯¥å‚æ•°æ˜¯å¿…é¡»æŒ‡å®šçš„</span></span><br><span class="line">path = /backup  </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»™æ¨¡å—æŒ‡å®šä¸€ä¸ªæè¿°ï¼Œè¯¥æè¿°è¿åŒæ¨¡å—ååœ¨å®¢æˆ·è¿æ¥å¾—åˆ°æ¨¡å—åˆ—è¡¨æ—¶æ˜¾ç¤ºç»™å®¢æˆ·</span></span><br><span class="line">comment = commit</span><br></pre></td></tr></table></figure></li><li><p>æ¨¡å—æ–‡ä»¶ç­›é€‰å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‡å®šå¤šä¸ªç”±ç©ºæ ¼éš”å¼€çš„å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•(ç›¸å¯¹è·¯å¾„)</span></span><br><span class="line"><span class="comment"># å¹¶å°†å…¶æ·»åŠ åˆ° exclude åˆ—è¡¨ä¸­ã€‚è¿™ç­‰åŒäºåœ¨å®¢æˆ·ç«¯å‘½ä»¤ä¸­ä½¿ç”¨ â€“exclude æ¥æŒ‡å®šæ¨¡å¼ã€‚</span></span><br><span class="line">exclude = exclude_file</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸ªåŒ…å« exclude è§„åˆ™å®šä¹‰çš„æ–‡ä»¶åï¼ŒæœåŠ¡å™¨ä»è¯¥æ–‡ä»¶ä¸­è¯»å– exclude åˆ—è¡¨å®šä¹‰</span></span><br><span class="line">exclude from = exclude-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå¤šä¸ªç”±ç©ºæ ¼éš”å¼€çš„å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•(ç›¸å¯¹è·¯å¾„)ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° include åˆ—è¡¨ä¸­ã€‚</span></span><br><span class="line"><span class="comment"># è¿™ç­‰åŒäºåœ¨å®¢æˆ·ç«¯å‘½ä»¤ä¸­ä½¿ç”¨ â€“include æ¥æŒ‡å®šæ¨¡å¼ ã€‚</span></span><br><span class="line">include = include-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸ªåŒ…å« include è§„åˆ™å®šä¹‰çš„æ–‡ä»¶åï¼ŒæœåŠ¡å™¨ä»è¯¥æ–‡ä»¶ä¸­è¯»å– include åˆ—è¡¨å®šä¹‰</span></span><br><span class="line">include from = exclude-file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€ä¸ªæ¨¡å—åªèƒ½æŒ‡å®šä¸€ä¸ªexclude å‚æ•°ã€ä¸€ä¸ªinclude å‚æ•°</span></span><br><span class="line"><span class="comment"># ç»“åˆ include å’Œ exclude å¯ä»¥å®šä¹‰å¤æ‚çš„exclude/include è§„åˆ™</span></span><br><span class="line"><span class="comment"># è¿™å‡ ä¸ªå‚æ•°åˆ†åˆ«ä¸ç›¸åº”çš„rsync å®¢æˆ·å‘½ä»¤é€‰é¡¹ç­‰ä»·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯å®ƒä»¬ä½œç”¨åœ¨æœåŠ¡å™¨ç«¯</span></span><br></pre></td></tr></table></figure></li><li><p>æ¨¡å—ç”¨æˆ·è®¤è¯å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rsync é»˜è®¤åŒ¿åæ–¹å¼ä¼ è¾“</span></span><br><span class="line"><span class="comment"># è‹¥åªé…ç½®åŒ¿åè®¿é—®çš„ rsync æœåŠ¡å™¨ï¼Œåˆ™æ— éœ€è®¾ç½®ä¸‹è¿°å‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç”±ç©ºæ ¼æˆ–é€—å·åˆ†éš”çš„ç”¨æˆ·ååˆ—è¡¨ï¼Œåªæœ‰è¿™äº›ç”¨æˆ·æ‰å…è®¸è¿æ¥è¯¥æ¨¡å—ã€‚</span></span><br><span class="line"><span class="comment"># è¿™é‡Œçš„ç”¨æˆ·å’Œç³»ç»Ÿç”¨æˆ·æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ç”¨æˆ·åå’Œå£ä»¤ä»¥æ˜æ–‡æ–¹å¼å­˜æ”¾åœ¨ secrets file å‚æ•°æŒ‡å®šçš„æ–‡ä»¶ä¸­</span></span><br><span class="line">auth <span class="built_in">users</span> = user_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šä¸€ä¸ª rsync è®¤è¯å£ä»¤æ–‡ä»¶ã€‚åªæœ‰åœ¨ auth users è¢«å®šä¹‰æ—¶ï¼Œè¯¥æ–‡ä»¶æ‰èµ·ä½œç”¨</span></span><br><span class="line">secrets file = /etc/rsync.passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># rsync è®¤è¯å£ä»¤æ–‡ä»¶çš„æƒé™ä¸€å®šæ˜¯ 600ï¼Œå¦åˆ™å®¢æˆ·ç«¯å°†ä¸èƒ½è¿æ¥æœåŠ¡å™¨ã€‚</span></span><br><span class="line"><span class="comment"># rsync è®¤è¯å£ä»¤æ–‡ä»¶ä¸­æ¯ä¸€è¡ŒæŒ‡å®šä¸€ä¸ª ç”¨æˆ·å:å£ä»¤ å¯¹ï¼Œæ ¼å¼ä¸ºï¼š</span></span><br><span class="line"><span class="comment"># username:passwd</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€èˆ¬æ¥è¯´å£ä»¤æœ€å¥½ä¸è¦è¶…è¿‡8ä¸ªå­—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€ä¸ªrsyncé…ç½®æ–‡ä»¶ä¸­å¯ä»¥åŒ…å«å¤šä¸ªè®¤è¯æ¨¡å—ï¼ŒåŒæ—¶ä¸€ä¸ªå¯†ç æ–‡ä»¶ä¸­ä¹Ÿå¯ä»¥å­˜æ”¾å¤šä¸ªç”¨æˆ·å’Œå…¶å¯¹åº”çš„å¯†ç ã€‚</span></span><br><span class="line"><span class="comment"># å…¶ä¸­æ¯ä¸€ä¸ªè®¤è¯æ¨¡å—å¯ä»¥å¯¹åº”ä¸åŒçš„å®¢æˆ·ç«¯ã€‚</span></span><br></pre></td></tr></table></figure></li></ul></li></ol><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>abc <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>^abc <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">Linux å…¨ç§°GNU/Linuxï¼Œæ˜¯ä¸€ç§å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±»UNIXæ“ä½œç³»ç»Ÿï¼Œå…¶å†…æ ¸ç”±æ—çº³æ–¯Â·æœ¬çº³ç¬¬å…‹ç‰¹Â·æ‰˜ç“¦å…¹äº1991å¹´10æœˆ5æ—¥é¦–æ¬¡å‘å¸ƒï¼Œå®ƒä¸»è¦å—åˆ°Minixå’ŒUnixæ€æƒ³çš„å¯å‘ï¼Œæ˜¯ä¸€ä¸ªåŸºäºPOSIXçš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡ã€æ”¯æŒå¤šçº¿ç¨‹å’Œå¤šCPUçš„æ“ä½œç³»ç»Ÿã€‚</summary>
    
    
    
    <category term="Note" scheme="https://blog.halfsummer.xyz/categories/Note/"/>
    
    <category term="Program" scheme="https://blog.halfsummer.xyz/categories/Note/Program/"/>
    
    
    <category term="ç¼–ç¨‹" scheme="https://blog.halfsummer.xyz/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="è¿ç»´" scheme="https://blog.halfsummer.xyz/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="Linux" scheme="https://blog.halfsummer.xyz/tags/Linux/"/>
    
  </entry>
  
</feed>
